var m=Symbol();var L=(o,t,a)=>((typeof t!="object"||t._===m||Array.isArray(t))&&(a=t,t=void 0),{_:m,a:t,c:a?Array.isArray(a)?a:[a]:[],t:o.toUpperCase()});var T=function(o){return Array.isArray(o)?o:[o]};var E=o=>{var a;let t=[];for(let i=0;i<o.childNodes.length;i++)if(o instanceof Text)t.push((a=o.textContent)!=null?a:"");else{let e={};for(let c=0;c<o.attributes.length;c++){let n=o.attributes[c];e[n.name]=n.value}t.push(L(o.nodeName,e,E(o)))}return t};var j=/[A-Z]+(?![a-z])|[A-Z]/g,I=(o,t)=>(t?"-":"")+o,h=(o,t,a)=>{if(t)for(let i in t){let e=t[i];if(e){let c=typeof e;if(c==="function"){o.addEventListener(i,e);continue}else{if(i==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let n="";for(let d in e)e[d]&&(n+=" "+d);e=n}}else if(i==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let n="";for(let d in e){let r=e[d];d=d.replace(j,I).toLowerCase(),Array.isArray(r)?n+=";"+d+":"+r.join(" "):r&&(n+=";"+d+":"+r)}e=n}}else c==="boolean"?e="true":c!=="string"&&(e=e.toString()),i==="value"&&o.value!==e?o.value=e:i==="checked"&&(o.checked=t[i]);o.setAttribute(i,e)}}}if(a)for(let i in a)typeof a[i]=="function"?o.removeEventListener(i,a[i]):(!t||!(i in t)||!t[i])&&(i==="value"?o.value="":i==="checked"&&(o.checked=!1),o.removeAttribute(i))},Z=(o,t)=>{let a=(e,c,n,d)=>{var b,x,A;let r=0,u=0;if(c)for(;r<c.length;r++){let s=c[r],v=!1;if(n)for(let f=r-u;f<n.length;f++){let N=n[f];if(N.t&&s.t===N.t||!N.t&&!s.t){v=!0,r!==f&&(e.insertBefore(e.childNodes[f+u],e.childNodes[r]),n.splice(r-u,0,...n.splice(f,1))),s.t?(h(e.childNodes[r],s.a,N.a),a(e.childNodes[r],s.c,N.c,N)):e.childNodes[r].textContent=typeof s=="string"?s:s.c;break}}if(!v){let f;if(s.t){f=document.createElement(s.t),s.a&&h(f,s.a),s.c&&a(f,s.c);let N=(p,y,g)=>{!y||y.t?p.insertAdjacentElement(g,f):p.parentNode.insertBefore(f,p)};r===0?N(e,d,"afterbegin"):((b=n==null?void 0:n.length)!=null?b:0)+u>r?N(e.childNodes[r],n[r+u],"beforebegin"):N(e,d,"beforeend"),u++}else{f=typeof s=="string"?s:s.c;let N=(p,y,g)=>{!y||y.t?p.insertAdjacentText(g,f):p.parentNode.insertBefore(document.createTextNode(f),p.nextSibling)};r===0?N(e,d,"afterbegin"):((x=n==null?void 0:n.length)!=null?x:0)+u>r?N(e.childNodes[r],n[r+u],"beforebegin"):N(e,d,"beforeend"),u++}}}let l=((A=n==null?void 0:n.length)!=null?A:0)+u;if(l>=r)for(let s=l-1;s>=r;s--)e.childNodes[s].remove()},i=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof t=="string")try{t=JSON.parse(t)}catch(e){t=void 0}return t!=null||(t=E(i)),e=>{e=T(e),a(i,e,t),t=e}};export{L as node,Z as prepare};
//# sourceMappingURL=staark-patch.base.min.js.map
