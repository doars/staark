var g=Symbol();var E=(e,t,o)=>((typeof t!="object"||t._===g||Array.isArray(t))&&(o=t,t=void 0),{_:g,a:t,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var Y=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,p=>"-"+p)).toUpperCase();return e[t]=(p,u)=>E(o,p,u)}});var _="]",H="[",D=".",I="=",v="#",T="'",O='"';var G=e=>{let t=e.length,o=0,p="",u={},i="",a=!0,l=3,y=()=>{if(i){switch(l){case 0:u[i]=a===!0?!0:a,a=!0;break;case 1:if(!u.class){u.class=i;break}u.class+=" "+i;break;case 2:u.id=i;break;case 3:p=i;break}i=""}},s,m,F=()=>{for(m=0;o<t;){if(s=e[o],o++,s===I){a="",s=e[o];let C=s===O,x=s===T;for((C||x)&&(a+=s,o++);o<t;){if(s=e[o],C&&s===O||x&&s===T){a+=s,o++;break}else if(!C&&!x&&s===_)break;a+=s,o++}for((a[0]===O&&a[a.length-1]===O||a[0]===T&&a[a.length-1]===T)&&(a=a.substring(1,a.length-1));o<t&&(s=e[o],o++,s!==_););break}else if(s===H){m++;continue}else if(s===_){if(m--,m<0)break;continue}i+=s}y()};for(;o<t;){if(s=e[o],o++,s===v){y(),l=2;continue}else if(s===D){y(),l=1;continue}else if(s===H){y(),l=0,F();continue}i+=s}return[p,u]};var re=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,p=>"-"+p)).toUpperCase();return e[t]=(p,u)=>{let i;if(p){let[a,l]=G(p);i=l}return E(o,i,u)}}});var se=(e,t)=>({_:g,r:e,m:t});var w=function(e){return Array.isArray(e)?e:[e]};var M=e=>{if(typeof e=="object")if(Array.isArray(e)){let t=[];for(let o=0;o<e.length;o++)t.push(M(e[o]));e=t}else{let t={};for(let o in e)t[o]=M(e[o]);e=t}return e};var P=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e==null||t===null||t===void 0||e.prototype!==t.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(t).length?!1:o.every(p=>P(e[p],t[p]))};var U=(e,t)=>{let o=new WeakMap,p=i=>{if(o.has(i)){let a=o.get(i);o.delete(a);for(let l in a.proxy)typeof a.proxy[l]=="object"&&p(a.proxy[l]);a.revoke()}},u=i=>{if(o.has(i))return o.get(i);for(let l in i)i[l]&&typeof i[l]=="object"&&(i[l]=u(i[l]));let a=Proxy.revocable(i,{deleteProperty:(l,y)=>{if(Reflect.has(l,y)){p(l);let s=Reflect.deleteProperty(l,y);return s&&t(),s}return!0},set:(l,y,s)=>{let m=l[y];return m!==s&&(typeof m=="object"&&p(m),s&&typeof s=="object"&&(s=u(s)),l[y]=s,t()),!0}});return o.set(a,i),a.proxy};return u(e)};var R=/[A-Z]+(?![a-z])|[A-Z]/g,S=(e,t)=>(t?"-":"")+e,me=(e,t,o)=>{o||(o={});let p=!0,u=!1,i,a=()=>{if(p&&(p=!1,i))for(let r=i.childNodes.length-1;r>=0;r--)i.childNodes[r].remove()};if(i=typeof e=="string"?document.querySelector(e):e,!i)throw new Error("No mount");a(),p=!0,i||(i=document.createElement("div"),document.body.appendChild(i));let l=0,y=(r,b=null,N=null)=>{if(b)for(let n in b){let c=b[n];if(c!=null){let d=typeof c;if(d==="function"){let A=b[n]=f=>{l++,c(f),l--,k()};r.addEventListener(n,A);continue}else{if(d==="boolean"?c=c?"true":"false":d!=="string"&&(c=c.toString()),n==="class"){if(typeof c=="object")if(Array.isArray(c))c=c.join(" ");else{let A="";for(let f in c)c[f]&&(A+=" "+f);c=A}}else if(n==="style"){if(typeof c=="object")if(Array.isArray(c))c=c.join(";");else{let A="";for(let f in c){let h=c[f];f=f.replace(R,S).toLowerCase(),Array.isArray(h)?A+=";"+f+":"+h.join(" "):c&&(A+=";"+f+":"+c)}c=A}}else n==="value"&&r.value!==c?r.value=c:n==="checked"&&(r.checked=b[n]);r.setAttribute(n,c)}}}if(N)for(let n in N)typeof N[n]=="function"?r.removeEventListener(n,N[n]):(!b||!(n in b)||b[n]===null||b[n]===void 0)&&(n==="value"?r.value="":n==="checked"&&(r.checked=!1),r.removeAttribute(n))},s=[],m=[],F=r=>{let b=s.find(N=>N.r===r.r&&P(N.m,r.m));return b||(b={c:w(r.r(L,r.m)),m:r.m,r:r.r}),m.includes(b)||m.push(b),M(b.c)},C=(r,b=null,N=null)=>{let n=0,c=0;if(b)for(;n<b.length;n++){let d=b[n];if(d.r){let f=F(d);b.splice(n,1,...f),n--;continue}let A=!1;if(N)for(let f=n-c;f<N.length;f++){let h=N[f];if(h.t&&d.t===h.t||!h.t&&!d.t){A=!0,n!==f&&(r.insertBefore(r.childNodes[f+c],r.childNodes[n]),j.splice(n-c,0,...j.splice(f,1))),d.t?(y(r.childNodes[n],d.a,h.a),C(r.childNodes[n],d.c,h.c)):r.childNodes[n].textContent=typeof d=="string"?d:d.c;break}}if(!A)if(d.t){let f=document.createElement(d.t);d.a&&y(f,d.a),d.c&&C(f,d.c),r.childNodes.length>n?r.childNodes[n].insertAdjacentElement("afterend",f):r.insertAdjacentElement("beforeend",f),c++}else{let f=typeof d=="string"?d:d.c;r.childNodes.length>n?r.childNodes[n].insertAdjacentText("afterend",f):r.insertAdjacentText("beforeend",f),c++}}if(r.childNodes.length>=n)for(let d=r.childNodes.length-1;d>=n;d--)r.childNodes[d].remove()},x=!0,L=Object.getPrototypeOf(o)===Proxy.prototype?o:U(o,()=>{x=!0,requestAnimationFrame(k)}),j=[],k=()=>{if(p&&!u&&x&&l<=0){u=!0,x=!1;let r=w(t(L));if(C(i,r,j),j=r,s=m,m=[],u=!1,x)throw new Error("update during render")}};return k(),[()=>{x=!0,requestAnimationFrame(k)},a,L]};var ge=(e,t)=>{let[o,p]=G(e);return{_:g,a:p,c:t?Array.isArray(t)?t:[t]:[],t:o.toUpperCase()}};var je=e=>({_:g,c:Array.isArray(e)?e.join(""):""+e});export{Y as factory,re as fctory,se as memo,me as mount,ge as nde,E as node,je as text};
//# sourceMappingURL=staark.min.js.map
