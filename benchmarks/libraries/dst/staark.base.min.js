var h=Symbol();var D=(o,n)=>({_:h,r:o,m:n});var O=function(o){return Array.isArray(o)?o:[o]};var M=o=>{if(typeof o=="object")if(Array.isArray(o)){let n=[];for(let i=0;i<o.length;i++)n.push(M(o[i]));o=n}else{let n={};for(let i in o)n[i]=M(o[i]);o=n}return o};var C=(o,n)=>{if(o===n)return!0;if(o instanceof Date&&n instanceof Date)return o.getTime()===n.getTime();if(!o||!n||typeof o!="object"&&typeof n!="object")return o===n;if(o==null||n===null||n===void 0||o.prototype!==n.prototype)return!1;let i=Object.keys(o);return i.length!==Object.keys(n).length?!1:i.every(p=>C(o[p],n[p]))};var L=(o,n)=>{let i=new WeakMap,p=d=>{if(i.has(d)){let y=i.get(d);i.delete(y);for(let a in y.proxy)typeof y.proxy[a]=="object"&&p(y.proxy[a]);y.revoke()}},j=d=>{if(i.has(d))return i.get(d);for(let a in d)d[a]&&typeof d[a]=="object"&&(d[a]=j(d[a]));let y=Proxy.revocable(d,{deleteProperty:(a,u)=>{if(Reflect.has(a,u)){p(a);let l=Reflect.deleteProperty(a,u);return l&&n(),l}return!0},set:(a,u,l)=>{let N=a[u];return N!==l&&(typeof N=="object"&&p(N),l&&typeof l=="object"&&(l=j(l)),a[u]=l,n()),!0}});return i.set(y,d),y.proxy};return j(o)};var F=/[A-Z]+(?![a-z])|[A-Z]/g,H=(o,n)=>(n?"-":"")+o,W=(o,n,i)=>{i||(i={});let p=!0,j=!1,d,y=()=>{if(p&&(p=!1,d))for(let e=d.childNodes.length-1;e>=0;e--)d.childNodes[e].remove()};if(d=typeof o=="string"?document.querySelector(o):o,!d)throw new Error("No mount");y(),p=!0,d||(d=document.createElement("div"),document.body.appendChild(d));let a=0,u=(e,f=null,m=null)=>{if(f)for(let t in f){let r=f[t];if(r!=null){let s=typeof r;if(s==="function"){let b=f[t]=c=>{a++,r(c),a--,E()};e.addEventListener(t,b);continue}else{if(s==="boolean"?r=r?"true":"false":s!=="string"&&(r=r.toString()),t==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let b="";for(let c in r)r[c]&&(b+=" "+c);r=b}}else if(t==="style"){if(typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let b="";for(let c in r){let A=r[c];c=c.replace(F,H).toLowerCase(),Array.isArray(A)?b+=";"+c+":"+A.join(" "):r&&(b+=";"+c+":"+r)}r=b}}else t==="value"&&e.value!==r?e.value=r:t==="checked"&&(e.checked=f[t]);e.setAttribute(t,r)}}}if(m)for(let t in m)typeof m[t]=="function"?e.removeEventListener(t,m[t]):(!f||!(t in f)||f[t]===null||f[t]===void 0)&&(t==="value"?e.value="":t==="checked"&&(e.checked=!1),e.removeAttribute(t))},l=[],N=[],k=e=>{let f=l.find(m=>m.r===e.r&&C(m.m,e.m));return f||(f={c:O(e.r(T,e.m)),m:e.m,r:e.r}),N.includes(f)||N.push(f),M(f.c)},G=(e,f=null,m=null)=>{let t=0,r=0;if(f)for(;t<f.length;t++){let s=f[t];if(s.r){let c=k(s);f.splice(t,1,...c),t--;continue}let b=!1;if(m)for(let c=t-r;c<m.length;c++){let A=m[c];if(A.t&&s.t===A.t||!A.t&&!s.t){b=!0,t!==c&&(e.insertBefore(e.childNodes[c+r],e.childNodes[t]),g.splice(t-r,0,...g.splice(c,1))),s.t?(u(e.childNodes[t],s.a,A.a),G(e.childNodes[t],s.c,A.c)):e.childNodes[t].textContent=typeof s=="string"?s:s.c;break}}if(!b)if(s.t){let c=document.createElement(s.t);s.a&&u(c,s.a),s.c&&G(c,s.c),e.childNodes.length>t?e.childNodes[t].insertAdjacentElement("afterend",c):e.insertAdjacentElement("beforeend",c),r++}else{let c=typeof s=="string"?s:s.c;e.childNodes.length>t?e.childNodes[t].insertAdjacentText("afterend",c):e.insertAdjacentText("beforeend",c),r++}}if(e.childNodes.length>=t)for(let s=e.childNodes.length-1;s>=t;s--)e.childNodes[s].remove()},x=!0,T=Object.getPrototypeOf(i)===Proxy.prototype?i:L(i,()=>{x=!0,requestAnimationFrame(E)}),g=[],E=()=>{if(p&&!j&&x&&a<=0){j=!0,x=!1;let e=O(n(T));if(G(d,e,g),g=e,l=N,N=[],j=!1,x)throw new Error("update during render")}};return E(),[()=>{x=!0,requestAnimationFrame(E)},y,T]};var I=(o,n,i)=>((typeof n!="object"||n._===h||Array.isArray(n))&&(i=n,n=void 0),{_:h,a:n,c:i?Array.isArray(i)?i:[i]:[],t:o.toUpperCase()});export{D as memo,W as mount,I as node};
//# sourceMappingURL=staark.base.min.js.map
