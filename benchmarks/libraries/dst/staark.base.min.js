var j=Symbol();var Z=(t,n)=>({_:j,r:t,m:n});var q=(t,n,r)=>((typeof n!="object"||n._===j||Array.isArray(n))&&(r=n,n=void 0),{_:j,a:n,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var H=function(t){return Array.isArray(t)?t:[t]};var F=t=>{if(typeof t=="object")if(Array.isArray(t)){let n=[];for(let r=0;r<t.length;r++)n.push(F(t[r]));t=n}else{let n={};for(let r in t)n[r]=F(t[r]);t=n}return t};var D=(t,n)=>{if(t===n)return!0;if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();if(!t||!n||typeof t!="object"&&typeof n!="object")return t===n;if(t==null||n===null||n===void 0||t.prototype!==n.prototype)return!1;let r=Object.keys(t);return r.length!==Object.keys(n).length?!1:r.every(a=>D(t[a],n[a]))};var _=t=>{var r;let n=[];for(let a=0;a<t.childNodes.length;a++){let m=t.childNodes[a];if(m instanceof Text)n.push((r=m.textContent)!=null?r:"");else{let p={};for(let N=0;N<m.attributes.length;N++){let c=m.attributes[N];p[c.name]=c.value}n.push(q(m.nodeName,p,_(m)))}}return n};var G=(t,n)=>{let r=new WeakMap,a=p=>{if(r.has(p)){let N=r.get(p);r.delete(N);for(let c in N.proxy)typeof N.proxy[c]=="object"&&a(N.proxy[c]);N.revoke()}},m=p=>{if(r.has(p))return r.get(p);for(let c in p)p[c]&&typeof p[c]=="object"&&(p[c]=m(p[c]));let N=Proxy.revocable(p,{deleteProperty:(c,h)=>{if(Reflect.has(c,h)){a(c);let g=Reflect.deleteProperty(c,h);return g&&n(),g}return!0},set:(c,h,g)=>{let E=c[h];return E!==g&&(typeof E=="object"&&a(E),g&&typeof g=="object"&&(g=m(g)),c[h]=g,n()),!0}});return r.set(N,p),N.proxy};return m(t)};var V=/[A-Z]+(?![a-z])|[A-Z]/g,U=(t,n)=>(n?"-":"")+t,ce=(t,n,r,a)=>{let m=0,p=(o,d,f)=>{if(d)for(let s in d){let e=d[s];if(e){let b=typeof e;if(b==="function"){let x=d[s]=l=>{m++;try{e(l)}catch(M){}m--,k()};o.addEventListener(s,x);continue}else{if(s==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let x="";for(let l in e)e[l]&&(x+=" "+l);e=x}}else if(s==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let x="";for(let l in e){let M=e[l];l=l.replace(V,U).toLowerCase(),Array.isArray(M)?x+=";"+l+":"+M.join(" "):M&&(x+=";"+l+":"+M)}e=x}}else b==="boolean"?e=e?"true":"false":b!=="string"&&(e=e.toString()),s==="value"&&o.value!==e?o.value=e:s==="checked"&&(o.checked=d[s]);o.setAttribute(s,e)}}}if(f)for(let s in f)typeof f[s]=="function"?o.removeEventListener(s,f[s]):(!d||!(s in d)||!d[s])&&(s==="value"?o.value="":s==="checked"&&(o.checked=!1),o.removeAttribute(s))},N=[],c=[],h=o=>{let d=N.find(f=>f.r===o.r&&D(f.m,o.m));return d||(d={c:H(o.r(C,o.m)),m:o.m,r:o.r}),c.includes(d)||c.push(d),F(d.c)},g=(o,d,f,s)=>{var l,M,v;let e=0,b=0;if(d)for(;e<d.length;e++){let i=d[e];if(i.r){let y=h(i);d.splice(e,1,...y),e--;continue}let w=!1;if(f)for(let y=e-b;y<f.length;y++){let u=f[y];if(u.t&&i.t===u.t||!u.t&&!i.t){w=!0,e!==y&&(o.insertBefore(o.childNodes[y+b],o.childNodes[e]),f.splice(e-b,0,...f.splice(y,1))),i.t?(p(o.childNodes[e],i.a,u.a),g(o.childNodes[e],i.c,u.c,u)):o.childNodes[e].textContent=typeof i=="string"?i:i.c;break}}if(!w){let y;if(i.t){y=document.createElement(i.t),i.a&&p(y,i.a),i.c&&g(y,i.c);let u=(R,T,A)=>{A&&(!T||T.t)?R.insertAdjacentElement(A,y):R.parentNode.insertBefore(y,R)};e===0?u(o,s,"afterbegin"):((l=f==null?void 0:f.length)!=null?l:0)+b>e?u(o.childNodes[e]):u(o,s,"beforeend"),b++}else{y=typeof i=="string"?i:i.c;let u=(R,T,A)=>{A&&(!T||T.t)?R.insertAdjacentText(A,y):R.parentNode.insertBefore(document.createTextNode(y),R.nextSibling)};e===0?u(o,s,"afterbegin"):((M=f==null?void 0:f.length)!=null?M:0)+b>e?u(o.childNodes[e]):u(o,s,"beforeend"),b++}}}let x=((v=f==null?void 0:f.length)!=null?v:0)+b;if(x>=e)for(let i=x-1;i>=e;i--)o.childNodes[i].remove()};typeof r=="string"&&(r=JSON.parse(r)),r!=null||(r={});let E=!0,C=Object.getPrototypeOf(r)===Proxy.prototype?r:G(r,()=>{E=!0,requestAnimationFrame(k)}),L=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof a=="string")try{a=JSON.parse(a)}catch(o){a=void 0}a!=null||(a=_(L));let I=!0,P=!1,k=()=>{if(I&&!P&&E&&m<=0){P=!0,E=!1;let o=H(n(C));if(g(L,o,a),a=o,N=c,c=[],P=!1,E)throw new Error("update during render")}};return k(),[()=>{E=!0,requestAnimationFrame(k)},()=>{if(I){I=!1;for(let o=L.childNodes.length-1;o>=0;o--)L.childNodes[o].remove()}},C]};export{Z as memo,ce as mount,q as node};
//# sourceMappingURL=staark.base.min.js.map
