var h=Symbol();var D=(o,r)=>({_:h,r:o,m:r});var R=function(o){return Array.isArray(o)?o:[o]};var T=o=>{if(typeof o=="object")if(Array.isArray(o)){let r=[];for(let s=0;s<o.length;s++)r.push(T(o[s]));o=r}else{let r={};for(let s in o)r[s]=T(o[s]);o=r}return o};var L=(o,r)=>{if(o===r)return!0;if(o instanceof Date&&r instanceof Date)return o.getTime()===r.getTime();if(!o||!r||typeof o!="object"&&typeof r!="object")return o===r;if(o==null||r===null||r===void 0||o.prototype!==r.prototype)return!1;let s=Object.keys(o);return s.length!==Object.keys(r).length?!1:s.every(p=>L(o[p],r[p]))};var k=(o,r)=>{let s=new WeakMap,p=d=>{if(s.has(d)){let y=s.get(d);s.delete(y);for(let f in y.proxy)typeof y.proxy[f]=="object"&&p(y.proxy[f]);y.revoke()}},g=d=>{if(s.has(d))return s.get(d);for(let f in d)d[f]&&typeof d[f]=="object"&&(d[f]=g(d[f]));let y=Proxy.revocable(d,{deleteProperty:(f,N)=>{if(Reflect.has(f,N)){p(f);let l=Reflect.deleteProperty(f,N);return l&&r(),l}return!0},set:(f,N,l)=>{let b=f[N];return b!==l&&(typeof b=="object"&&p(b),l&&typeof l=="object"&&(l=g(l)),f[N]=l,r()),!0}});return s.set(y,d),y.proxy};return g(o)};var H=/[A-Z]+(?![a-z])|[A-Z]/g,I=(o,r)=>(r?"-":"")+o,W=(o,r,s)=>{s||(s={});let p=!0,g=!1,d,y=()=>{if(p&&(p=!1,d))for(let e=d.childNodes.length-1;e>=0;e--)d.childNodes[e].remove()};if(d=typeof o=="string"?document.querySelector(o):o,!d)throw new Error("No mount");y(),p=!0,d||(d=document.createElement("div"),document.body.appendChild(d));let f=0,N=(e,a=null,m=null)=>{if(a)for(let t in a){let n=a[t];if(n!=null){let i=typeof n;if(i==="function"){let u=a[t]=c=>{f++,n(c),f--,M()};e.addEventListener(t,u);continue}else{if(i==="boolean"?n=n?"true":"false":i!=="string"&&(n=n.toString()),t==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let u="";for(let c in n)n[c]&&(u+=" "+c);n=u}}else if(t==="style"){if(typeof n=="object")if(Array.isArray(n))n=n.join(";");else{let u="";for(let c in n){let A=n[c];c=c.replace(H,I).toLowerCase(),Array.isArray(A)?u+=";"+c+":"+A.join(" "):n&&(u+=";"+c+":"+n)}n=u}}else t==="value"&&e.value!==n?e.value=n:t==="checked"&&(e.checked=a[t]);e.setAttribute(t,n)}}}if(m)for(let t in m)typeof m[t]=="function"?e.removeEventListener(t,m[t]):(!a||!(t in a)||a[t]===null||a[t]===void 0)&&(t==="value"?e.value="":t==="checked"&&(e.checked=!1),e.removeAttribute(t))},l=[],b=[],F=e=>{let a=l.find(m=>m.r===e.r&&L(m.m,e.m));return a||(a={c:R(e.r(C,e.m)),m:e.m,r:e.r}),b.includes(a)||b.push(a),T(a.c)},j=(e,a=null,m=null)=>{let t=0,n=0;if(a)for(;t<a.length;t++){let i=a[t];if(i.r){let c=F(i);a.splice(t,1,...c),t--;continue}let u=!1;if(m)for(let c=t-n;c<m.length;c++){let A=m[c];if(A.t&&i.t===A.t||!A.t&&!i.t){u=!0,t!==c&&(e.insertBefore(e.childNodes[c+n],e.childNodes[t]),E.splice(t-n,0,...E.splice(c,1))),i.t?(N(e.childNodes[t],i.a,A.a),j(e.childNodes[t],i.c,A.c)):e.childNodes[t].textContent=typeof i=="string"?i:i.c;break}}if(!u)if(i.t){let c=document.createElement(i.t);i.a&&N(c,i.a),i.c&&j(c,i.c),e.childNodes.length>t?e.childNodes[t].insertAdjacentElement("afterend",c):e.insertAdjacentElement("beforeend",c),n++}else{let c=typeof i=="string"?i:i.c;e.childNodes.length>t?e.childNodes[t].insertAdjacentText("afterend",c):e.insertAdjacentText("beforeend",c),n++}}if(e.childNodes.length>=t)for(let i=e.childNodes.length-1;i>=t;i--)e.childNodes[i].remove()},x=!0,C=Object.getPrototypeOf(s)===Proxy.prototype?s:k(s,()=>{x=!0,requestAnimationFrame(M)}),E=[],M=()=>{if(p&&!g&&x&&f<=0){g=!0,x=!1;let e=R(r(C));if(j(d,e,E),E=e,l=b,b=[],g=!1,x)throw new Error("update during render")}};return M(),[()=>{x=!0,requestAnimationFrame(M)},y,C]};var P=(o,r,s)=>((typeof r!="object"||r._===h||Array.isArray(r))&&(s=r,r=void 0),{_:h,a:r,c:s?Array.isArray(s)?s:[s]:[],t:o.toUpperCase()});export{D as memo,W as mount,P as node};
//# sourceMappingURL=staark.base.min.js.map
