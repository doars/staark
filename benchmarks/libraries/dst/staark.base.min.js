var x=Symbol();var P=(o,r)=>({_:x,r:o,m:r});var L=function(o){return Array.isArray(o)?o:[o]};var C=o=>{if(typeof o=="object")if(Array.isArray(o)){let r=[];for(let s=0;s<o.length;s++)r.push(C(o[s]));o=r}else{let r={};for(let s in o)r[s]=C(o[s]);o=r}return o};var j=(o,r)=>{if(o===r)return!0;if(o instanceof Date&&r instanceof Date)return o.getTime()===r.getTime();if(!o||!r||typeof o!="object"&&typeof r!="object")return o===r;if(o==null||r===null||r===void 0||o.prototype!==r.prototype)return!1;let s=Object.keys(o);return s.length!==Object.keys(r).length?!1:s.every(p=>j(o[p],r[p]))};var k="staark-created";var v=(o,r)=>{let s=new WeakMap,p=d=>{if(s.has(d)){let y=s.get(d);s.delete(y);for(let f in y.proxy)typeof y.proxy[f]=="object"&&p(y.proxy[f]);y.revoke()}},g=d=>{if(s.has(d))return s.get(d);for(let f in d)d[f]&&typeof d[f]=="object"&&(d[f]=g(d[f]));let y=Proxy.revocable(d,{deleteProperty:(f,b)=>{if(Reflect.has(f,b)){p(f);let l=Reflect.deleteProperty(f,b);return l&&r(),l}return!0},set:(f,b,l)=>{let A=f[b];return A!==l&&(typeof A=="object"&&p(A),l&&typeof l=="object"&&(l=g(l)),f[b]=l,r()),!0}});return s.set(y,d),y.proxy};return g(o)};var D=/[A-Z]+(?![a-z])|[A-Z]/g,w=(o,r)=>(r?"-":"")+o,Q=(o,r,s)=>{s||(s={});let p=!0,g=!1,d,y=()=>{if(p&&(p=!1,d))for(let e=d.childNodes.length-1;e>=0;e--)d.childNodes[e].remove()};if(d=typeof o=="string"?document.querySelector(o):o,!d)throw new Error("No mount");y(),p=!0,d||(d=document.createElement("div"),document.body.appendChild(d));let f=0,b=(e,a=null,u=null)=>{if(a)for(let t in a){let n=a[t];if(n!=null){let c=typeof n;if(c==="function"){let m=a[t]=i=>{f++;try{n(i)}catch(N){}f--,T()};e.addEventListener(t,m);continue}else{if(t==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let m="";for(let i in n)n[i]&&(m+=" "+i);n=m}}else if(t==="style"){if(typeof n=="object")if(Array.isArray(n))n=n.join(";");else{let m="";for(let i in n){let N=n[i];i=i.replace(D,w).toLowerCase(),Array.isArray(N)?m+=";"+i+":"+N.join(" "):n&&(m+=";"+i+":"+n)}n=m}}else c==="boolean"?n=n?"true":"false":c!=="string"&&(n=n.toString()),t==="value"&&e.value!==n?e.value=n:t==="checked"&&(e.checked=a[t]);e.setAttribute(t,n)}}}if(u)for(let t in u)typeof u[t]=="function"?e.removeEventListener(t,u[t]):(!a||!(t in a)||a[t]===null||a[t]===void 0)&&(t==="value"?e.value="":t==="checked"&&(e.checked=!1),e.removeAttribute(t))},l=[],A=[],F=e=>{let a=l.find(u=>u.r===e.r&&j(u.m,e.m));return a||(a={c:L(e.r(R,e.m)),m:e.m,r:e.r}),A.includes(a)||A.push(a),C(a.c)},M=(e,a=null,u=null)=>{let t=0,n=0;if(a)for(;t<a.length;t++){let c=a[t];if(c.r){let i=F(c);a.splice(t,1,...i),t--;continue}let m=!1;if(u)for(let i=t-n;i<u.length;i++){let N=u[i];if(N.t&&c.t===N.t||!N.t&&!c.t){m=!0,t!==i&&(e.insertBefore(e.childNodes[i+n],e.childNodes[t]),h.splice(t-n,0,...h.splice(i,1))),c.t?(b(e.childNodes[t],c.a,N.a),M(e.childNodes[t],c.c,N.c)):e.childNodes[t].textContent=typeof c=="string"?c:c.c;break}}if(!m)if(c.t){let i=document.createElement(c.t);c.a&&b(i,c.a),c.c&&M(i,c.c),e.childNodes.length>t?e.childNodes[t].insertAdjacentElement("afterend",i):e.insertAdjacentElement("beforeend",i),n++,d.dispatchEvent(new CustomEvent(k,{detail:{target:i}}))}else{let i=typeof c=="string"?c:c.c;e.childNodes.length>t?e.childNodes[t].insertAdjacentText("afterend",i):e.insertAdjacentText("beforeend",i),n++}}if(e.childNodes.length>=t)for(let c=e.childNodes.length-1;c>=t;c--)e.childNodes[c].remove()},E=!0,R=Object.getPrototypeOf(s)===Proxy.prototype?s:v(s,()=>{E=!0,requestAnimationFrame(T)}),h=[],T=()=>{if(p&&!g&&E&&f<=0){g=!0,E=!1;let e=L(r(R));if(M(d,e,h),h=e,l=A,A=[],g=!1,E)throw new Error("update during render")}};return T(),[()=>{E=!0,requestAnimationFrame(T)},y,R]};var _=(o,r,s)=>((typeof r!="object"||r._===x||Array.isArray(r))&&(s=r,r=void 0),{_:x,a:r,c:s?Array.isArray(s)?s:[s]:[],t:o.toUpperCase()});export{P as memo,Q as mount,_ as node};
//# sourceMappingURL=staark.base.min.js.map
