var Q=1,F=3,G={},J=[],j="http://www.w3.org/2000/svg",P=r=>r,s=J.map,X=Array.isArray,T=typeof requestAnimationFrame<"u"?requestAnimationFrame:setTimeout,U=r=>{var t="";if(typeof r=="string")return r;if(X(r))for(var f=0,v;f<r.length;f++)(v=U(r[f]))&&(t+=(t&&" ")+v);else for(var f in r)r[f]&&(t+=(t&&" ")+f);return t},y=(r,t)=>{for(var f in{...r,...t})if(typeof(X(r[f])?r[f][0]:r[f])=="function")t[f]=r[f];else if(r[f]!==t[f])return!0},N=(r,t=J,f)=>{for(var v=[],a=0,m,p;a<r.length||a<t.length;a++)m=r[a],p=t[a],v.push(p&&p!==!0?!m||p[0]!==m[0]||y(p[1],m[1])?[p[0],p[1],(m&&m[2](),p[0](f,p[1]))]:m:m&&m[2]());return v},q=r=>r==null?r:r.key,W=(r,t,f,v,a,m)=>{if(t==="style")for(var p in{...f,...v})f=v==null||v[p]==null?"":v[p],p[0]==="-"?r[t].setProperty(p,f):r[t][p]=f;else t[0]==="o"&&t[1]==="n"?((r.events||(r.events={}))[t=t.slice(2)]=v)?f||r.addEventListener(t,a):r.removeEventListener(t,a):!m&&t!=="list"&&t!=="form"&&t in r?r[t]=v??"":v==null||v===!1?r.removeAttribute(t):r.setAttribute(t,v)},z=(r,t,f)=>{var v=r.props,a=r.type===F?document.createTextNode(r.tag):(f=f||r.tag==="svg")?document.createElementNS(j,r.tag,v.is&&v):document.createElement(r.tag,v.is&&v);for(var m in v)W(a,m,null,v[m],t,f);for(var p=0;p<r.children.length;p++)a.appendChild(z(r.children[p]=O(r.children[p]),t,f));return r.node=a},x=(r,t,f,v,a,m)=>{if(f!==v)if(f!=null&&f.type===F&&v.type===F)f.tag!==v.tag&&(t.nodeValue=v.tag);else if(f==null||f.tag!==v.tag)t=r.insertBefore(z(v=O(v),a,m),t),f!=null&&r.removeChild(f.node);else{var p,c,A,_,L=f.props,D=v.props,u=f.children,C=v.children,h=0,g=0,B=u.length-1,R=C.length-1;m=m||v.tag==="svg";for(var E in{...L,...D})(E==="value"||E==="selected"||E==="checked"?t[E]:L[E])!==D[E]&&W(t,E,L[E],D[E],a,m);for(;g<=R&&h<=B&&!((A=q(u[h]))==null||A!==q(C[g]));)x(t,u[h].node,u[h],C[g]=O(C[g++],u[h++]),a,m);for(;g<=R&&h<=B&&!((A=q(u[B]))==null||A!==q(C[R]));)x(t,u[B].node,u[B],C[R]=O(C[R--],u[B--]),a,m);if(h>B)for(;g<=R;)t.insertBefore(z(C[g]=O(C[g++]),a,m),(c=u[h])&&c.node);else if(g>R)for(;h<=B;)t.removeChild(u[h++].node);else{for(var M={},Y={},E=h;E<=B;E++)(A=u[E].key)!=null&&(M[A]=u[E]);for(;g<=R;){if(A=q(c=u[h]),_=q(C[g]=O(C[g],c)),Y[A]||_!=null&&_===q(u[h+1])){A==null&&t.removeChild(c.node),h++;continue}_==null||f.type===Q?(A==null&&(x(t,c&&c.node,c,C[g],a,m),g++),h++):(A===_?(x(t,c.node,c,C[g],a,m),Y[_]=!0,h++):(p=M[_])!=null?(x(t,t.insertBefore(p.node,c&&c.node),p,C[g],a,m),Y[_]=!0):x(t,c&&c.node,null,C[g],a,m),g++)}for(;h<=B;)q(c=u[h++])==null&&t.removeChild(c.node);for(var E in M)Y[E]==null&&t.removeChild(M[E].node)}}return v.node=t},b=(r,t)=>{for(var f in r)if(r[f]!==t[f])return!0;for(var f in t)if(r[f]!==t[f])return!0},O=(r,t)=>r!==!0&&r!==!1&&r?typeof r.tag=="function"?((!t||t.memo==null||b(t.memo,r.memo))&&((t=r.tag(r.memo)).memo=r.memo),t):r:$(""),Z=r=>r.nodeType===F?$(r.nodeValue,r):I(r.nodeName.toLowerCase(),G,s.call(r.childNodes,Z),Q,r),I=(r,{key:t,...f},v,a,m)=>({tag:r,props:f,key:t,children:v,type:a,node:m}),k=(r,t)=>({tag:r,memo:t}),$=(r,t)=>I(r,G,J,F,t),i=(r,{class:t,...f},v=J)=>I(r,{...f,...t?{class:U(t)}:G},X(v)?v:[v]),S=({node:r,view:t,subscriptions:f,dispatch:v=P,init:a=G})=>{var m=r&&Z(r),p=[],c,A,_=u=>{c!==u&&((c=u)==null&&(v=f=L=P),f&&(p=N(p,f(c),v)),t&&!A&&T(L,A=!0))},L=()=>r=x(r.parentNode,r,m,m=t(c),D,A=!1),D=function(u){v(this.events[u.type],u)};return(v=v((u,C)=>typeof u=="function"?v(u(c,C)):X(u)?typeof u[0]=="function"?v(u[0],u[1]):u.slice(1).map(h=>h&&h!==!0&&(h[0]||h)(v,h[1]),_(u[0])):_(u)))(a),v};export{S as app,i as h,k as memo,$ as text};
//# sourceMappingURL=hyperapp.base.min.js.map
