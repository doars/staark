"use strict";(()=>{var O=function(e,t){let o=window;for(let n=0;n<e.length-1;n++)(typeof o[e[n]]!="object"||!Array.isArray(o[e[n]]))&&(o[e[n]]={}),o=o[e[n]];o[e[e.length-1]]=t};var h=e=>{var t;return(t=A(e))!=null?t:[]},A=e=>e?Array.isArray(e)?e:[e]:void 0;var P=(e,t,o)=>{let n=e?t:o;return typeof n=="function"&&(n=n()),h(n)};var k="n";var C=(e,t,o)=>((typeof t!="object"||t._===k||Array.isArray(t))&&(o=t,t=void 0),{_:k,a:t,c:A(o),t:e.toUpperCase()});var D=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,i)=>C(o,n,i)}});var v="]",H="[",J=".",K="=",S="#",E="'",F='"';var L=e=>{let t=e.length,o=0,n="",i={},d="",s=!0,l=3,x=()=>{if(d){switch(l){case 0:i[d]=s===!0?!0:s,s=!0;break;case 1:if(!i.class){i.class=d;break}i.class+=" "+d;break;case 2:i.id=d;break;case 3:n=d;break}d=""}},m,b,T=()=>{for(b=0;o<t;){if(m=e[o],o++,m===K){s="",m=e[o];let M=m===F,R=m===E;for((M||R)&&(s+=m,o++);o<t;){if(m=e[o],M&&m===F||R&&m===E){s+=m,o++;break}else if(!M&&!R&&m===v)break;s+=m,o++}for((s[0]===F&&s[s.length-1]===F||s[0]===E&&s[s.length-1]===E)&&(s=s.substring(1,s.length-1));o<t&&(m=e[o],o++,m!==v););break}else if(m===H){b++;continue}else if(m===v){if(b--,b<0)break;continue}d+=m}x()};for(;o<t;){if(m=e[o],o++,m===S){x(),l=2;continue}else if(m===J){x(),l=1;continue}else if(m===H){x(),l=0,T();continue}d+=m}return[n,i]};var G=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,i)=>{let d;if(n){let[s,l]=L(n);d=l}return C(o,d,i)}}});var Z=0,Q=e=>e+"-"+Z++;var W=(e,t,o)=>{let n;return t&&e in t&&t[e]?(n=t[e],typeof n=="function"&&(n=n())):n=o,h(n)};var I=(e,t)=>({_:k,r:e,m:t});var V=(e,t)=>{let[o,n]=L(e);return{_:k,a:n,c:A(t),t:o.toUpperCase()}};var w=e=>{if(typeof e=="object"){let t=Array.isArray(e)?[]:{};for(let o in e)t[o]=w(e[o]);return t}return e};var _=(e,t)=>{if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return e===t;if(e instanceof Date)return t instanceof Date&&e.getTime()===t.getTime();let o=Object.keys(e);return o.length===Object.keys(t).length&&o.every(n=>_(e[n],t[n]))};var j=e=>{var o;let t=[];for(let n of e.childNodes)if(n instanceof Text)t.push((o=n.textContent)!=null?o:"");else{let i=n,d={};for(let s of i.attributes)d[s.name]=s.value;t.push(C(n.nodeName,d,j(n)))}return t};var q=(e,t)=>{let o={deleteProperty:(i,d)=>{if(Reflect.has(i,d)){let s=Reflect.deleteProperty(i,d);return s&&t(),s}return!0},set:(i,d,s)=>(i[d]!==s&&(s&&typeof s=="object"&&(s=n(s)),i[d]=s,t()),!0)},n=i=>{for(let d in i)i[d]&&typeof i[d]=="object"&&(i[d]=n(i[d]));return new Proxy(i,o)};return n(e)};var z=(e,t,o,n)=>{typeof o=="string"&&(o=JSON.parse(o)),o||(o={});let i=null,d=()=>(i||(i=Promise.resolve().then(U)),i),s=Object.getPrototypeOf(o)===Proxy.prototype?o:q(o,d),l=(c,p,y)=>{if(p)for(let r in p){let a=p[r];if(a){let u=typeof a;if(u==="function"){let N=y==null?void 0:y[r];if((N==null?void 0:N.f)!==a){N&&c.removeEventListener(r,N);let f=p[r]=g=>{a(g,s)};f.f=a,c.addEventListener(r,f)}}else if(r==="class"){if(typeof a=="object")if(Array.isArray(a))a=a.join(" ");else{let N="";for(let f in a)a[f]&&(N+=" "+f);a=N}c.className=a}else if(r==="style"&&typeof a=="object"){for(let N in a){let f=a[N];N.includes("-",1)?c.style.setProperty(N,f):c.style[N]=f}if(y&&y[r]&&typeof y[r]=="object"&&!Array.isArray(y[r]))for(let N in y[r])N in a||(N.includes("-")?c.style.removeProperty(N):delete c.style[N])}else a===!0?a="true":u!=="string"&&(a=a.toString()),c.setAttribute(r,a)}}if(y)for(let r in y){let a=y[r];(!p||!p[r])&&(typeof a=="function"?c.removeEventListener(r,y[r]):r==="class"?c.className="":r==="style"?c.style.cssText="":r==="value"?c.value="":c.removeAttribute(r))}},x=new WeakMap,m=new WeakMap,b=(c,p,y)=>{let r=0,a=0;if(p)for(;r<p.length;r++){let u=p[r];if(u.r){let f=x.get(u.r);(!f||!_(f.m,u.m))&&(f={c:A(u.r(s,u.m)),m:u.m,r:u.r}),m.set(u.r,f),p.splice(r,1,...w(f.c)),r--;continue}let N=!1;if(y)for(let f=r-a;f<y.length;f++){let g=y[f];if(g.t&&u.t===g.t||!g.t&&!u.t){N=!0,r!==f+a&&(c.insertBefore(c.childNodes[f+a],c.childNodes[r]),y.splice(r-a,0,y.splice(f,1)[0])),u.t?(l(c.childNodes[r],u.a,g.a),b(c.childNodes[r],u.c,g.c)):g!==u&&(c.childNodes[r].textContent=u);break}}if(!N){let f;u.t?(f=document.createElement(u.t),l(f,u.a),b(f,u.c)):f=document.createTextNode(u),c.insertBefore(f,c.childNodes[r]),a++}}if(y){let u=y.length+a;if(u>=r)for(let N=u-1;N>=r;N--)c.childNodes[N].remove()}},T=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch(c){n=null}n||(n=j(T));let M=!0,R=!1,U=()=>{if(M&&!R&&i){R=!0,i=null;let c=A(t(s));b(T,c,n),n=c,x=m,m=new WeakMap,R=!1}};return d(),U(),[d,()=>{if(M){M=!1;for(let c=T.childNodes.length-1;c>=0;c--)T.childNodes[c].remove()}},s]};O(["staark"],{conditional:P,factory:D,fctory:G,identifier:Q,match:W,memo:I,mount:z,nde:V,node:C});})();
//# sourceMappingURL=staark.iife.min.js.map
