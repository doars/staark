"use strict";(()=>{var Q=function(e,t){let o=window;for(let n=0;n<e.length-1;n++)(typeof o[e[n]]!="object"||!Array.isArray(o[e[n]]))&&(o[e[n]]={}),o=o[e[n]];o[e[e.length-1]]=t};var k=function(e){return Array.isArray(e)?e:[e]};var S=(e,t,o)=>e?k(t):k(o!=null?o:[]);var E=Symbol();var R=(e,t,o)=>((typeof t!="object"||t._===E||Array.isArray(t))&&(o=t,t=void 0),{_:E,a:t,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var V=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,d)=>R(o,n,d)}});var O="]",Z="[",ee=".",te="=",oe="#",P="'",D='"';var H=e=>{let t=e.length,o=0,n="",d={},a="",c=!0,f=3,A=()=>{if(a){switch(f){case 0:d[a]=c===!0?!0:c,c=!0;break;case 1:if(!d.class){d.class=a;break}d.class+=" "+a;break;case 2:d.id=a;break;case 3:n=a;break}a=""}},s,b,L=()=>{for(b=0;o<t;){if(s=e[o],o++,s===te){c="",s=e[o];let T=s===D,M=s===P;for((T||M)&&(c+=s,o++);o<t;){if(s=e[o],T&&s===D||M&&s===P){c+=s,o++;break}else if(!T&&!M&&s===O)break;c+=s,o++}for((c[0]===D&&c[c.length-1]===D||c[0]===P&&c[c.length-1]===P)&&(c=c.substring(1,c.length-1));o<t&&(s=e[o],o++,s!==O););break}else if(s===Z){b++;continue}else if(s===O){if(b--,b<0)break;continue}a+=s}A()};for(;o<t;){if(s=e[o],o++,s===oe){A(),f=2;continue}else if(s===ee){A(),f=1;continue}else if(s===Z){A(),f=0,L();continue}a+=s}return[n,d]};var J=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,d)=>{let a;if(n){let[c,f]=H(n);a=f}return R(o,a,d)}}});var K=(e,t)=>t&&e in t&&t[e]?k(t[e]):[];var W=(e,t)=>({_:E,r:e,m:t});var Y=(e,t)=>{let[o,n]=H(e);return{_:E,a:n,c:t?Array.isArray(t)?t:[t]:[],t:o.toUpperCase()}};var X=e=>({_:E,c:Array.isArray(e)?e.join(""):""+e});var I=e=>{if(typeof e=="object")if(Array.isArray(e)){let t=[];for(let o=0;o<e.length;o++)t.push(I(e[o]));e=t}else{let t={};for(let o in e)t[o]=I(e[o]);e=t}return e};var U=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e==null||t===null||t===void 0||e.prototype!==t.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(t).length?!1:o.every(n=>U(e[n],t[n]))};var q=e=>{var o;let t=[];for(let n=0;n<e.childNodes.length;n++){let d=e.childNodes[n];if(d instanceof Text)t.push((o=d.textContent)!=null?o:"");else{let a={};for(let c=0;c<d.attributes.length;c++){let f=d.attributes[c];a[f.name]=f.value}t.push(R(d.nodeName,a,q(d)))}}return t};var $=(e,t)=>{let o=new WeakMap,n=a=>{if(o.has(a)){let c=o.get(a);o.delete(c);for(let f in c.proxy)typeof c.proxy[f]=="object"&&n(c.proxy[f]);c.revoke()}},d=a=>{if(o.has(a))return o.get(a);for(let f in a)a[f]&&typeof a[f]=="object"&&(a[f]=d(a[f]));let c=Proxy.revocable(a,{deleteProperty:(f,A)=>{if(Reflect.has(f,A)){n(f);let s=Reflect.deleteProperty(f,A);return s&&t(),s}return!0},set:(f,A,s)=>{let b=f[A];return b!==s&&(typeof b=="object"&&n(b),s&&typeof s=="object"&&(s=d(s)),f[A]=s,t()),!0}});return o.set(c,a),c.proxy};return d(e)};var re=/[A-Z]+(?![a-z])|[A-Z]/g,ne=(e,t)=>(t?"-":"")+e,B=(e,t,o,n)=>{let d=0,a=(i,u,m)=>{if(u)for(let p in u){let r=u[p];if(r){let x=typeof r;if(x==="function"){let C=u[p]=l=>{d++;try{r(l)}catch(h){}d--,w()};i.addEventListener(p,C);continue}else{if(p==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let C="";for(let l in r)r[l]&&(C+=" "+l);r=C}}else if(p==="style"){if(typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let C="";for(let l in r){let h=r[l];l=l.replace(re,ne).toLowerCase(),Array.isArray(h)?C+=";"+l+":"+h.join(" "):h&&(C+=";"+l+":"+h)}r=C}}else{if(x==="boolean"){if(!r){i.removeAttribute(p);continue}r="true"}else x!=="string"&&(r=r.toString());p==="value"&&i.value!==r?i.value=r:p==="checked"&&(i.checked=u[p])}i.setAttribute(p,r)}}}if(m)for(let p in m)typeof m[p]=="function"?i.removeEventListener(p,m[p]):(!u||!(p in u)||!u[p])&&(p==="value"?i.value="":p==="checked"&&(i.checked=!1),i.removeAttribute(p))},c=[],f=[],A=i=>{let u=c.find(m=>m.r===i.r&&U(m.m,i.m));return u||(u={c:k(i.r(L,i.m)),m:i.m,r:i.r}),f.includes(u)||f.push(u),I(u.c)},s=(i,u,m,p)=>{var l,h,z;let r=0,x=0;if(u)for(;r<u.length;r++){let y=u[r];if(y.r){let N=A(y);u.splice(r,1,...N),r--;continue}let G=!1;if(m)for(let N=r-x;N<m.length;N++){let g=m[N];if(g.t&&y.t===g.t||!g.t&&!y.t){G=!0,r!==N+x&&(i.insertBefore(i.childNodes[N+x],i.childNodes[r]),m.splice(r-x,0,...m.splice(N,1))),y.t?(a(i.childNodes[r],y.a,g.a),s(i.childNodes[r],y.c,g.c,g)):i.childNodes[r].textContent=typeof y=="string"?y:y.c;break}}if(!G){let N;if(y.t){N=document.createElement(y.t),y.a&&a(N,y.a),y.c&&s(N,y.c);let g=(j,F,_)=>{_&&(!F||F.t)?j.insertAdjacentElement(_,N):j.parentNode.insertBefore(N,j)};r===0?g(i,p,"afterbegin"):((l=m==null?void 0:m.length)!=null?l:0)+x>r?g(i.childNodes[r]):g(i,p,"beforeend")}else{N=typeof y=="string"?y:y.c;let g=(j,F,_)=>{_&&(!F||F.t)?j.insertAdjacentText(_,N):j.parentNode.insertBefore(document.createTextNode(N),j.nextSibling)};r===0?g(i,p,"afterbegin"):((h=m==null?void 0:m.length)!=null?h:0)+x>r?g(i.childNodes[r]):g(i,p,"beforeend")}x++}}let C=((z=m==null?void 0:m.length)!=null?z:0)+x;if(C>=r)for(let y=C-1;y>=r;y--)i.childNodes[y].remove()};typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let b=!0,L=Object.getPrototypeOf(o)===Proxy.prototype?o:$(o,()=>{b=!0,requestAnimationFrame(w)}),T=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch(i){n=void 0}n!=null||(n=q(T));let M=!0,v=!1,w=()=>{if(M&&!v&&b&&d<=0){v=!0,b=!1;let i=k(t(L));if(s(T,i,n),n=i,c=f,f=[],v=!1,b)throw new Error("update during render")}};return w(),[()=>{b=!0,requestAnimationFrame(w)},()=>{if(M){M=!1;for(let i=T.childNodes.length-1;i>=0;i--)T.childNodes[i].remove()}},L]};Q(["staark"],{conditional:S,factory:V,fctory:J,match:K,memo:W,mount:B,nde:Y,node:R,text:X});})();
//# sourceMappingURL=staark.iife.min.js.map
