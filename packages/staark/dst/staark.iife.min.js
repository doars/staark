"use strict";(()=>{var Q=function(e,o){let t=window;for(let r=0;r<e.length-1;r++)(typeof t[e[r]]!="object"||!Array.isArray(t[e[r]]))&&(t[e[r]]={}),t=t[e[r]];t[e[e.length-1]]=o};var E=Symbol();var h=(e,o,t)=>((typeof o!="object"||o._===E||Array.isArray(o))&&(t=o,o=void 0),{_:E,a:o,c:t?Array.isArray(t)?t:[t]:[],t:e.toUpperCase()});var S=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[o]=(r,u)=>h(t,r,u)}});var O="]",V="[",$=".",B="=",ee="#",_="'",w='"';var P=e=>{let o=e.length,t=0,r="",u={},c="",a=!0,f=3,A=()=>{if(c){switch(f){case 0:u[c]=a===!0?!0:a,a=!0;break;case 1:if(!u.class){u.class=c;break}u.class+=" "+c;break;case 2:u.id=c;break;case 3:r=c;break}c=""}},i,b,j=()=>{for(b=0;t<o;){if(i=e[t],t++,i===B){a="",i=e[t];let k=i===w,R=i===_;for((k||R)&&(a+=i,t++);t<o;){if(i=e[t],k&&i===w||R&&i===_){a+=i,t++;break}else if(!k&&!R&&i===O)break;a+=i,t++}for((a[0]===w&&a[a.length-1]===w||a[0]===_&&a[a.length-1]===_)&&(a=a.substring(1,a.length-1));t<o&&(i=e[t],t++,i!==O););break}else if(i===V){b++;continue}else if(i===O){if(b--,b<0)break;continue}c+=i}A()};for(;t<o;){if(i=e[t],t++,i===ee){A(),f=2;continue}else if(i===$){A(),f=1;continue}else if(i===V){A(),f=0,j();continue}c+=i}return[r,u]};var Z=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[o]=(r,u)=>{let c;if(r){let[a,f]=P(r);c=f}return h(t,c,u)}}});var J=(e,o)=>({_:E,r:e,m:o});var K=(e,o)=>{let[t,r]=P(e);return{_:E,a:r,c:o?Array.isArray(o)?o:[o]:[],t:t.toUpperCase()}};var W=e=>({_:E,c:Array.isArray(e)?e.join(""):""+e});var U=function(e){return Array.isArray(e)?e:[e]};var D=e=>{if(typeof e=="object")if(Array.isArray(e)){let o=[];for(let t=0;t<e.length;t++)o.push(D(e[t]));e=o}else{let o={};for(let t in e)o[t]=D(e[t]);e=o}return e};var v=(e,o)=>{if(e===o)return!0;if(e instanceof Date&&o instanceof Date)return e.getTime()===o.getTime();if(!e||!o||typeof e!="object"&&typeof o!="object")return e===o;if(e==null||o===null||o===void 0||e.prototype!==o.prototype)return!1;let t=Object.keys(e);return t.length!==Object.keys(o).length?!1:t.every(r=>v(e[r],o[r]))};var q=e=>{var t;let o=[];for(let r=0;r<e.childNodes.length;r++)if(e instanceof Text)o.push((t=e.textContent)!=null?t:"");else{let u={};for(let c=0;c<e.attributes.length;c++){let a=e.attributes[c];u[a.name]=a.value}o.push(h(e.nodeName,u,q(e)))}return o};var Y=(e,o)=>{let t=new WeakMap,r=c=>{if(t.has(c)){let a=t.get(c);t.delete(a);for(let f in a.proxy)typeof a.proxy[f]=="object"&&r(a.proxy[f]);a.revoke()}},u=c=>{if(t.has(c))return t.get(c);for(let f in c)c[f]&&typeof c[f]=="object"&&(c[f]=u(c[f]));let a=Proxy.revocable(c,{deleteProperty:(f,A)=>{if(Reflect.has(f,A)){r(f);let i=Reflect.deleteProperty(f,A);return i&&o(),i}return!0},set:(f,A,i)=>{let b=f[A];return b!==i&&(typeof b=="object"&&r(b),i&&typeof i=="object"&&(i=u(i)),f[A]=i,o()),!0}});return t.set(a,c),a.proxy};return u(e)};var te=/[A-Z]+(?![a-z])|[A-Z]/g,oe=(e,o)=>(o?"-":"")+e,X=(e,o,t,r)=>{let u=0,c=(s,N,d)=>{if(N)for(let p in N){let n=N[p];if(n){let g=typeof n;if(g==="function"){let C=N[p]=x=>{u++;try{n(x)}catch(T){}u--,L()};s.addEventListener(p,C);continue}else{if(p==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let C="";for(let x in n)n[x]&&(C+=" "+x);n=C}}else if(p==="style"){if(typeof n=="object")if(Array.isArray(n))n=n.join(";");else{let C="";for(let x in n){let T=n[x];x=x.replace(te,oe).toLowerCase(),Array.isArray(T)?C+=";"+x+":"+T.join(" "):T&&(C+=";"+x+":"+T)}n=C}}else g==="boolean"?n=n?"true":"false":g!=="string"&&(n=n.toString()),p==="value"&&s.value!==n?s.value=n:p==="checked"&&(s.checked=N[p]);s.setAttribute(p,n)}}}if(d)for(let p in d)typeof d[p]=="function"?s.removeEventListener(p,d[p]):(!N||!(p in N)||!N[p])&&(p==="value"?s.value="":p==="checked"&&(s.checked=!1),s.removeAttribute(p))},a=[],f=[],A=s=>{let N=a.find(d=>d.r===s.r&&v(d.m,s.m));return N||(N={c:U(s.r(j,s.m)),m:s.m,r:s.r}),f.includes(N)||f.push(N),D(N.c)},i=(s,N,d,p)=>{var x,T,z;let n=0,g=0;if(N)for(;n<N.length;n++){let y=N[n];if(y.r){let m=A(y);N.splice(n,1,...m),n--;continue}let G=!1;if(d)for(let m=n-g;m<d.length;m++){let l=d[m];if(l.t&&y.t===l.t||!l.t&&!y.t){G=!0,n!==m&&(s.insertBefore(s.childNodes[m+g],s.childNodes[n]),d.splice(n-g,0,...d.splice(m,1))),y.t?(c(s.childNodes[n],y.a,l.a),i(s.childNodes[n],y.c,l.c,l)):s.childNodes[n].textContent=typeof y=="string"?y:y.c;break}}if(!G){let m;if(y.t){m=document.createElement(y.t),y.a&&c(m,y.a),y.c&&i(m,y.c);let l=(M,F,H)=>{!F||F.t?M.insertAdjacentElement(H,m):M.parentNode.insertBefore(m,M)};n===0?l(s,p,"afterbegin"):((x=d==null?void 0:d.length)!=null?x:0)+g>n?l(s.childNodes[n],d[n+g],"beforebegin"):l(s,p,"beforeend"),g++}else{m=typeof y=="string"?y:y.c;let l=(M,F,H)=>{!F||F.t?M.insertAdjacentText(H,m):M.parentNode.insertBefore(document.createTextNode(m),M.nextSibling)};n===0?l(s,p,"afterbegin"):((T=d==null?void 0:d.length)!=null?T:0)+g>n?l(s.childNodes[n],d[n+g],"beforebegin"):l(s,p,"beforeend"),g++}}}let C=((z=d==null?void 0:d.length)!=null?z:0)+g;if(C>=n)for(let y=C-1;y>=n;y--)s.childNodes[y].remove()};typeof t=="string"&&(t=JSON.parse(t)),t!=null||(t={});let b=!0,j=Object.getPrototypeOf(t)===Proxy.prototype?t:Y(t,()=>{b=!0,requestAnimationFrame(L)}),k=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof r=="string")try{r=JSON.parse(r)}catch(s){r=void 0}r!=null||(r=q(k));let R=!0,I=!1,L=()=>{if(R&&!I&&b&&u<=0){I=!0,b=!1;let s=U(o(j));if(i(k,s,r),r=s,a=f,f=[],I=!1,b)throw new Error("update during render")}};return L(),[()=>{b=!0,requestAnimationFrame(L)},()=>{if(R){R=!1;for(let s=k.childNodes.length-1;s>=0;s--)k.childNodes[s].remove()}},j]};Q(["staark"],{factory:S,fctory:Z,memo:J,mount:X,nde:K,node:h,text:W});})();
//# sourceMappingURL=staark.iife.min.js.map
