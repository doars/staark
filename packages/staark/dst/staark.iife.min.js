"use strict";(()=>{var O=function(e,t){let o=window;for(let n=0;n<e.length-1;n++)(typeof o[e[n]]!="object"||!Array.isArray(o[e[n]]))&&(o[e[n]]={}),o=o[e[n]];o[e[e.length-1]]=t};var h=e=>{var t;return(t=x(e))!=null?t:[]},x=e=>e?Array.isArray(e)?e:[e]:void 0;var P=(e,t,o)=>{let n=e?t:o;return typeof n=="function"&&(n=n()),h(n)};var k="n";var C=(e,t,o)=>((typeof t!="object"||t._===k||Array.isArray(t))&&(o=t,t=void 0),{_:k,a:t,c:x(o),t:e.toUpperCase()});var D=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,N)=>C(o,n,N)}});var v="]",H="[",J=".",K="=",S="#",E="'",F='"';var L=e=>{let t=e.length,o=0,n="",N={},s="",i=!0,y=3,b=()=>{if(s){switch(y){case 0:N[s]=i===!0?!0:i,i=!0;break;case 1:if(!N.class){N.class=s;break}N.class+=" "+s;break;case 2:N.id=s;break;case 3:n=s;break}s=""}},f,g,T=()=>{for(g=0;o<t;){if(f=e[o],o++,f===K){i="",f=e[o];let M=f===F,R=f===E;for((M||R)&&(i+=f,o++);o<t;){if(f=e[o],M&&f===F||R&&f===E){i+=f,o++;break}else if(!M&&!R&&f===v)break;i+=f,o++}for((i[0]===F&&i[i.length-1]===F||i[0]===E&&i[i.length-1]===E)&&(i=i.substring(1,i.length-1));o<t&&(f=e[o],o++,f!==v););break}else if(f===H){g++;continue}else if(f===v){if(g--,g<0)break;continue}s+=f}b()};for(;o<t;){if(f=e[o],o++,f===S){b(),y=2;continue}else if(f===J){b(),y=1;continue}else if(f===H){b(),y=0,T();continue}s+=f}return[n,N]};var W=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,N)=>{let s;if(n){let[i,y]=L(n);s=y}return C(o,s,N)}}});var Z=0,G=e=>e+"-"+Z++;var Q=(e,t,o)=>{let n;return t&&e in t&&t[e]?(n=t[e],typeof n=="function"&&(n=n())):n=o,h(n)};var I=(e,t)=>({_:k,r:e,m:t});var V=(e,t)=>{let[o,n]=L(e);return{_:k,a:n,c:x(t),t:o.toUpperCase()}};var w=e=>{if(typeof e=="object"){let t=Array.isArray(e)?[]:{};for(let o in e)t[o]=w(e[o]);return t}return e};var _=(e,t)=>{if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return e===t;if(e instanceof Date)return t instanceof Date&&e.getTime()===t.getTime();let o=Object.keys(e);return o.length===Object.keys(t).length&&o.every(n=>_(e[n],t[n]))};var j=e=>{var o;let t=[];for(let n of e.childNodes)if(n instanceof Text)t.push((o=n.textContent)!=null?o:"");else{let N=n,s={};for(let i of N.attributes)s[i.name]=i.value;t.push(C(n.nodeName,s,j(n)))}return t};var q=(e,t)=>{let o=new WeakMap,n={deleteProperty:(s,i)=>{if(Reflect.has(s,i)){let y=Reflect.deleteProperty(s,i);return y&&t(),y}return!0},set:(s,i,y)=>(s[i]!==y&&(y&&typeof y=="object"&&(y=N(y)),s[i]=y,t()),!0)},N=s=>{if(o.has(s))return o.get(s);for(let y in s)s[y]&&typeof s[y]=="object"&&(s[y]=N(s[y]));let i=new Proxy(s,n);return o.set(s,i),i};return N(e)};var z=(e,t,o,n)=>{typeof o=="string"&&(o=JSON.parse(o)),o||(o={});let N=null,s=()=>(N||(N=Promise.resolve().then(U)),N),i=Object.getPrototypeOf(o)===Proxy.prototype?o:q(o,s),y=(c,l,p)=>{if(l)for(let r in l){let a=l[r];if(a){let m=typeof a;if(m==="function"){let u=p==null?void 0:p[r];if((u==null?void 0:u.f)!==a){u&&c.removeEventListener(r,u);let d=l[r]=A=>{a(A,i)};d.f=a,c.addEventListener(r,d)}}else if(r==="class"){if(typeof a=="object")if(Array.isArray(a))a=a.join(" ");else{let u="";for(let d in a)a[d]&&(u+=" "+d);a=u}c.className=a}else if(r==="style"&&typeof a=="object"){for(let u in a){let d=a[u];u.includes("-",1)?c.style.setProperty(u,d):c.style[u]=d}if(p&&p[r]&&typeof p[r]=="object"&&!Array.isArray(p[r]))for(let u in p[r])u in a||(u.includes("-")?c.style.removeProperty(u):delete c.style[u])}else a===!0?a="true":m!=="string"&&(a=a.toString()),c.setAttribute(r,a)}}if(p)for(let r in p){let a=p[r];(!l||!l[r])&&(typeof a=="function"?c.removeEventListener(r,p[r]):r==="class"?c.className="":r==="style"?c.style.cssText="":r==="value"?c.value="":c.removeAttribute(r))}},b=new WeakMap,f=new WeakMap,g=(c,l,p)=>{let r=0,a=0;if(l)for(;r<l.length;r++){let m=l[r];if(m.r){let d=b.get(m.r);(!d||!_(d.m,m.m))&&(d={c:x(m.r(i,m.m)),m:m.m,r:m.r}),f.set(m.r,d),l.splice(r,1,...w(d.c)),r--;continue}let u=!1;if(p)for(let d=r-a;d<p.length;d++){let A=p[d];if(A.t&&m.t===A.t||!A.t&&!m.t){u=!0,r!==d+a&&(c.insertBefore(c.childNodes[d+a],c.childNodes[r]),p.splice(r-a,0,p.splice(d,1)[0])),m.t?(y(c.childNodes[r],m.a,A.a),g(c.childNodes[r],m.c,A.c)):A!==m&&(c.childNodes[r].textContent=m);break}}if(!u){let d;m.t?(d=document.createElement(m.t),y(d,m.a),g(d,m.c)):d=document.createTextNode(m),c.insertBefore(d,c.childNodes[r]),a++}}if(p){let m=p.length+a;if(m>=r)for(let u=m-1;u>=r;u--)c.childNodes[u].remove()}},T=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch(c){n=null}n||(n=j(T));let M=!0,R=!1,U=()=>{if(M&&!R&&N){R=!0,N=null;let c=x(t(i));g(T,c,n),n=c,b=f,f=new WeakMap,R=!1}};return s(),U(),[s,()=>{if(M){M=!1;for(let c=T.childNodes.length-1;c>=0;c--)T.childNodes[c].remove()}},i]};O(["staark"],{conditional:P,factory:D,fctory:W,identifier:G,match:Q,memo:I,mount:z,nde:V,node:C});})();
//# sourceMappingURL=staark.iife.min.js.map
