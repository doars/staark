"use strict";(()=>{var W=function(e,o){let t=window;for(let n=0;n<e.length-1;n++)(typeof t[e[n]]!="object"||!Array.isArray(t[e[n]]))&&(t[e[n]]={}),t=t[e[n]];t[e[e.length-1]]=o};var v=e=>{var o;return(o=C(e))!=null?o:[]},C=e=>e?Array.isArray(e)?e:[e]:void 0;var G=(e,o,t)=>{let n=e?o:t;return typeof n=="function"&&(n=n()),v(n)};var R="n";var E=(e,o,t)=>((typeof o!="object"||o._===R||Array.isArray(o))&&(t=o,o=void 0),{_:R,a:o,c:C(t),t:e.toUpperCase()});var I=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[o]=(n,m)=>E(t,n,m)}});var _="]",Q="[",B=".",X="=",Y="#",j="'",w='"';var P=e=>{let o=e.length,t=0,n="",m={},c="",i=!0,f=3,y=()=>{if(c){switch(f){case 0:m[c]=i===!0?!0:i,i=!0;break;case 1:if(!m.class){m.class=c;break}m.class+=" "+c;break;case 2:m.id=c;break;case 3:n=c;break}c=""}},d,x,T=()=>{for(x=0;t<o;){if(d=e[t],t++,d===X){i="",d=e[t];let M=d===w,h=d===j;for((M||h)&&(i+=d,t++);t<o;){if(d=e[t],M&&d===w||h&&d===j){i+=d,t++;break}else if(!M&&!h&&d===_)break;i+=d,t++}for((i[0]===w&&i[i.length-1]===w||i[0]===j&&i[i.length-1]===j)&&(i=i.substring(1,i.length-1));t<o&&(d=e[t],t++,d!==_););break}else if(d===Q){x++;continue}else if(d===_){if(x--,x<0)break;continue}c+=d}y()};for(;t<o;){if(d=e[t],t++,d===Y){y(),f=2;continue}else if(d===B){y(),f=1;continue}else if(d===Q){y(),f=0,T();continue}c+=d}return[n,m]};var q=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[o]=(n,m)=>{let c;if(n){let[i,f]=P(n);c=f}return E(t,c,m)}}});var $=0,z=e=>e+"-"+$++;var V=(e,o,t)=>{let n;return o&&e in o&&o[e]?(n=o[e],typeof n=="function"&&(n=n())):n=t,v(n)};var J=(e,o)=>({_:R,r:e,m:o});var K=(e,o)=>{let[t,n]=P(e);return{_:R,a:n,c:C(o),t:t.toUpperCase()}};var U=e=>{if(typeof e=="object"){let o=Array.isArray(e)?[]:{};for(let t in e)o[t]=U(e[t]);return o}return e};var O=(e,o)=>{if(e===o)return!0;if(!e||!o||typeof e!="object"||typeof o!="object")return e===o;if(e instanceof Date)return o instanceof Date&&e.getTime()===o.getTime();let t=Object.keys(e);return t.length===Object.keys(o).length&&t.every(n=>O(e[n],o[n]))};var D=e=>{var t;let o=[];for(let n of e.childNodes)if(n instanceof Text)o.push((t=n.textContent)!=null?t:"");else{let m=n,c={};for(let i of m.attributes)c[i.name]=i.value;o.push(E(n.nodeName,c,D(n)))}return o};var S=(e,o)=>{let t=new WeakMap,n={deleteProperty:(c,i)=>{if(Reflect.has(c,i)){let f=c[i];typeof f=="object"&&f&&t.has(f)&&t.get(f).revoke();let y=Reflect.deleteProperty(c,i);return y&&o(),y}return!0},set:(c,i,f)=>{let y=c[i];return y!==f&&(typeof y=="object"&&y&&t.has(y)&&t.get(y).revoke(),c[i]=typeof f=="object"&&f?t.has(f)?t.get(f).proxy:m(f):f,o()),!0}},m=c=>{if(t.has(c))return t.get(c).proxy;for(let f in c){let y=c[f];y&&typeof y=="object"&&(c[f]=m(y))}let i=Proxy.revocable(c,n);return t.set(c,i),i.proxy};return m(e)};var Z=(e,o,t,n)=>{typeof t=="string"&&(t=JSON.parse(t)),t||(t={});let m=null,c=()=>(m||(m=Promise.resolve().then(H)),m),i=Object.getPrototypeOf(t)===Proxy.prototype?t:S(t,c),f=(a,g,u)=>{if(g)for(let N in g){let r=g[N];if(r){let A=typeof r;if(A==="function"){let s=u==null?void 0:u[N];if((s==null?void 0:s.f)!==r){s&&a.removeEventListener(N,s);let b=g[N]=p=>{r(p,i)};b.f=r,a.addEventListener(N,b)}}else if(N==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let s="";for(let b in r)r[b]&&(s+=" "+b);r=s}a.className=r}else if(N==="style"&&typeof r=="object"){for(let s in r){let b=r[s];s.includes("-",1)?a.style.setProperty(s,b):a.style[s]=b}if(u&&u[N]&&typeof u[N]=="object"&&!Array.isArray(u[N]))for(let s in u[N])s in r||(s.includes("-")?a.style.removeProperty(s):delete a.style[s])}else r===!0?r="true":A!=="string"&&(r=r.toString()),a.setAttribute(N,r)}}if(u)for(let N in u){let r=u[N];(!g||!g[N])&&(typeof r=="function"?a.removeEventListener(N,u[N]):N==="class"?a.className="":N==="style"?a.style.cssText="":a.removeAttribute(N))}},y=new WeakMap,d=new WeakMap,x=(a,g,u,N)=>{let r=0,A=0;if(g)for(;r<g.length;r++){let s=g[r];if(s.r){let p=y.get(s.r);(!p||!O(p.m,s.m))&&(p={c:C(s.r(i,s.m)),m:s.m,r:s.r}),d.set(s.r,p),g.splice(r,1,...U(p.c)),r--;continue}let b=!1;if(u)for(let p=r-A;p<u.length;p++){let l=u[p];if(l.t&&s.t===l.t||!l.t&&!s.t){b=!0,r!==p+A&&(a.insertBefore(a.childNodes[p+A],a.childNodes[r]),u.splice(r-A,0,u.splice(p,1)[0])),s.t?(f(a.childNodes[r],s.a,l.a),x(a.childNodes[r],s.c,l.c,l)):l!==s&&(a.childNodes[r].textContent=s);break}}if(!b){let p;if(s.t){p=document.createElement(s.t),s.a&&f(p,s.a),s.c&&x(p,s.c);let l=(k,F,L)=>{L&&(!F||F.t)?k.insertAdjacentElement(L,p):k.parentNode.insertBefore(p,k)};r===0?l(a,N,"afterbegin"):u&&u.length+A>r?l(a.childNodes[r]):l(a,N,"beforeend")}else{let l=(k,F,L)=>{L&&(!F||F.t)?k.insertAdjacentText(L,s):k.parentNode.insertBefore(document.createTextNode(s),k)};r===0?l(a,N,"afterbegin"):u&&u.length+A>r?l(a.childNodes[r]):l(a,N,"beforeend")}A++}}if(u){let s=u.length+A;if(s>=r)for(let b=s-1;b>=r;b--)a.childNodes[b].remove()}},T=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch(a){n=void 0}n||(n=D(T));let M=!0,h=!1,H=()=>{if(M&&!h&&m){h=!0,m=null;let a=C(o(i));x(T,a,n),n=a,y=d,d=new WeakMap,h=!1}};return c(),H(),[c,()=>{if(M){M=!1;for(let a=T.childNodes.length-1;a>=0;a--)T.childNodes[a].remove()}},i]};W(["staark"],{conditional:G,factory:I,fctory:q,identifier:z,match:V,memo:J,mount:Z,nde:K,node:E});})();
//# sourceMappingURL=staark.iife.min.js.map
