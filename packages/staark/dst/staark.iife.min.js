"use strict";(()=>{var U=function(e,o){let t=window;for(let n=0;n<e.length-1;n++)(typeof t[e[n]]!="object"||!Array.isArray(t[e[n]]))&&(t[e[n]]={}),t=t[e[n]];t[e[e.length-1]]=o};var T=e=>{var o;return(o=x(e))!=null?o:[]},x=e=>e?Array.isArray(e)?e:[e]:void 0;var O=(e,o,t)=>{let n=e?o:t;return typeof n=="function"&&(n=n()),T(n)};var k="n";var C=(e,o,t)=>((typeof o!="object"||o._===k||Array.isArray(o))&&(t=o,o=void 0),{_:k,a:o,c:x(t),t:e.toUpperCase()});var D=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[o]=(n,N)=>C(t,n,N)}});var v="]",H="[",J=".",K="=",S="#",E="'",F='"';var L=e=>{let o=e.length,t=0,n="",N={},i="",s=!0,u=3,p=()=>{if(i){switch(u){case 0:N[i]=s===!0?!0:s,s=!0;break;case 1:if(!N.class){N.class=i;break}N.class+=" "+i;break;case 2:N.id=i;break;case 3:n=i;break}i=""}},f,g,R=()=>{for(g=0;t<o;){if(f=e[t],t++,f===K){s="",f=e[t];let M=f===F,h=f===E;for((M||h)&&(s+=f,t++);t<o;){if(f=e[t],M&&f===F||h&&f===E){s+=f,t++;break}else if(!M&&!h&&f===v)break;s+=f,t++}for((s[0]===F&&s[s.length-1]===F||s[0]===E&&s[s.length-1]===E)&&(s=s.substring(1,s.length-1));t<o&&(f=e[t],t++,f!==v););break}else if(f===H){g++;continue}else if(f===v){if(g--,g<0)break;continue}i+=f}p()};for(;t<o;){if(f=e[t],t++,f===S){p(),u=2;continue}else if(f===J){p(),u=1;continue}else if(f===H){p(),u=0,R();continue}i+=f}return[n,N]};var W=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[o]=(n,N)=>{let i;if(n){let[s,u]=L(n);i=u}return C(t,i,N)}}});var Z=0,G=e=>e+"-"+Z++;var Q=(e,o,t)=>{let n;return o&&e in o&&o[e]?(n=o[e],typeof n=="function"&&(n=n())):n=t,T(n)};var q=(e,o)=>({_:k,r:e,m:o});var z=(e,o)=>{let[t,n]=L(e);return{_:k,a:n,c:x(o),t:t.toUpperCase()}};var w=e=>{if(typeof e=="object"){let o=Array.isArray(e)?[]:{};for(let t in e)o[t]=w(e[t]);return o}return e};var j=(e,o)=>{if(e===o)return!0;if(!e||!o||typeof e!="object"||typeof o!="object")return e===o;if(e instanceof Date)return o instanceof Date&&e.getTime()===o.getTime();let t=Object.keys(e);return t.length===Object.keys(o).length&&t.every(n=>j(e[n],o[n]))};var _=e=>{var t;let o=[];for(let n of e.childNodes)if(n instanceof Text)o.push((t=n.textContent)!=null?t:"");else{let N=n,i={};for(let s of N.attributes)i[s.name]=s.value;o.push(C(n.nodeName,i,_(n)))}return o};var I=(e,o)=>{let t=new WeakMap,n={deleteProperty:(i,s)=>{if(Reflect.has(i,s)){let u=i[s];typeof u=="object"&&u&&t.has(u)&&t.get(u).revoke();let p=Reflect.deleteProperty(i,s);return p&&o(),p}return!0},set:(i,s,u)=>{let p=i[s];return p!==u&&(typeof p=="object"&&p&&t.has(p)&&t.get(p).revoke(),i[s]=typeof u=="object"&&u?t.has(u)?t.get(u).proxy:N(u):u,o()),!0}},N=i=>{if(t.has(i))return t.get(i).proxy;for(let u in i){let p=i[u];p&&typeof p=="object"&&(i[u]=N(p))}let s=Proxy.revocable(i,n);return t.set(i,s),s.proxy};return N(e)};var V=(e,o,t,n)=>{typeof t=="string"&&(t=JSON.parse(t)),t||(t={});let N=null,i=()=>(N||(N=Promise.resolve().then(P)),N),s=Object.getPrototypeOf(t)===Proxy.prototype?t:I(t,i),u=(a,l,b)=>{if(l)for(let r in l){let c=l[r];if(c){let m=typeof c;if(m==="function"){let y=b==null?void 0:b[r];if((y==null?void 0:y.f)!==c){y&&a.removeEventListener(r,y);let d=l[r]=A=>{c(A,s)};d.f=c,a.addEventListener(r,d)}}else if(r==="class"){if(typeof c=="object")if(Array.isArray(c))c=c.join(" ");else{let y="";for(let d in c)c[d]&&(y+=" "+d);c=y}a.className=c}else if(r==="style"&&typeof c=="object"){for(let y in c){let d=c[y];y.includes("-",1)?a.style.setProperty(y,d):a.style[y]=d}if(b&&b[r]&&typeof b[r]=="object"&&!Array.isArray(b[r]))for(let y in b[r])y in c||(y.includes("-")?a.style.removeProperty(y):delete a.style[y])}else c===!0?c="true":m!=="string"&&(c=c.toString()),a.setAttribute(r,c)}}if(b)for(let r in b){let c=b[r];(!l||!l[r])&&(typeof c=="function"?a.removeEventListener(r,b[r]):r==="class"?a.className="":r==="style"?a.style.cssText="":a.removeAttribute(r))}},p=new WeakMap,f=new WeakMap,g=(a,l,b)=>{let r=0,c=0;if(l)for(;r<l.length;r++){let m=l[r];if(m.r){let d=p.get(m.r);(!d||!j(d.m,m.m))&&(d={c:x(m.r(s,m.m)),m:m.m,r:m.r}),f.set(m.r,d),l.splice(r,1,...w(d.c)),r--;continue}let y=!1;if(b)for(let d=r-c;d<b.length;d++){let A=b[d];if(A.t&&m.t===A.t||!A.t&&!m.t){y=!0,r!==d+c&&(a.insertBefore(a.childNodes[d+c],a.childNodes[r]),b.splice(r-c,0,b.splice(d,1)[0])),m.t?(u(a.childNodes[r],m.a,A.a),g(a.childNodes[r],m.c,A.c)):A!==m&&(a.childNodes[r].textContent=m);break}}if(!y){let d;m.t?(d=document.createElement(m.t),u(d,m.a),g(d,m.c)):d=document.createTextNode(m),a.insertBefore(d,a.childNodes[r]),c++}}if(b){let m=b.length+c;if(m>=r)for(let y=m-1;y>=r;y--)a.childNodes[y].remove()}},R=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch(a){n=null}n||(n=_(R));let M=!0,h=!1,P=()=>{if(M&&!h&&N){h=!0,N=null;let a=x(o(s));g(R,a,n),n=a,p=f,f=new WeakMap,h=!1}};return i(),P(),[i,()=>{if(M){M=!1;for(let a=R.childNodes.length-1;a>=0;a--)R.childNodes[a].remove()}},s]};U(["staark"],{conditional:O,factory:D,fctory:W,identifier:G,match:Q,memo:q,mount:V,nde:z,node:C});})();
//# sourceMappingURL=staark.iife.min.js.map
