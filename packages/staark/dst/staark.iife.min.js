"use strict";(()=>{var S=function(e,t){let o=window;for(let n=0;n<e.length-1;n++)(typeof o[e[n]]!="object"||!Array.isArray(o[e[n]]))&&(o[e[n]]={}),o=o[e[n]];o[e[e.length-1]]=t};var E=function(e){return Array.isArray(e)?e:[e]};var z=(e,t,o)=>e?E(t):E(o??[]);var C=Symbol();var k=(e,t,o)=>((typeof t!="object"||t._===C||Array.isArray(t))&&(o=t,t=void 0),{_:C,a:t,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var G=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,u)=>k(o,n,u)}});var I="]",Q="[",X=".",$="=",B="#",v="'",_='"';var w=e=>{let t=e.length,o=0,n="",u={},a="",d=!0,f=3,g=()=>{if(a){switch(f){case 0:u[a]=d===!0?!0:d,d=!0;break;case 1:if(!u.class){u.class=a;break}u.class+=" "+a;break;case 2:u.id=a;break;case 3:n=a;break}a=""}},i,b,F=()=>{for(b=0;o<t;){if(i=e[o],o++,i===$){d="",i=e[o];let M=i===_,h=i===v;for((M||h)&&(d+=i,o++);o<t;){if(i=e[o],M&&i===_||h&&i===v){d+=i,o++;break}else if(!M&&!h&&i===I)break;d+=i,o++}for((d[0]===_&&d[d.length-1]===_||d[0]===v&&d[d.length-1]===v)&&(d=d.substring(1,d.length-1));o<t&&(i=e[o],o++,i!==I););break}else if(i===Q){b++;continue}else if(i===I){if(b--,b<0)break;continue}a+=i}g()};for(;o<t;){if(i=e[o],o++,i===B){g(),f=2;continue}else if(i===X){g(),f=1;continue}else if(i===Q){g(),f=0,F();continue}a+=i}return[n,u]};var V=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,u)=>{let a;if(n){let[d,f]=w(n);a=f}return k(o,a,u)}}});var Z=(e,t)=>t&&e in t&&t[e]?E(t[e]):[];var q=(e,t)=>({_:C,r:e,m:t});var J=(e,t)=>{let[o,n]=w(e);return{_:C,a:n,c:t?Array.isArray(t)?t:[t]:[],t:o.toUpperCase()}};var K=e=>({_:C,c:Array.isArray(e)?e.join(""):""+e});var U=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e==null||t===null||t===void 0||e.prototype!==t.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(t).length?!1:o.every(n=>U(e[n],t[n]))};var O=e=>{let t=[];for(let o=0;o<e.childNodes.length;o++){let n=e.childNodes[o];if(n instanceof Text)t.push(n.textContent??"");else{let u={};for(let a=0;a<n.attributes.length;a++){let d=n.attributes[a];u[d.name]=d.value}t.push(k(n.nodeName,u,O(n)))}}return t};var W=(e,t)=>{let o=new WeakMap,n=a=>{if(o.has(a)){let d=o.get(a);o.delete(d);for(let f in d.proxy)typeof d.proxy[f]=="object"&&n(d.proxy[f]);d.revoke()}},u=a=>{if(o.has(a))return o.get(a);for(let f in a)a[f]&&typeof a[f]=="object"&&(a[f]=u(a[f]));let d=Proxy.revocable(a,{deleteProperty:(f,g)=>{if(Reflect.has(f,g)){n(f);let i=Reflect.deleteProperty(f,g);return i&&t(),i}return!0},set:(f,g,i)=>{let b=f[g];return b!==i&&(typeof b=="object"&&n(b),i&&typeof i=="object"&&(i=u(i)),f[g]=i,t()),!0}});return o.set(d,a),d.proxy};return u(e)};var ee=/[A-Z]+(?![a-z])|[A-Z]/g,te=(e,t)=>(t?"-":"")+e,Y=(e,t,o,n)=>{let u=0,a=(s,y,N)=>{if(y)for(let p in y){let r=y[p];if(r){let A=typeof r;if(A==="function"){let x=y[p]=c=>{u++;try{r(c)}catch{}u--,H()};s.addEventListener(p,x);continue}else{if(p==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let x="";for(let c in r)r[c]&&(x+=" "+c);r=x}}else if(p==="style"){if(typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let x="";for(let c in r){let T=r[c];c=c.replace(ee,te).toLowerCase(),Array.isArray(T)?x+=";"+c+":"+T.join(" "):T&&(x+=";"+c+":"+T)}r=x}}else{if(A==="boolean"){if(!r){s.removeAttribute(p);continue}r="true"}else A!=="string"&&(r=r.toString());p==="value"&&s.value!==r?s.value=r:p==="checked"&&(s.checked=y[p])}s.setAttribute(p,r)}}}if(N)for(let p in N)typeof N[p]=="function"?s.removeEventListener(p,N[p]):(!y||!(p in y)||!y[p])&&(p==="value"?s.value="":p==="checked"&&(s.checked=!1),s.removeAttribute(p))},d=[],f=[],g=s=>{let y=d.find(N=>N.r===s.r&&U(N.m,s.m));return y||(y={c:E(s.r(M,s.m)),m:s.m,r:s.r}),f.includes(y)||f.push(y),structuredClone(y.c)},i=(s,y,N,p)=>{let r=0,A=0;if(y)for(;r<y.length;r++){let c=y[r];if(c.r){let m=g(c);y.splice(r,1,...m),r--;continue}let T=!1;if(N)for(let m=r-A;m<N.length;m++){let l=N[m];if(l.t&&c.t===l.t||!l.t&&!c.t){T=!0,r!==m+A&&(s.insertBefore(s.childNodes[m+A],s.childNodes[r]),N.splice(r-A,0,...N.splice(m,1))),c.t?(a(s.childNodes[r],c.a,l.a),i(s.childNodes[r],c.c,l.c,l)):s.childNodes[r].textContent=typeof c=="string"?c:c.c;break}}if(!T){let m;if(c.t){m=document.createElement(c.t),c.a&&a(m,c.a),c.c&&i(m,c.c);let l=(R,j,L)=>{L&&(!j||j.t)?R.insertAdjacentElement(L,m):R.parentNode.insertBefore(m,R)};r===0?l(s,p,"afterbegin"):(N?.length??0)+A>r?l(s.childNodes[r]):l(s,p,"beforeend")}else{m=typeof c=="string"?c:c.c;let l=(R,j,L)=>{L&&(!j||j.t)?R.insertAdjacentText(L,m):R.parentNode.insertBefore(document.createTextNode(m),R.nextSibling)};r===0?l(s,p,"afterbegin"):(N?.length??0)+A>r?l(s.childNodes[r]):l(s,p,"beforeend")}A++}}let x=(N?.length??0)+A;if(x>=r)for(let c=x-1;c>=r;c--)s.childNodes[c].remove()};typeof o=="string"&&(o=JSON.parse(o)),o??={};let b=!0,F=()=>{b||(b=!0,Promise.resolve().then(H))},M=Object.getPrototypeOf(o)===Proxy.prototype?o:W(o,F),h=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch{n=void 0}n??=O(h);let P=!0,D=!1,H=()=>{if(P&&!D&&b&&u<=0){D=!0,b=!1;let s=E(t(M));if(i(h,s,n),n=s,d=f,f=[],D=!1,b)throw new Error("update during render")}};return H(),[F,()=>{if(P){P=!1;for(let s=h.childNodes.length-1;s>=0;s--)h.childNodes[s].remove()}},M]};S(["staark"],{conditional:z,factory:G,fctory:V,match:Z,memo:q,mount:Y,nde:J,node:k,text:K});})();
//# sourceMappingURL=staark.iife.min.js.map
