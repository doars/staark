var A="n";var J=(n,s)=>({_:A,r:n,m:s});var C=(n,s,o)=>((typeof s!="object"||s._===A||Array.isArray(s))&&(o=s,s=void 0),{_:A,a:s,c:o?Array.isArray(o)?o:[o]:[],t:n.toUpperCase()});var T=n=>Array.isArray(n)?n:[n];var P=n=>{if(typeof n=="object"){let s=Array.isArray(n)?[]:{};for(let o in n)s[o]=P(n[o]);return s}return n};var w=(n,s)=>{if(n===s)return!0;if(!n||!s||typeof n!="object"||typeof s!="object")return n===s;if(n instanceof Date)return s instanceof Date&&n.getTime()===s.getTime();let o=Object.keys(n);return o.length===Object.keys(s).length&&o.every(d=>w(n[d],s[d]))};var F=n=>{var o;let s=[];for(let d=0;d<n.childNodes.length;d++){let y=n.childNodes[d];if(y instanceof Text)s.push((o=y.textContent)!=null?o:"");else{let c={};for(let p=0;p<y.attributes.length;p++){let f=y.attributes[p];c[f.name]=f.value}s.push(C(y.nodeName,c,F(y)))}}return s};var W=(n,s)=>{let o=new WeakMap,d={deleteProperty:(c,p)=>{if(Reflect.has(c,p)){let f=c[p];typeof f=="object"&&f&&o.has(f)&&o.get(f).revoke();let u=Reflect.deleteProperty(c,p);return u&&s(),u}return!0},set:(c,p,f)=>{let u=c[p];return u!==f&&(typeof u=="object"&&u&&o.has(u)&&o.get(u).revoke(),c[p]=typeof f=="object"&&f?o.has(f)?o.get(f).proxy:y(f):f,s()),!0}},y=c=>{if(o.has(c))return o.get(c).proxy;for(let f in c){let u=c[f];u&&typeof u=="object"&&(c[f]=y(u))}let p=Proxy.revocable(c,d);return o.set(c,p),p.proxy};return y(n)};var G=/[A-Z]+(?![a-z])|[A-Z]/g,U=(n,s)=>(s?"-":"")+n,ie=(n,s,o,d)=>{typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let y=null,c=()=>(y||(y=Promise.resolve().then(H)),y),p=Object.getPrototypeOf(o)===Proxy.prototype?o:W(o,c),f=(t,b,i)=>{if(b)for(let r in b){let e=b[r];if(e){let l=typeof e;if(l==="function"){if(i&&i[r]){if(i[r].f===e)continue;t.removeEventListener(r,i[r])}let N=b[r]=function(M){e(M,p)};N.f=e,t.addEventListener(r,N)}else if(r==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let N="";for(let M in e)e[M]&&(N+=" "+M);e=N}t.className=e}else if(r==="style"&&typeof e=="object"){for(let N in e){let M=e[N];N=N.replace(G,U).toLowerCase(),Array.isArray(M)&&(M=M.join(" ")),t.style.setProperty(N,M)}if(i&&i[r]&&typeof i[r]=="object"&&!Array.isArray(i[r]))for(let N in i[r])N in e||(N=N.replace(G,U).toLowerCase(),t.style.removeProperty(N))}else{if(l==="boolean"){if(!e){t.removeAttribute(r);continue}e="true"}else l!=="string"&&(e=e.toString());r==="value"&&t.value!==e?t.value=e:r==="checked"&&(t.checked=b[r]),t.setAttribute(r,e)}}}if(i)for(let r in i){let e=i[r];(!b||!b[r])&&(typeof e=="function"?t.removeEventListener(r,i[r]):r==="class"?t.className="":r==="style"?t.style="":(r==="value"?t.value="":r==="checked"&&(t.checked=!1),t.removeAttribute(r)))}},u=new WeakMap,k=new WeakMap,R=(t,b,i,r)=>{var M,I,_;let e=0,l=0;if(b)for(;e<b.length;e++){let a=b[e];if(a.r){let m=u.get(a.r);(!m||!w(m.m,a.m))&&(m={c:T(a.r(p,a.m)),m:a.m,r:a.r}),k.set(a.r,m),b.splice(e,1,...P(m.c)),e--;continue}let D=!1;if(i)for(let m=e-l;m<i.length;m++){let g=i[m];if(g.t&&a.t===g.t||!g.t&&!a.t){D=!0,e!==m+l&&(t.insertBefore(t.childNodes[m+l],t.childNodes[e]),i.splice(e-l,0,...i.splice(m,1))),a.t?(f(t.childNodes[e],a.a,g.a),R(t.childNodes[e],a.c,g.c,g)):g!==a&&(t.childNodes[e].textContent=a);break}}if(!D){let m;if(a.t){m=document.createElement(a.t),a.a&&f(m,a.a),a.c&&R(m,a.c);let g=(x,E,L)=>{L&&(!E||E.t)?x.insertAdjacentElement(L,m):x.parentNode.insertBefore(m,x)};e===0?g(t,r,"afterbegin"):((M=i==null?void 0:i.length)!=null?M:0)+l>e?g(t.childNodes[e]):g(t,r,"beforeend")}else{let g=(x,E,L)=>{L&&(!E||E.t)?x.insertAdjacentText(L,a):x.parentNode.insertBefore(document.createTextNode(a),x)};e===0?g(t,r,"afterbegin"):((I=i==null?void 0:i.length)!=null?I:0)+l>e?g(t.childNodes[e]):g(t,r,"beforeend")}l++}}let N=((_=i==null?void 0:i.length)!=null?_:0)+l;if(N>=e)for(let a=N-1;a>=e;a--)t.childNodes[a].remove()},h=typeof n=="string"?document.querySelector(n)||document.body.appendChild(document.createElement("div")):n;if(typeof d=="string")try{d=JSON.parse(d)}catch(t){d=void 0}d!=null||(d=F(h));let v=!0,j=!1,H=()=>{if(v&&!j&&y){j=!0,y=null;let t=T(s(p));if(R(h,t,d),d=t,u=k,k=new WeakMap,j=!1,y)throw new Error("update during render")}};return c(),H(),[c,()=>{if(v){v=!1;for(let t=h.childNodes.length-1;t>=0;t--)h.childNodes[t].remove()}},p]};export{J as memo,ie as mount,C as node};
//# sourceMappingURL=staark.base.min.js.map
