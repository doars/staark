var A="n";var H=(n,s)=>({_:A,r:n,m:s});var h=n=>n?Array.isArray(n)?n:[n]:void 0;var w=(n,s,r)=>((typeof s!="object"||s._===A||Array.isArray(s))&&(r=s,s=void 0),{_:A,a:s,c:h(r),t:n.toUpperCase()});var v=n=>{if(typeof n=="object"){let s=Array.isArray(n)?[]:{};for(let r in n)s[r]=v(n[r]);return s}return n};var C=(n,s)=>{if(n===s)return!0;if(!n||!s||typeof n!="object"||typeof s!="object")return n===s;if(n instanceof Date)return s instanceof Date&&n.getTime()===s.getTime();let r=Object.keys(n);return r.length===Object.keys(s).length&&r.every(f=>C(n[f],s[f]))};var P=n=>{var r;let s=[];for(let f of n.childNodes)if(f instanceof Text)s.push((r=f.textContent)!=null?r:"");else{let l=f,c={};for(let m of l.attributes)c[m.name]=m.value;s.push(w(f.nodeName,c,P(f)))}return s};var D=(n,s)=>{let r=new WeakMap,f={deleteProperty:(c,m)=>{if(Reflect.has(c,m)){let p=c[m];typeof p=="object"&&p&&r.has(p)&&r.get(p).revoke();let N=Reflect.deleteProperty(c,m);return N&&s(),N}return!0},set:(c,m,p)=>{let N=c[m];return N!==p&&(typeof N=="object"&&N&&r.has(N)&&r.get(N).revoke(),c[m]=typeof p=="object"&&p?r.has(p)?r.get(p).proxy:l(p):p,s()),!0}},l=c=>{if(r.has(c))return r.get(c).proxy;for(let p in c){let N=c[p];N&&typeof N=="object"&&(c[p]=l(N))}let m=Proxy.revocable(c,f);return r.set(c,m),m.proxy};return l(n)};var te=(n,s,r,f)=>{typeof r=="string"&&(r=JSON.parse(r)),r||(r={});let l=null,c=()=>(l||(l=Promise.resolve().then(F)),l),m=Object.getPrototypeOf(r)===Proxy.prototype?r:D(r,c),p=(o,g,a)=>{if(g)for(let i in g){let e=g[i];if(e){let b=typeof e;if(b==="function"){let t=a==null?void 0:a[i];if((t==null?void 0:t.f)!==e){t&&o.removeEventListener(i,t);let y=g[i]=d=>{e(d,m)};y.f=e,o.addEventListener(i,y)}}else if(i==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let t="";for(let y in e)e[y]&&(t+=" "+y);e=t}o.className=e}else if(i==="style"&&typeof e=="object"){for(let t in e){let y=e[t];t.includes("-",1)?o.style.setProperty(t,y):o.style[t]=y}if(a&&a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i]))for(let t in a[i])t in e||(t.includes("-")?o.style.removeProperty(t):delete o.style[t])}else e===!0?e="true":b!=="string"&&(e=e.toString()),o.setAttribute(i,e)}}if(a)for(let i in a){let e=a[i];(!g||!g[i])&&(typeof e=="function"?o.removeEventListener(i,a[i]):i==="class"?o.className="":i==="style"?o.style.cssText="":o.removeAttribute(i))}},N=new WeakMap,R=new WeakMap,T=(o,g,a,i)=>{let e=0,b=0;if(g)for(;e<g.length;e++){let t=g[e];if(t.r){let d=N.get(t.r);(!d||!C(d.m,t.m))&&(d={c:h(t.r(m,t.m)),m:t.m,r:t.r}),R.set(t.r,d),g.splice(e,1,...v(d.c)),e--;continue}let y=!1;if(a)for(let d=e-b;d<a.length;d++){let u=a[d];if(u.t&&t.t===u.t||!u.t&&!t.t){y=!0,e!==d+b&&(o.insertBefore(o.childNodes[d+b],o.childNodes[e]),a.splice(e-b,0,a.splice(d,1)[0])),t.t?(p(o.childNodes[e],t.a,u.a),T(o.childNodes[e],t.c,u.c,u)):u!==t&&(o.childNodes[e].textContent=t);break}}if(!y){let d;if(t.t){d=document.createElement(t.t),t.a&&p(d,t.a),t.c&&T(d,t.c);let u=(x,M,E)=>{E&&(!M||M.t)?x.insertAdjacentElement(E,d):x.parentNode.insertBefore(d,x)};e===0?u(o,i,"afterbegin"):a&&a.length+b>e?u(o.childNodes[e]):u(o,i,"beforeend")}else{let u=(x,M,E)=>{E&&(!M||M.t)?x.insertAdjacentText(E,t):x.parentNode.insertBefore(document.createTextNode(t),x)};e===0?u(o,i,"afterbegin"):a&&a.length+b>e?u(o.childNodes[e]):u(o,i,"beforeend")}b++}}if(a){let t=a.length+b;if(t>=e)for(let y=t-1;y>=e;y--)o.childNodes[y].remove()}},L=typeof n=="string"?document.querySelector(n)||document.body.appendChild(document.createElement("div")):n;if(typeof f=="string")try{f=JSON.parse(f)}catch(o){f=void 0}f||(f=P(L));let j=!0,k=!1,F=()=>{if(j&&!k&&l){k=!0,l=null;let o=h(s(m));T(L,o,f),f=o,N=R,R=new WeakMap,k=!1}};return c(),F(),[c,()=>{if(j){j=!1;for(let o=L.childNodes.length-1;o>=0;o--)L.childNodes[o].remove()}},m]};export{H as memo,te as mount,w as node};
//# sourceMappingURL=staark.base.min.js.map
