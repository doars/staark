var b="n";var P=(t,r)=>({_:b,r:t,m:r});var g=t=>t?Array.isArray(t)?t:[t]:void 0;var j=(t,r,c)=>((typeof r!="object"||r._===b||Array.isArray(r))&&(c=r,r=void 0),{_:b,a:r,c:g(c),t:t.toUpperCase()});var h=t=>{if(typeof t=="object"){let r=Array.isArray(t)?[]:{};for(let c in t)r[c]=h(t[c]);return r}return t};var T=(t,r)=>{if(t===r)return!0;if(!t||!r||typeof t!="object"||typeof r!="object")return t===r;if(t instanceof Date)return r instanceof Date&&t.getTime()===r.getTime();let c=Object.keys(t);return c.length===Object.keys(r).length&&c.every(m=>T(t[m],r[m]))};var k=t=>{var c;let r=[];for(let m of t.childNodes)if(m instanceof Text)r.push((c=m.textContent)!=null?c:"");else{let N=m,d={};for(let y of N.attributes)d[y.name]=y.value;r.push(j(m.nodeName,d,k(m)))}return r};var F=(t,r)=>{let c=new WeakMap,m={deleteProperty:(d,y)=>{if(Reflect.has(d,y)){let p=Reflect.deleteProperty(d,y);return p&&r(),p}return!0},set:(d,y,p)=>(d[y]!==p&&(p&&typeof p=="object"&&(p=N(p)),d[y]=p,r()),!0)},N=d=>{if(c.has(d))return c.get(d);for(let p in d)d[p]&&typeof d[p]=="object"&&(d[p]=N(d[p]));let y=new Proxy(d,m);return c.set(d,y),y};return N(t)};var $=(t,r,c,m)=>{typeof c=="string"&&(c=JSON.parse(c)),c||(c={});let N=null,d=()=>(N||(N=Promise.resolve().then(C)),N),y=Object.getPrototypeOf(c)===Proxy.prototype?c:F(c,d),p=(o,u,f)=>{if(u)for(let e in u){let n=u[e];if(n){let i=typeof n;if(i==="function"){let a=f==null?void 0:f[e];if((a==null?void 0:a.f)!==n){a&&o.removeEventListener(e,a);let s=u[e]=l=>{n(l,y)};s.f=n,o.addEventListener(e,s)}}else if(e==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let a="";for(let s in n)n[s]&&(a+=" "+s);n=a}o.className=n}else if(e==="style"&&typeof n=="object"){for(let a in n){let s=n[a];a.includes("-",1)?o.style.setProperty(a,s):o.style[a]=s}if(f&&f[e]&&typeof f[e]=="object"&&!Array.isArray(f[e]))for(let a in f[e])a in n||(a.includes("-")?o.style.removeProperty(a):delete o.style[a])}else n===!0?n="true":i!=="string"&&(n=n.toString()),o.setAttribute(e,n)}}if(f)for(let e in f){let n=f[e];(!u||!u[e])&&(typeof n=="function"?o.removeEventListener(e,f[e]):e==="class"?o.className="":e==="style"?o.style.cssText="":e==="value"?o.value="":o.removeAttribute(e))}},x=new WeakMap,A=new WeakMap,L=(o,u,f)=>{let e=0,n=0;if(u)for(;e<u.length;e++){let i=u[e];if(i.r){let s=x.get(i.r);(!s||!T(s.m,i.m))&&(s={c:g(i.r(y,i.m)),m:i.m,r:i.r}),A.set(i.r,s),u.splice(e,1,...h(s.c)),e--;continue}let a=!1;if(f)for(let s=e-n;s<f.length;s++){let l=f[s];if(l.t&&i.t===l.t||!l.t&&!i.t){a=!0,e!==s+n&&(o.insertBefore(o.childNodes[s+n],o.childNodes[e]),f.splice(e-n,0,f.splice(s,1)[0])),i.t?(p(o.childNodes[e],i.a,l.a),L(o.childNodes[e],i.c,l.c)):l!==i&&(o.childNodes[e].textContent=i);break}}if(!a){let s;i.t?(s=document.createElement(i.t),p(s,i.a),L(s,i.c)):s=document.createTextNode(i),o.insertBefore(s,o.childNodes[e]),n++}}if(f){let i=f.length+n;if(i>=e)for(let a=i-1;a>=e;a--)o.childNodes[a].remove()}},M=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof m=="string")try{m=JSON.parse(m)}catch(o){m=null}m||(m=k(M));let R=!0,E=!1,C=()=>{if(R&&!E&&N){E=!0,N=null;let o=g(r(y));L(M,o,m),m=o,x=A,A=new WeakMap,E=!1}};return d(),C(),[d,()=>{if(R){R=!1;for(let o=M.childNodes.length-1;o>=0;o--)M.childNodes[o].remove()}},y]};export{P as memo,$ as mount,j as node};
//# sourceMappingURL=staark.base.min.js.map
