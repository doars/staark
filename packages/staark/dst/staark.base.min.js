var x=Symbol();var w=(o,n)=>({_:x,r:o,m:n});var L=function(o){return Array.isArray(o)?o:[o]};var C=o=>{if(typeof o=="object")if(Array.isArray(o)){let n=[];for(let s=0;s<o.length;s++)n.push(C(o[s]));o=n}else{let n={};for(let s in o)n[s]=C(o[s]);o=n}return o};var j=(o,n)=>{if(o===n)return!0;if(o instanceof Date&&n instanceof Date)return o.getTime()===n.getTime();if(!o||!n||typeof o!="object"&&typeof n!="object")return o===n;if(o==null||n===null||n===void 0||o.prototype!==n.prototype)return!1;let s=Object.keys(o);return s.length!==Object.keys(n).length?!1:s.every(p=>j(o[p],n[p]))};var k="staark-created";var v=(o,n)=>{let s=new WeakMap,p=f=>{if(s.has(f)){let y=s.get(f);s.delete(y);for(let a in y.proxy)typeof y.proxy[a]=="object"&&p(y.proxy[a]);y.revoke()}},g=f=>{if(s.has(f))return s.get(f);for(let a in f)f[a]&&typeof f[a]=="object"&&(f[a]=g(f[a]));let y=Proxy.revocable(f,{deleteProperty:(a,b)=>{if(Reflect.has(a,b)){p(a);let l=Reflect.deleteProperty(a,b);return l&&n(),l}return!0},set:(a,b,l)=>{let A=a[b];return A!==l&&(typeof A=="object"&&p(A),l&&typeof l=="object"&&(l=g(l)),a[b]=l,n()),!0}});return s.set(y,f),y.proxy};return g(o)};var D=/[A-Z]+(?![a-z])|[A-Z]/g,_=(o,n)=>(n?"-":"")+o,Q=(o,n,s)=>{s||(s={});let p=!0,g=!1,f=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o,y=()=>{if(p){p=!1;for(let e=f.childNodes.length-1;e>=0;e--)f.childNodes[e].remove()}};y(),p=!0;let a=0,b=(e,d=null,u=null)=>{if(d)for(let t in d){let r=d[t];if(r!=null){let c=typeof r;if(c==="function"){let m=d[t]=i=>{a++;try{r(i)}catch(N){}a--,T()};e.addEventListener(t,m);continue}else{if(t==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let m="";for(let i in r)r[i]&&(m+=" "+i);r=m}}else if(t==="style"){if(typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let m="";for(let i in r){let N=r[i];i=i.replace(D,_).toLowerCase(),Array.isArray(N)?m+=";"+i+":"+N.join(" "):r&&(m+=";"+i+":"+r)}r=m}}else c==="boolean"?r=r?"true":"false":c!=="string"&&(r=r.toString()),t==="value"&&e.value!==r?e.value=r:t==="checked"&&(e.checked=d[t]);e.setAttribute(t,r)}}}if(u)for(let t in u)typeof u[t]=="function"?e.removeEventListener(t,u[t]):(!d||!(t in d)||d[t]===null||d[t]===void 0)&&(t==="value"?e.value="":t==="checked"&&(e.checked=!1),e.removeAttribute(t))},l=[],A=[],F=e=>{let d=l.find(u=>u.r===e.r&&j(u.m,e.m));return d||(d={c:L(e.r(R,e.m)),m:e.m,r:e.r}),A.includes(d)||A.push(d),C(d.c)},M=(e,d=null,u=null)=>{let t=0,r=0;if(d)for(;t<d.length;t++){let c=d[t];if(c.r){let i=F(c);d.splice(t,1,...i),t--;continue}let m=!1;if(u)for(let i=t-r;i<u.length;i++){let N=u[i];if(N.t&&c.t===N.t||!N.t&&!c.t){m=!0,t!==i&&(e.insertBefore(e.childNodes[i+r],e.childNodes[t]),h.splice(t-r,0,...h.splice(i,1))),c.t?(b(e.childNodes[t],c.a,N.a),M(e.childNodes[t],c.c,N.c)):e.childNodes[t].textContent=typeof c=="string"?c:c.c;break}}if(!m)if(c.t){let i=document.createElement(c.t);c.a&&b(i,c.a),c.c&&M(i,c.c),e.childNodes.length>t?e.childNodes[t].insertAdjacentElement("afterend",i):e.insertAdjacentElement("beforeend",i),r++,f.dispatchEvent(new CustomEvent(k,{detail:{target:i}}))}else{let i=typeof c=="string"?c:c.c;e.childNodes.length>t?e.childNodes[t].insertAdjacentText("afterend",i):e.insertAdjacentText("beforeend",i),r++}}if(e.childNodes.length>=t)for(let c=e.childNodes.length-1;c>=t;c--)e.childNodes[c].remove()},E=!0,R=Object.getPrototypeOf(s)===Proxy.prototype?s:v(s,()=>{E=!0,requestAnimationFrame(T)}),h=[],T=()=>{if(p&&!g&&E&&a<=0){g=!0,E=!1;let e=L(n(R));if(M(f,e,h),h=e,l=A,A=[],g=!1,E)throw new Error("update during render")}};return T(),[()=>{E=!0,requestAnimationFrame(T)},y,R]};var H=(o,n,s)=>((typeof n!="object"||n._===x||Array.isArray(n))&&(s=n,n=void 0),{_:x,a:n,c:s?Array.isArray(s)?s:[s]:[],t:o.toUpperCase()});export{w as memo,Q as mount,H as node};
//# sourceMappingURL=staark.base.min.js.map
