var g="n";var w=(t,s)=>({_:g,r:t,m:s});var M=t=>t?Array.isArray(t)?t:[t]:void 0;var v=(t,s,n)=>((typeof s!="object"||s._===g||Array.isArray(s))&&(n=s,s=void 0),{_:g,a:s,c:M(n),t:t.toUpperCase()});var R=t=>{if(typeof t=="object"){let s=Array.isArray(t)?[]:{};for(let n in t)s[n]=R(t[n]);return s}return t};var T=(t,s)=>{if(t===s)return!0;if(!t||!s||typeof t!="object"||typeof s!="object")return t===s;if(t instanceof Date)return s instanceof Date&&t.getTime()===s.getTime();let n=Object.keys(t);return n.length===Object.keys(s).length&&n.every(m=>T(t[m],s[m]))};var k=t=>{var n;let s=[];for(let m of t.childNodes)if(m instanceof Text)s.push((n=m.textContent)!=null?n:"");else{let u=m,d={};for(let y of u.attributes)d[y.name]=y.value;s.push(v(m.nodeName,d,k(m)))}return s};var C=(t,s)=>{let n=new WeakMap,m={deleteProperty:(d,y)=>{if(Reflect.has(d,y)){let p=d[y];typeof p=="object"&&p&&n.has(p)&&n.get(p).revoke();let N=Reflect.deleteProperty(d,y);return N&&s(),N}return!0},set:(d,y,p)=>{let N=d[y];return N!==p&&(typeof N=="object"&&N&&n.has(N)&&n.get(N).revoke(),d[y]=typeof p=="object"&&p?n.has(p)?n.get(p).proxy:u(p):p,s()),!0}},u=d=>{if(n.has(d))return n.get(d).proxy;for(let p in d){let N=d[p];N&&typeof N=="object"&&(d[p]=u(N))}let y=Proxy.revocable(d,m);return n.set(d,y),y.proxy};return u(t)};var $=(t,s,n,m)=>{typeof n=="string"&&(n=JSON.parse(n)),n||(n={});let u=null,d=()=>(u||(u=Promise.resolve().then(j)),u),y=Object.getPrototypeOf(n)===Proxy.prototype?n:C(n,d),p=(r,l,f)=>{if(l)for(let e in l){let o=l[e];if(o){let c=typeof o;if(c==="function"){let a=f==null?void 0:f[e];if((a==null?void 0:a.f)!==o){a&&r.removeEventListener(e,a);let i=l[e]=b=>{o(b,y)};i.f=o,r.addEventListener(e,i)}}else if(e==="class"){if(typeof o=="object")if(Array.isArray(o))o=o.join(" ");else{let a="";for(let i in o)o[i]&&(a+=" "+i);o=a}r.className=o}else if(e==="style"&&typeof o=="object"){for(let a in o){let i=o[a];a.includes("-",1)?r.style.setProperty(a,i):r.style[a]=i}if(f&&f[e]&&typeof f[e]=="object"&&!Array.isArray(f[e]))for(let a in f[e])a in o||(a.includes("-")?r.style.removeProperty(a):delete r.style[a])}else o===!0?o="true":c!=="string"&&(o=o.toString()),r.setAttribute(e,o)}}if(f)for(let e in f){let o=f[e];(!l||!l[e])&&(typeof o=="function"?r.removeEventListener(e,f[e]):e==="class"?r.className="":e==="style"?r.style.cssText="":r.removeAttribute(e))}},N=new WeakMap,A=new WeakMap,h=(r,l,f)=>{let e=0,o=0;if(l)for(;e<l.length;e++){let c=l[e];if(c.r){let i=N.get(c.r);(!i||!T(i.m,c.m))&&(i={c:M(c.r(y,c.m)),m:c.m,r:c.r}),A.set(c.r,i),l.splice(e,1,...R(i.c)),e--;continue}let a=!1;if(f)for(let i=e-o;i<f.length;i++){let b=f[i];if(b.t&&c.t===b.t||!b.t&&!c.t){a=!0,e!==i+o&&(r.insertBefore(r.childNodes[i+o],r.childNodes[e]),f.splice(e-o,0,f.splice(i,1)[0])),c.t?(p(r.childNodes[e],c.a,b.a),h(r.childNodes[e],c.c,b.c)):b!==c&&(r.childNodes[e].textContent=c);break}}if(!a){let i;c.t?(i=document.createElement(c.t),p(i,c.a),h(i,c.c)):i=document.createTextNode(c),r.insertBefore(i,r.childNodes[e]),o++}}if(f){let c=f.length+o;if(c>=e)for(let a=c-1;a>=e;a--)r.childNodes[a].remove()}},x=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof m=="string")try{m=JSON.parse(m)}catch(r){m=null}m||(m=k(x));let L=!0,E=!1,j=()=>{if(L&&!E&&u){E=!0,u=null;let r=M(s(y));h(x,r,m),m=r,N=A,A=new WeakMap,E=!1}};return d(),j(),[d,()=>{if(L){L=!1;for(let r=x.childNodes.length-1;r>=0;r--)x.childNodes[r].remove()}},y]};export{w as memo,$ as mount,v as node};
//# sourceMappingURL=staark.base.min.js.map
