var l="n";var w=(t,r)=>({_:l,r:t,m:r});var b=t=>t?Array.isArray(t)?t:[t]:void 0;var j=(t,r,c)=>((typeof r!="object"||r._===l||Array.isArray(r))&&(c=r,r=void 0),{_:l,a:r,c:b(c),t:t.toUpperCase()});var R=t=>{if(typeof t=="object"){let r=Array.isArray(t)?[]:{};for(let c in t)r[c]=R(t[c]);return r}return t};var h=(t,r)=>{if(t===r)return!0;if(!t||!r||typeof t!="object"||typeof r!="object")return t===r;if(t instanceof Date)return r instanceof Date&&t.getTime()===r.getTime();let c=Object.keys(t);return c.length===Object.keys(r).length&&c.every(d=>h(t[d],r[d]))};var E=t=>{var c;let r=[];for(let d of t.childNodes)if(d instanceof Text)r.push((c=d.textContent)!=null?c:"");else{let f=d,p={};for(let y of f.attributes)p[y.name]=y.value;r.push(j(d.nodeName,p,E(d)))}return r};var v=(t,r)=>{let c={deleteProperty:(f,p)=>{if(Reflect.has(f,p)){let y=Reflect.deleteProperty(f,p);return y&&r(),y}return!0},set:(f,p,y)=>(f[p]!==y&&(y&&typeof y=="object"&&(y=d(y)),f[p]=y,r()),!0)},d=f=>{for(let p in f)f[p]&&typeof f[p]=="object"&&(f[p]=d(f[p]));return new Proxy(f,c)};return d(t)};var $=(t,r,c,d)=>{typeof c=="string"&&(c=JSON.parse(c)),c||(c={});let f=null,p=()=>(f||(f=Promise.resolve().then(C)),f),y=Object.getPrototypeOf(c)===Proxy.prototype?c:v(c,p),M=(o,N,m)=>{if(N)for(let e in N){let n=N[e];if(n){let i=typeof n;if(i==="function"){let a=m==null?void 0:m[e];if((a==null?void 0:a.f)!==n){a&&o.removeEventListener(e,a);let s=N[e]=u=>{n(u,y)};s.f=n,o.addEventListener(e,s)}}else if(e==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let a="";for(let s in n)n[s]&&(a+=" "+s);n=a}o.className=n}else if(e==="style"&&typeof n=="object"){for(let a in n){let s=n[a];a.includes("-",1)?o.style.setProperty(a,s):o.style[a]=s}if(m&&m[e]&&typeof m[e]=="object"&&!Array.isArray(m[e]))for(let a in m[e])a in n||(a.includes("-")?o.style.removeProperty(a):delete o.style[a])}else n===!0?n="true":i!=="string"&&(n=n.toString()),o.setAttribute(e,n)}}if(m)for(let e in m){let n=m[e];(!N||!N[e])&&(typeof n=="function"?o.removeEventListener(e,m[e]):e==="class"?o.className="":e==="style"?o.style.cssText="":e==="value"?o.value="":o.removeAttribute(e))}},k=new WeakMap,x=new WeakMap,A=(o,N,m)=>{let e=0,n=0;if(N)for(;e<N.length;e++){let i=N[e];if(i.r){let s=k.get(i.r);(!s||!h(s.m,i.m))&&(s={c:b(i.r(y,i.m)),m:i.m,r:i.r}),x.set(i.r,s),N.splice(e,1,...R(s.c)),e--;continue}let a=!1;if(m)for(let s=e-n;s<m.length;s++){let u=m[s];if(u.t&&i.t===u.t||!u.t&&!i.t){a=!0,e!==s+n&&(o.insertBefore(o.childNodes[s+n],o.childNodes[e]),m.splice(e-n,0,m.splice(s,1)[0])),i.t?(M(o.childNodes[e],i.a,u.a),A(o.childNodes[e],i.c,u.c)):u!==i&&(o.childNodes[e].textContent=i);break}}if(!a){let s;i.t?(s=document.createElement(i.t),M(s,i.a),A(s,i.c)):s=document.createTextNode(i),o.insertBefore(s,o.childNodes[e]),n++}}if(m){let i=m.length+n;if(i>=e)for(let a=i-1;a>=e;a--)o.childNodes[a].remove()}},g=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof d=="string")try{d=JSON.parse(d)}catch(o){d=null}d||(d=E(g));let L=!0,T=!1,C=()=>{if(L&&!T&&f){T=!0,f=null;let o=b(r(y));A(g,o,d),d=o,k=x,x=new WeakMap,T=!1}};return p(),C(),[p,()=>{if(L){L=!1;for(let o=g.childNodes.length-1;o>=0;o--)g.childNodes[o].remove()}},y]};export{w as memo,$ as mount,j as node};
//# sourceMappingURL=staark.base.min.js.map
