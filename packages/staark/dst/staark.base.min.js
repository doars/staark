var L="n";var V=(t,n)=>({_:L,r:t,m:n});var R=t=>t?Array.isArray(t)?t:[t]:void 0;var U=(t,n,r)=>((typeof n!="object"||n._===L||Array.isArray(n))&&(r=n,n=void 0),{_:L,a:n,c:R(r),t:t.toUpperCase()});var F=t=>{if(typeof t=="object"){let n=Array.isArray(t)?[]:{};for(let r in t)n[r]=F(t[r]);return n}return t};var w=(t,n)=>{if(t===n)return!0;if(!t||!n||typeof t!="object"||typeof n!="object")return t===n;if(t instanceof Date)return n instanceof Date&&t.getTime()===n.getTime();let r=Object.keys(t);return r.length===Object.keys(n).length&&r.every(d=>w(t[d],n[d]))};var _=t=>{var r;let n=[];for(let d of t.childNodes)if(d instanceof Text)n.push((r=d.textContent)!=null?r:"");else{let b=d,c={};for(let N of b.attributes)c[N.name]=N.value;n.push(U(d.nodeName,c,_(d)))}return n};var W=(t,n)=>{let r=new WeakMap,d={deleteProperty:(c,N)=>{if(Reflect.has(c,N)){let p=c[N];typeof p=="object"&&p&&r.has(p)&&r.get(p).revoke();let y=Reflect.deleteProperty(c,N);return y&&n(),y}return!0},set:(c,N,p)=>{let y=c[N];return y!==p&&(typeof y=="object"&&y&&r.has(y)&&r.get(y).revoke(),c[N]=typeof p=="object"&&p?r.has(p)?r.get(p).proxy:b(p):p,n()),!0}},b=c=>{if(r.has(c))return r.get(c).proxy;for(let p in c){let y=c[p];y&&typeof y=="object"&&(c[p]=b(y))}let N=Proxy.revocable(c,d);return r.set(c,N),N.proxy};return b(t)};var I=/[A-Z]+(?![a-z])|[A-Z]/g,G=(t,n)=>(n?"-":"")+t,ae=(t,n,r,d)=>{typeof r=="string"&&(r=JSON.parse(r)),r!=null||(r={});let b=null,c=()=>(b||(b=Promise.resolve().then(C)),b),N=Object.getPrototypeOf(r)===Proxy.prototype?r:W(r,c),p=(o,x,s)=>{if(x)for(let a in x){let e=x[a];if(e){let M=typeof e;if(M==="function"){let f=s==null?void 0:s[a];if((f==null?void 0:f.f)!==e){f&&o.removeEventListener(a,f);let g=x[a]=T=>{e(T,N)};g.f=e,o.addEventListener(a,g)}}else if(a==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let f="";for(let g in e)e[g]&&(f+=" "+g);e=f}o.className=e}else if(a==="style"&&typeof e=="object"){for(let f in e){let g=e[f];f=f.replace(I,G).toLowerCase(),Array.isArray(g)&&(g=g.join(" ")),o.style.setProperty(f,g)}if(s&&s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a]))for(let f in s[a])f in e||(f=f.replace(I,G).toLowerCase(),o.style.removeProperty(f))}else e===!0?e="true":M!=="string"&&(e=e.toString()),o.setAttribute(a,e)}}if(s)for(let a in s){let e=s[a];(!x||!x[a])&&(typeof e=="function"?o.removeEventListener(a,s[a]):a==="class"?o.className="":a==="style"?o.style.cssText="":o.removeAttribute(a))}},y=new WeakMap,k=new WeakMap,h=(o,x,s,a)=>{var g,T,D;let e=0,M=0;if(x)for(;e<x.length;e++){let i=x[e];if(i.r){let m=y.get(i.r);(!m||!w(m.m,i.m))&&(m={c:R(i.r(N,i.m)),m:i.m,r:i.r}),k.set(i.r,m),x.splice(e,1,...F(m.c)),e--;continue}let H=!1;if(s)for(let m=e-M;m<s.length;m++){let u=s[m];if(u.t&&i.t===u.t||!u.t&&!i.t){H=!0,e!==m+M&&(o.insertBefore(o.childNodes[m+M],o.childNodes[e]),s.splice(e-M,0,...s.splice(m,1))),i.t?(p(o.childNodes[e],i.a,u.a),h(o.childNodes[e],i.c,u.c,u)):u!==i&&(o.childNodes[e].textContent=i);break}}if(!H){let m;if(i.t){m=document.createElement(i.t),i.a&&p(m,i.a),i.c&&h(m,i.c);let u=(l,E,A)=>{A&&(!E||E.t)?l.insertAdjacentElement(A,m):l.parentNode.insertBefore(m,l)};e===0?u(o,a,"afterbegin"):((g=s==null?void 0:s.length)!=null?g:0)+M>e?u(o.childNodes[e]):u(o,a,"beforeend")}else{let u=(l,E,A)=>{A&&(!E||E.t)?l.insertAdjacentText(A,i):l.parentNode.insertBefore(document.createTextNode(i),l)};e===0?u(o,a,"afterbegin"):((T=s==null?void 0:s.length)!=null?T:0)+M>e?u(o.childNodes[e]):u(o,a,"beforeend")}M++}}let f=((D=s==null?void 0:s.length)!=null?D:0)+M;if(f>=e)for(let i=f-1;i>=e;i--)o.childNodes[i].remove()},j=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof d=="string")try{d=JSON.parse(d)}catch(o){d=void 0}d!=null||(d=_(j));let P=!0,v=!1,C=()=>{if(P&&!v&&b){v=!0,b=null;let o=R(n(N));h(j,o,d),d=o,y=k,k=new WeakMap,v=!1}};return c(),C(),[c,()=>{if(P){P=!1;for(let o=j.childNodes.length-1;o>=0;o--)j.childNodes[o].remove()}},N]};export{V as memo,ae as mount,U as node};
//# sourceMappingURL=staark.base.min.js.map
