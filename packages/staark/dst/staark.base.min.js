var N="n";var I=(f,n)=>({_:N,r:f,m:n});var u=f=>f?Array.isArray(f)?f:[f]:void 0;var q=(f,n,t)=>(n&&(typeof n!="object"||n._===N||Array.isArray(n))&&(t=n,n=void 0),{_:N,a:n,c:u(t),t:f.toUpperCase()});var R=f=>{if(typeof f=="object"){let n=Array.isArray(f)?[]:{};for(let t in f)n[t]=R(f[t]);return n}return f};var U=(f,n)=>{if(f===n)return!0;if(!f||!n||typeof f!="object"||typeof n!="object")return f===n;if(f instanceof Date)return n instanceof Date&&f.getTime()===n.getTime();let t=Object.keys(f);return t.length===Object.keys(n).length&&t.every(p=>U(f[p],n[p]))};var E=f=>{var t;let n=[];for(let p of f.childNodes)if(p instanceof Text)n.push((t=p.textContent)!=null?t:"");else{let y={};for(let d of p.attributes)y[d.name]=d.value;n.push(q(p.nodeName,y,E(p)))}return n};var O=(f,n)=>{let t={deleteProperty:(y,d)=>{if(Reflect.has(y,d)){let l=Reflect.deleteProperty(y,d);return l&&n(),l}return!0},set:(y,d,l)=>(y[d]!==l&&(l&&typeof l=="object"&&(l=p(l)),y[d]=l,n()),!0)},p=y=>{for(let d in y)y[d]&&typeof y[d]=="object"&&(y[d]=p(y[d]));return new Proxy(y,t)};return p(f)};var S=(f,n,t,p)=>{typeof t=="string"&&(t=JSON.parse(t)),t||(t={});let y=null,d=()=>(y||(y=Promise.resolve().then(_)),y),l=Object.getPrototypeOf(t)===Proxy.prototype?t:O(t,d),g=(o,a,m)=>{if(a)for(let e in a){let r=a[e];if(r){let i=typeof r;if(i==="function"){let s=m==null?void 0:m[e];if((s==null?void 0:s.f)===r)a[e]=s;else{s&&o.removeEventListener(e,s);let c=a[e]=x=>{r(x,l)};o.addEventListener(e,c),c.f=r}}else if(e==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let s="";for(let c in r)r[c]&&(s+=" "+c);r=s}o.className=r}else if(e==="style"&&typeof r=="object"){for(let s in r){let c=r[s];s.includes("-",1)?o.style.setProperty(s,c):o.style[s]=c}if(m&&m[e]&&typeof m[e]=="object"&&!Array.isArray(m[e]))for(let s in m[e])r[s]||(s.includes("-",1)?o.style.removeProperty(s):o.style[s]=null)}else r===!0?r="true":i!=="string"&&(r=r.toString()),o.setAttribute(e,r),e==="value"&&(o.value=r)}}if(m)for(let e in m){let r=m[e];(!a||!a[e])&&(typeof r=="function"?o.removeEventListener(e,m[e]):e==="class"?o.className="":e==="style"?o.style.cssText="":e==="value"?o.value="":o.removeAttribute(e))}},L=new WeakMap,j=new WeakMap,k=(o,a,m)=>{let e=0,r=0;if(a)for(;e<a.length;e++){let i=a[e];if(i.r){let c=L.get(i.r);(!c||!U(c.m,i.m))&&(c={c:u(i.r(l,i.m)),m:i.m,r:i.r}),j.set(i.r,c),a.splice(e,1,...R(c.c)),e--;continue}let s=!1;if(m)for(let c=e-r;c<m.length;c++){let x=m[c];if(x.t&&i.t===x.t||!x.t&&!i.t){s=!0,e!==c+r&&(o.insertBefore(o.childNodes[c+r],o.childNodes[e]),m.splice(e-r,0,m.splice(c,1)[0])),i.t?(g(o.childNodes[e],i.a,x.a),k(o.childNodes[e],i.c,x.c)):x!==i&&(o.childNodes[e].textContent=i);break}}if(!s){let c;i.t?(c=document.createElement(i.t),g(c,i.a),k(c,i.c)):c=document.createTextNode(i),o.insertBefore(c,o.childNodes[e]),r++}}if(m){let i=m.length+r;if(i>=e)for(let s=i-1;s>=e;s--)o.childNodes[s].remove()}},h=typeof f=="string"?document.querySelector(f)||document.body.appendChild(document.createElement("div")):f;if(typeof p=="string")try{p=JSON.parse(p)}catch(o){p=null}p||(p=E(h));let P=!0,M=!1,_=()=>{if(P&&!M&&y){M=!0,y=null;let o=u(n(l));k(h,o,p),p=o,L=j,j=new WeakMap,M=!1}};return d(),_(),[d,()=>{if(P){P=!1;for(let o=h.childNodes.length-1;o>=0;o--)h.childNodes[o].remove()}},l]};export{I as memo,S as mount,q as node};
