var U="n";var y=(G,H)=>({_:U,r:G,m:H});var _=(G)=>G?Array.isArray(G)?G:[G]:void 0;var T=(G,H,Q)=>{if(H&&(typeof H!=="object"||H._===U||Array.isArray(H)))Q=H,H=void 0;return{_:U,a:H,c:_(Q),t:G}};var O=(G)=>{if(typeof G==="object"){let H=Array.isArray(G)?[]:{};for(let Q in G)H[Q]=O(G[Q]);return H}return G};var I=(G,H)=>{if(G===H)return!0;if(!G||!H||typeof G!=="object"||typeof H!=="object")return G===H;if(G instanceof Date)return H instanceof Date&&G.getTime()===H.getTime();let Q=Object.keys(G);return Q.length===Object.keys(H).length&&Q.every((Y)=>I(G[Y],H[Y]))};var k=(G)=>{let H=[];for(let Q of G.childNodes)if(Q instanceof Text)H.push(Q.textContent??"");else{let Y={};for(let W of Q.attributes)Y[W.name]=W.value;H.push(T(Q.nodeName,Y,k(Q)))}return H};var N=(G,H)=>{let Q={deleteProperty:(W,F)=>{if(Reflect.has(W,F)){let L=Reflect.deleteProperty(W,F);if(L)H();return L}return!0},set:(W,F,L)=>{if(W[F]!==L){if(L&&typeof L==="object")L=Y(L);W[F]=L,H()}return!0}},Y=(W)=>{for(let F in W)if(W[F]&&typeof W[F]==="object")W[F]=Y(W[F]);return new Proxy(W,Q)};return Y(G)};var n=(G,H,Q,Y)=>{if(typeof Q==="string")Q=JSON.parse(Q);if(!Q)Q={};let W=null,F=()=>{if(!W)W=Promise.resolve().then(S);return W},L=Object.getPrototypeOf(Q)===Proxy.prototype?Q:N(Q,F),j=(D,q,Z)=>{if(q)for(let K in q){let z=q[K];if(z){let R=typeof z;if(R==="function"){let J=Z?.[K];if(J?.f===z)q[K]=J;else{if(J)D.removeEventListener(K,J);let $=q[K]=(X)=>{z(X,L)};D.addEventListener(K,$),$.f=z}}else if(K==="class"){if(typeof z==="object")if(Array.isArray(z))z=z.join(" ");else{let J="";for(let $ in z)if(z[$])J+=" "+$;z=J}D.className=z}else if(K==="style"&&typeof z==="object"){for(let J in z){let $=z[J];if(J.includes("-",1))D.style.setProperty(J,$);else D.style[J]=$}if(Z&&Z[K]&&typeof Z[K]==="object"&&!Array.isArray(Z[K])){for(let J in Z[K])if(!z[J])if(J.includes("-",1))D.style.removeProperty(J);else D.style[J]=null}}else{if(z===!0)z="true";else if(R!=="string")z=z.toString();if(D.setAttribute(K,z),K==="value")D.value=z}}}if(Z)for(let K in Z){let z=Z[K];if(!q||!q[K])if(typeof z==="function")D.removeEventListener(K,Z[K]);else if(K==="class")D.className="";else if(K==="style")D.style.cssText="";else if(K==="value")D.value="";else D.removeAttribute(K)}},x=new WeakMap,E=new WeakMap,M=(D,q,Z,K)=>{let z=0,R=0;if(q)for(;z<q.length;z++){let J=q[z];if(J.r){let X=x.get(J.r);if(!X||!I(X.m,J.m))X={c:_(J.r(L,J.m)),m:J.m,r:J.r};E.set(J.r,X),q.splice(z,1,...O(X.c)),z--;continue}let $=!1;if(Z)for(let X=z-R;X<Z.length;X++){let P=Z[X];if(P.t&&J.t===P.t||!P.t&&!J.t){if($=!0,z!==X+R)D.insertBefore(D.childNodes[X+R],D.childNodes[z]),Z.splice(z-R,0,Z.splice(X,1)[0]);if(J.t)j(D.childNodes[z],J.a,P.a),M(D.childNodes[z],J.c,P.c,K||J.t==="SVG"||J.t==="svg");else if(P!==J)D.childNodes[z].textContent=J;break}}if(!$){let X;if(J.t){let P=K||J.t==="SVG"||J.t==="svg";if(P)X=document.createElementNS("http://www.w3.org/2000/svg",J.t);else X=document.createElement(J.t);j(X,J.a,void 0,P),M(X,J.c,void 0,P)}else X=document.createTextNode(J);D.insertBefore(X,D.childNodes[z]),R++}}if(Z){let J=Z.length+R;if(J>=z)for(let $=J-1;$>=z;$--)D.childNodes[$].remove()}},V=typeof G==="string"?document.querySelector(G)||document.body.appendChild(document.createElement("div")):G;if(typeof Y==="string")try{Y=JSON.parse(Y)}catch(D){Y=null}if(!Y)Y=k(V);let B=!0,f=!1,S=()=>{if(B&&!f&&W){f=!0,W=null;let D=_(H(L));M(V,D,Y),Y=D,x=E,E=new WeakMap,f=!1}};return F(),S(),[F,()=>{if(B){B=!1;for(let D=V.childNodes.length-1;D>=0;D--)V.childNodes[D].remove()}},L]};export{T as node,n as mount,y as memo};
