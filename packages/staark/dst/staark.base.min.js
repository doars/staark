var N="n";var D=(o,n)=>({_:N,r:o,m:n});var h=o=>o?Array.isArray(o)?o:[o]:void 0;var _=(o,n,s)=>((typeof n!="object"||n._===N||Array.isArray(n))&&(s=n,n=void 0),{_:N,a:n,c:h(s),t:o.toUpperCase()});var R=o=>{if(typeof o=="object"){let n=Array.isArray(o)?[]:{};for(let s in o)n[s]=R(o[s]);return n}return o};var U=(o,n)=>{if(o===n)return!0;if(!o||!n||typeof o!="object"||typeof n!="object")return o===n;if(o instanceof Date)return n instanceof Date&&o.getTime()===n.getTime();let s=Object.keys(o);return s.length===Object.keys(n).length&&s.every(p=>U(o[p],n[p]))};var E=o=>{var s;let n=[];for(let p of o.childNodes)if(p instanceof Text)n.push((s=p.textContent)!=null?s:"");else{let y={};for(let d of p.attributes)y[d.name]=d.value;n.push(_(p.nodeName,y,E(p)))}return n};var q=(o,n)=>{let s={deleteProperty:(y,d)=>{if(Reflect.has(y,d)){let a=Reflect.deleteProperty(y,d);return a&&n(),a}return!0},set:(y,d,a)=>(y[d]!==a&&(a&&typeof a=="object"&&(a=p(a)),y[d]=a,n()),!0)},p=y=>{for(let d in y)y[d]&&typeof y[d]=="object"&&(y[d]=p(y[d]));return new Proxy(y,s)};return p(o)};var S=(o,n,s,p)=>{typeof s=="string"&&(s=JSON.parse(s)),s||(s={});let y=null,d=()=>(y||(y=Promise.resolve().then(O)),y),a=Object.getPrototypeOf(s)===Proxy.prototype?s:q(s,d),g=(r,l,m)=>{if(l)for(let e in l){let f=l[e];if(f){let t=typeof f;if(t==="function"){let i=m==null?void 0:m[e];if((i==null?void 0:i.f)!==f){i&&r.removeEventListener(e,i);let c=l[e]=x=>{f(x,a)};c.f=f,r.addEventListener(e,c)}}else if(e==="class"){if(typeof f=="object")if(Array.isArray(f))f=f.join(" ");else{let i="";for(let c in f)f[c]&&(i+=" "+c);f=i}r.className=f}else if(e==="style"&&typeof f=="object"){for(let i in f){let c=f[i];i.includes("-",1)?r.style.setProperty(i,c):r.style[i]=c}if(m&&m[e]&&typeof m[e]=="object"&&!Array.isArray(m[e]))for(let i in m[e])i in f||(i.includes("-")?r.style.removeProperty(i):delete r.style[i])}else f===!0?f="true":t!=="string"&&(f=f.toString()),r.setAttribute(e,f)}}if(m)for(let e in m){let f=m[e];(!l||!l[e])&&(typeof f=="function"?r.removeEventListener(e,m[e]):e==="class"?r.className="":e==="style"?r.style.cssText="":e==="value"?r.value="":r.removeAttribute(e))}},L=new WeakMap,j=new WeakMap,k=(r,l,m)=>{let e=0,f=0;if(l)for(;e<l.length;e++){let t=l[e];if(t.r){let c=L.get(t.r);(!c||!U(c.m,t.m))&&(c={c:h(t.r(a,t.m)),m:t.m,r:t.r}),j.set(t.r,c),l.splice(e,1,...R(c.c)),e--;continue}let i=!1;if(m)for(let c=e-f;c<m.length;c++){let x=m[c];if(x.t&&t.t===x.t||!x.t&&!t.t){i=!0,e!==c+f&&(r.insertBefore(r.childNodes[c+f],r.childNodes[e]),m.splice(e-f,0,m.splice(c,1)[0])),t.t?(g(r.childNodes[e],t.a,x.a),k(r.childNodes[e],t.c,x.c)):x!==t&&(r.childNodes[e].textContent=t);break}}if(!i){let c;t.t?(c=document.createElement(t.t),g(c,t.a),k(c,t.c)):c=document.createTextNode(t),r.insertBefore(c,r.childNodes[e]),f++}}if(m){let t=m.length+f;if(t>=e)for(let i=t-1;i>=e;i--)r.childNodes[i].remove()}},u=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof p=="string")try{p=JSON.parse(p)}catch(r){p=null}p||(p=E(u));let P=!0,M=!1,O=()=>{if(P&&!M&&y){M=!0,y=null;let r=h(n(a));k(u,r,p),p=r,L=j,j=new WeakMap,M=!1}};return d(),O(),[d,()=>{if(P){P=!1;for(let r=u.childNodes.length-1;r>=0;r--)u.childNodes[r].remove()}},a]};export{D as memo,S as mount,_ as node};
