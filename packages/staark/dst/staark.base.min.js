var x=Symbol();var w=(o,n)=>({_:x,r:o,m:n});var j=function(o){return Array.isArray(o)?o:[o]};var C=o=>{if(typeof o=="object")if(Array.isArray(o)){let n=[];for(let i=0;i<o.length;i++)n.push(C(o[i]));o=n}else{let n={};for(let i in o)n[i]=C(o[i]);o=n}return o};var L=(o,n)=>{if(o===n)return!0;if(o instanceof Date&&n instanceof Date)return o.getTime()===n.getTime();if(!o||!n||typeof o!="object"&&typeof n!="object")return o===n;if(o==null||n===null||n===void 0||o.prototype!==n.prototype)return!1;let i=Object.keys(o);return i.length!==Object.keys(n).length?!1:i.every(p=>L(o[p],n[p]))};var k="staark-created";var v=(o,n)=>{let i=new WeakMap,p=f=>{if(i.has(f)){let y=i.get(f);i.delete(y);for(let a in y.proxy)typeof y.proxy[a]=="object"&&p(y.proxy[a]);y.revoke()}},g=f=>{if(i.has(f))return i.get(f);for(let a in f)f[a]&&typeof f[a]=="object"&&(f[a]=g(f[a]));let y=Proxy.revocable(f,{deleteProperty:(a,N)=>{if(Reflect.has(a,N)){p(a);let l=Reflect.deleteProperty(a,N);return l&&n(),l}return!0},set:(a,N,l)=>{let A=a[N];return A!==l&&(typeof A=="object"&&p(A),l&&typeof l=="object"&&(l=g(l)),a[N]=l,n()),!0}});return i.set(y,f),y.proxy};return g(o)};var D=/[A-Z]+(?![a-z])|[A-Z]/g,_=(o,n)=>(n?"-":"")+o,Q=(o,n,i)=>{i||(i={});let p=!0,g=!1,f=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o,y=()=>{if(p){p=!1;for(let e=f.childNodes.length-1;e>=0;e--)f.childNodes[e].remove()}};y(),p=!0;let a=0,N=(e,d=null,u=null)=>{if(d)for(let t in d){let r=d[t];if(r!=null){let c=typeof r;if(c==="function"){let m=d[t]=s=>{a++;try{r(s)}catch(b){}a--,T()};e.addEventListener(t,m);continue}else{if(t==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let m="";for(let s in r)r[s]&&(m+=" "+s);r=m}}else if(t==="style"){if(typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let m="";for(let s in r){let b=r[s];s=s.replace(D,_).toLowerCase(),Array.isArray(b)?m+=";"+s+":"+b.join(" "):b&&(m+=";"+s+":"+b)}r=m}}else c==="boolean"?r=r?"true":"false":c!=="string"&&(r=r.toString()),t==="value"&&e.value!==r?e.value=r:t==="checked"&&(e.checked=d[t]);e.setAttribute(t,r)}}}if(u)for(let t in u)typeof u[t]=="function"?e.removeEventListener(t,u[t]):(!d||!(t in d)||d[t]===null||d[t]===void 0)&&(t==="value"?e.value="":t==="checked"&&(e.checked=!1),e.removeAttribute(t))},l=[],A=[],F=e=>{let d=l.find(u=>u.r===e.r&&L(u.m,e.m));return d||(d={c:j(e.r(R,e.m)),m:e.m,r:e.r}),A.includes(d)||A.push(d),C(d.c)},M=(e,d=null,u=null)=>{let t=0,r=0;if(d)for(;t<d.length;t++){let c=d[t];if(c.r){let s=F(c);d.splice(t,1,...s),t--;continue}let m=!1;if(u)for(let s=t-r;s<u.length;s++){let b=u[s];if(b.t&&c.t===b.t||!b.t&&!c.t){m=!0,t!==s&&(e.insertBefore(e.childNodes[s+r],e.childNodes[t]),h.splice(t-r,0,...h.splice(s,1))),c.t?(N(e.childNodes[t],c.a,b.a),M(e.childNodes[t],c.c,b.c)):e.childNodes[t].textContent=typeof c=="string"?c:c.c;break}}if(!m)if(c.t){let s=document.createElement(c.t);c.a&&N(s,c.a),c.c&&M(s,c.c),t===0?e.insertAdjacentElement("afterbegin",s):e.childNodes.length>t?e.childNodes[t].insertAdjacentElement("afterend",s):e.insertAdjacentElement("beforeend",s),r++,f.dispatchEvent(new CustomEvent(k,{detail:{target:s}}))}else{let s=typeof c=="string"?c:c.c;t===0?e.insertAdjacentText("afterbegin",s):e.childNodes.length>t?e.childNodes[t].insertAdjacentText("afterend",s):e.insertAdjacentText("beforeend",s),r++}}if(e.childNodes.length>=t)for(let c=e.childNodes.length-1;c>=t;c--)e.childNodes[c].remove()},E=!0,R=Object.getPrototypeOf(i)===Proxy.prototype?i:v(i,()=>{E=!0,requestAnimationFrame(T)}),h=[],T=()=>{if(p&&!g&&E&&a<=0){g=!0,E=!1;let e=j(n(R));if(M(f,e,h),h=e,l=A,A=[],g=!1,E)throw new Error("update during render")}};return T(),[()=>{E=!0,requestAnimationFrame(T)},y,R]};var H=(o,n,i)=>((typeof n!="object"||n._===x||Array.isArray(n))&&(i=n,n=void 0),{_:x,a:n,c:i?Array.isArray(i)?i:[i]:[],t:o.toUpperCase()});export{w as memo,Q as mount,H as node};
//# sourceMappingURL=staark.base.min.js.map
