var L="n";var J=(n,r)=>({_:L,r:n,m:r});var C=(n,r,o)=>((typeof r!="object"||r._===L||Array.isArray(r))&&(o=r,r=void 0),{_:L,a:r,c:o?Array.isArray(o)?o:[o]:[],t:n.toUpperCase()});var P=n=>Array.isArray(n)?n:[n];var F=n=>{if(typeof n=="object"){let r=Array.isArray(n)?[]:{};for(let o in n)r[o]=F(n[o]);return r}return n};var w=(n,r)=>{if(n===r)return!0;if(!n||!r||typeof n!="object"||typeof r!="object")return n===r;if(n instanceof Date)return r instanceof Date&&n.getTime()===r.getTime();let o=Object.keys(n);return o.length===Object.keys(r).length&&o.every(d=>w(n[d],r[d]))};var H=n=>{var o;let r=[];for(let d=0;d<n.childNodes.length;d++){let N=n.childNodes[d];if(N instanceof Text)r.push((o=N.textContent)!=null?o:"");else{let f={};for(let p=0;p<N.attributes.length;p++){let c=N.attributes[p];f[c.name]=c.value}r.push(C(N.nodeName,f,H(N)))}}return r};var W=(n,r)=>{let o=new WeakMap,d={deleteProperty:(f,p)=>{if(Reflect.has(f,p)){let c=f[p];typeof c=="object"&&c&&o.has(c)&&o.get(c).revoke();let m=Reflect.deleteProperty(f,p);return m&&r(),m}return!0},set:(f,p,c)=>{let m=f[p];return m!==c&&(typeof m=="object"&&m&&o.has(m)&&o.get(m).revoke(),f[p]=typeof c=="object"&&c?o.has(c)?o.get(c).proxy:N(c):c,r()),!0}},N=f=>{if(o.has(f))return o.get(f).proxy;for(let c in f){let m=f[c];m&&typeof m=="object"&&(f[c]=N(m))}let p=Proxy.revocable(f,d);return o.set(f,p),p.proxy};return N(n)};var V=/[A-Z]+(?![a-z])|[A-Z]/g,G=(n,r)=>(r?"-":"")+n,ie=(n,r,o,d)=>{typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let N=!0,f=()=>{N||(N=!0,Promise.resolve().then(I))},p=Object.getPrototypeOf(o)===Proxy.prototype?o:W(o,f),c=(t,M,a)=>{if(M)for(let s in M){let e=M[s];if(e){let l=typeof e;if(l==="function"){if(a&&a[s]){if(a[s].f===e)continue;t.removeEventListener(s,a[s])}let u=M[s]=function(b){e(b,p)};u.f=e,t.addEventListener(s,u)}else if(s==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let u="";for(let b in e)e[b]&&(u+=" "+b);e=u}t.className=e}else if(s==="style"){if(typeof e=="object")if(Array.isArray(e))for(let u of e){let[b,...k]=u.split(":");t.style.setProperty(b,k.join(":"))}else for(let u in e){let b=e[u];u=u.replace(V,G).toLowerCase(),Array.isArray(b)&&(b=b.join(" ")),t.style.setProperty(u,b.toString())}}else{if(l==="boolean"){if(!e){t.removeAttribute(s);continue}e="true"}else l!=="string"&&(e=e.toString());s==="value"&&t.value!==e?t.value=e:s==="checked"&&(t.checked=M[s]),t.setAttribute(s,e)}}}if(a)for(let s in a){let e=a[s];(!M||!M[s])&&(typeof e=="function"?t.removeEventListener(s,a[s]):(s==="value"?t.value="":s==="checked"&&(t.checked=!1),t.removeAttribute(s)))}},m=new WeakMap,R=new WeakMap,j=(t,M,a,s)=>{var b,k,_;let e=0,l=0;if(M)for(;e<M.length;e++){let i=M[e];if(i.r){let y=m.get(i.r);(!y||!w(y.m,i.m))&&(y={c:P(i.r(p,i.m)),m:i.m,r:i.r}),R.set(i.r,y),M.splice(e,1,...F(y.c)),e--;continue}let D=!1;if(a)for(let y=e-l;y<a.length;y++){let g=a[y];if(g.t&&i.t===g.t||!g.t&&!i.t){D=!0,e!==y+l&&(t.insertBefore(t.childNodes[y+l],t.childNodes[e]),a.splice(e-l,0,...a.splice(y,1))),i.t?(c(t.childNodes[e],i.a,g.a),j(t.childNodes[e],i.c,g.c,g)):g!==i&&(t.childNodes[e].textContent=i);break}}if(!D){let y;if(i.t){y=document.createElement(i.t),i.a&&c(y,i.a),i.c&&j(y,i.c);let g=(x,E,A)=>{A&&(!E||E.t)?x.insertAdjacentElement(A,y):x.parentNode.insertBefore(y,x)};e===0?g(t,s,"afterbegin"):((b=a==null?void 0:a.length)!=null?b:0)+l>e?g(t.childNodes[e]):g(t,s,"beforeend")}else{let g=(x,E,A)=>{A&&(!E||E.t)?x.insertAdjacentText(A,i):x.parentNode.insertBefore(document.createTextNode(i),x)};e===0?g(t,s,"afterbegin"):((k=a==null?void 0:a.length)!=null?k:0)+l>e?g(t.childNodes[e]):g(t,s,"beforeend")}l++}}let u=((_=a==null?void 0:a.length)!=null?_:0)+l;if(u>=e)for(let i=u-1;i>=e;i--)t.childNodes[i].remove()},h=typeof n=="string"?document.querySelector(n)||document.body.appendChild(document.createElement("div")):n;if(typeof d=="string")try{d=JSON.parse(d)}catch(t){d=void 0}d!=null||(d=H(h));let v=!0,T=!1,I=()=>{if(v&&!T&&N){T=!0,N=!1;let t=P(r(p));if(j(h,t,d),d=t,m=R,R=new WeakMap,T=!1,N)throw new Error("update during render")}};return I(),[f,()=>{if(v){v=!1;for(let t=h.childNodes.length-1;t>=0;t--)h.childNodes[t].remove()}},p]};export{J as memo,ie as mount,C as node};
//# sourceMappingURL=staark.base.min.js.map
