var j=Symbol();var _=(t,n)=>({_:j,r:t,m:n});var G=function(t){return Array.isArray(t)?t:[t]};var M=t=>{if(typeof t=="object")if(Array.isArray(t)){let n=[];for(let c=0;c<t.length;c++)n.push(M(t[c]));t=n}else{let n={};for(let c in t)n[c]=M(t[c]);t=n}return t};var C=(t,n)=>{if(t===n)return!0;if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();if(!t||!n||typeof t!="object"&&typeof n!="object")return t===n;if(t==null||n===null||n===void 0||t.prototype!==n.prototype)return!1;let c=Object.keys(t);return c.length!==Object.keys(n).length?!1:c.every(l=>C(t[l],n[l]))};var k=(t,n)=>{let c=new WeakMap,l=d=>{if(c.has(d)){let y=c.get(d);c.delete(y);for(let a in y.proxy)typeof y.proxy[a]=="object"&&l(y.proxy[a]);y.revoke()}},x=d=>{if(c.has(d))return c.get(d);for(let a in d)d[a]&&typeof d[a]=="object"&&(d[a]=x(d[a]));let y=Proxy.revocable(d,{deleteProperty:(a,u)=>{if(!Reflect.has(a,u))return!0;l(a);let p=Reflect.deleteProperty(a,u);return p&&n(),p},set:(a,u,p)=>{let N=a[u];return N!==p&&(typeof N=="object"&&l(N),p&&typeof p=="object"&&(p=x(p)),a[u]=p,n()),!0}});return c.set(y,d),y.proxy};return{p:x(t),s:()=>l(t)}};var F=/[A-Z]+(?![a-z])|[A-Z]/g,D=(t,n)=>(n?"-":"")+t,W=(t,n,c)=>{c||(c={});let l=!0,x=!1,d,y=()=>{if(l&&(l=!1,d))for(let e=d.childNodes.length-1;e>=0;e--)d.childNodes[e].remove()};if(d=typeof t=="string"?document.querySelector(t):t,!d)throw new Error("no root found");y(),l=!0,d||(d=document.createElement("div"),document.body.appendChild(d));let a=0,u=(e,f=null,m=null)=>{if(f)for(let o in f){let r=f[o];if(r!=null){let i=typeof r;if(i==="function"){let b=f[o]=s=>{a++,r(s),a--,E()};e.addEventListener(o,b);continue}else{if(i==="boolean"?r=r?"true":"false":i!=="string"&&(r=r.toString()),o==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let b="";for(let s in r)r[s]&&(b+=" "+s);r=b}}else if(o==="style"){if(typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let b="";for(let s in r){let A=r[s];s=s.replace(F,D).toLowerCase(),Array.isArray(A)?b+=";"+s+":"+A.join(" "):r&&(b+=";"+s+":"+r)}r=b}}else o==="value"&&e.value!==r?e.value=r:o==="checked"&&(e.checked=f[o]);e.setAttribute(o,r)}}}if(m)for(let o in m)typeof m[o]=="function"?e.removeEventListener(o,m[o]):(!f||!(o in f)||f[o]===null||f[o]===void 0)&&(o==="value"?e.value="":o==="checked"&&(e.checked=!1),e.removeAttribute(o))},p=[],N=[],O=e=>{let f=p.find(m=>m.r===e.r&&C(m.m,e.m));return f||(f={c:G(e.r(L.p,e.m)),m:e.m,r:e.r}),N.includes(f)||N.push(f),M(f.c)},T=(e,f=null,m=null)=>{let o=0,r=0;if(f)for(;o<f.length;o++){let i=f[o];if(i.r){let s=O(i);f.splice(o,1,...s),o--;continue}let b=!1;if(m)for(let s=o-r;s<m.length;s++){let A=m[s];if(A.t&&i.t===A.t||!A.t&&!i.t){b=!0,o!==s&&(e.insertBefore(e.childNodes[s+r],e.childNodes[o]),g.splice(o-r,0,...g.splice(s,1))),i.t?(u(e.childNodes[o],i.a,A.a),T(e.childNodes[o],i.c,A.c)):e.childNodes[o].textContent=typeof i=="string"?i:i.c;break}}if(!b)if(i.t){let s=document.createElement(i.t);i.a&&u(s,i.a),i.c&&T(s,i.c),e.childNodes.length>o?e.childNodes[o].insertAdjacentElement("afterend",s):e.insertAdjacentElement("beforeend",s),r++}else{let s=typeof i=="string"?i:i.c;e.childNodes.length>o?e.childNodes[o].insertAdjacentText("afterend",s):e.insertAdjacentText("beforeend",s),r++}}if(e.childNodes.length>=o)for(let i=e.childNodes.length-1;i>=o;i--)e.childNodes[i].remove()},h=!0,L=k(c,()=>{h=!0,requestAnimationFrame(E)}),g=[],E=()=>{if(l&&!x&&h&&a<=0){x=!0,h=!1;let e=G(n(L.p));if(T(d,e,g),g=e,p=N,N=[],x=!1,h)throw new Error("proxy changed during rendering")}};return E(),[E,y]};var H=(t,n,c)=>((typeof n!="object"||n._===j||Array.isArray(n))&&(c=n,n=void 0),{_:j,a:n,c:Array.isArray(c)?c:[c],t:t.toUpperCase()});export{_ as memo,W as mount,H as node};
//# sourceMappingURL=staark.base.min.js.map
