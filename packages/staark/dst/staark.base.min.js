var N="n";var I=(o,n)=>({_:N,r:o,m:n});var h=o=>o?Array.isArray(o)?o:[o]:void 0;var _=(o,n,t)=>((typeof n!="object"||n._===N||Array.isArray(n))&&(t=n,n=void 0),{_:N,a:n,c:h(t),t:o.toUpperCase()});var R=o=>{if(typeof o=="object"){let n=Array.isArray(o)?[]:{};for(let t in o)n[t]=R(o[t]);return n}return o};var U=(o,n)=>{if(o===n)return!0;if(!o||!n||typeof o!="object"||typeof n!="object")return o===n;if(o instanceof Date)return n instanceof Date&&o.getTime()===n.getTime();let t=Object.keys(o);return t.length===Object.keys(n).length&&t.every(p=>U(o[p],n[p]))};var E=o=>{var t;let n=[];for(let p of o.childNodes)if(p instanceof Text)n.push((t=p.textContent)!=null?t:"");else{let y={};for(let d of p.attributes)y[d.name]=d.value;n.push(_(p.nodeName,y,E(p)))}return n};var q=(o,n)=>{let t={deleteProperty:(y,d)=>{if(Reflect.has(y,d)){let l=Reflect.deleteProperty(y,d);return l&&n(),l}return!0},set:(y,d,l)=>(y[d]!==l&&(l&&typeof l=="object"&&(l=p(l)),y[d]=l,n()),!0)},p=y=>{for(let d in y)y[d]&&typeof y[d]=="object"&&(y[d]=p(y[d]));return new Proxy(y,t)};return p(o)};var S=(o,n,t,p)=>{typeof t=="string"&&(t=JSON.parse(t)),t||(t={});let y=null,d=()=>(y||(y=Promise.resolve().then(O)),y),l=Object.getPrototypeOf(t)===Proxy.prototype?t:q(t,d),g=(r,a,m)=>{if(a)for(let e in a){let f=a[e];if(f){let s=typeof f;if(s==="function"){let i=m==null?void 0:m[e];if((i==null?void 0:i.f)===f)a[e]=m[e];else{i&&r.removeEventListener(e,i);let c=a[e]=x=>{f(x,l)};r.addEventListener(e,c),c.f=f}}else if(e==="class"){if(typeof f=="object")if(Array.isArray(f))f=f.join(" ");else{let i="";for(let c in f)f[c]&&(i+=" "+c);f=i}r.className=f}else if(e==="style"&&typeof f=="object"){for(let i in f){let c=f[i];i.includes("-",1)?r.style.setProperty(i,c):r.style[i]=c}if(m&&m[e]&&typeof m[e]=="object"&&!Array.isArray(m[e]))for(let i in m[e])f[i]||(i.includes("-",1)?r.style.removeProperty(i):r.style[i]=null)}else f===!0?f="true":s!=="string"&&(f=f.toString()),r.setAttribute(e,f)}}if(m)for(let e in m){let f=m[e];(!a||!a[e])&&(typeof f=="function"?r.removeEventListener(e,m[e]):e==="class"?r.className="":e==="style"?r.style.cssText="":e==="value"?r.value="":r.removeAttribute(e))}},L=new WeakMap,j=new WeakMap,k=(r,a,m)=>{let e=0,f=0;if(a)for(;e<a.length;e++){let s=a[e];if(s.r){let c=L.get(s.r);(!c||!U(c.m,s.m))&&(c={c:h(s.r(l,s.m)),m:s.m,r:s.r}),j.set(s.r,c),a.splice(e,1,...R(c.c)),e--;continue}let i=!1;if(m)for(let c=e-f;c<m.length;c++){let x=m[c];if(x.t&&s.t===x.t||!x.t&&!s.t){i=!0,e!==c+f&&(r.insertBefore(r.childNodes[c+f],r.childNodes[e]),m.splice(e-f,0,m.splice(c,1)[0])),s.t?(g(r.childNodes[e],s.a,x.a),k(r.childNodes[e],s.c,x.c)):x!==s&&(r.childNodes[e].textContent=s);break}}if(!i){let c;s.t?(c=document.createElement(s.t),g(c,s.a),k(c,s.c)):c=document.createTextNode(s),r.insertBefore(c,r.childNodes[e]),f++}}if(m){let s=m.length+f;if(s>=e)for(let i=s-1;i>=e;i--)r.childNodes[i].remove()}},u=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof p=="string")try{p=JSON.parse(p)}catch(r){p=null}p||(p=E(u));let P=!0,M=!1,O=()=>{if(P&&!M&&y){M=!0,y=null;let r=h(n(l));k(u,r,p),p=r,L=j,j=new WeakMap,M=!1}};return d(),O(),[d,()=>{if(P){P=!1;for(let r=u.childNodes.length-1;r>=0;r--)u.childNodes[r].remove()}},l]};export{I as memo,S as mount,_ as node};
