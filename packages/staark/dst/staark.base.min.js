var W=(f,n)=>({_:"n",r:f,m:n});var u=f=>f?Array.isArray(f)?f:[f]:void 0;var U=(f,n,i)=>(n&&(typeof n!="object"||n._==="n"||Array.isArray(n))&&(i=n,n=void 0),{_:"n",a:n,c:u(i),t:f});var w=f=>{if(typeof f=="object"){let n=Array.isArray(f)?[]:{};for(let i in f)n[i]=w(f[i]);return n}return f};var E=(f,n)=>{if(f===n)return!0;if(!f||!n||typeof f!="object"||typeof n!="object")return f===n;if(f instanceof Date)return n instanceof Date&&f.getTime()===n.getTime();let i=Object.keys(f);return i.length===Object.keys(n).length&&i.every(s=>E(f[s],n[s]))};var _=f=>{var i;let n=[];for(let s of f.childNodes)if(s instanceof Text)n.push((i=s.textContent)!=null?i:"");else{let t={};for(let m of s.attributes)t[m.name]=m.value;n.push(U(s.nodeName,t,_(s)))}return n};var V=(f,n)=>{let i={deleteProperty:(t,m)=>{if(Reflect.has(t,m)){let l=Reflect.deleteProperty(t,m);return l&&n(),l}return!0},set:(t,m,l)=>(t[m]!==l&&(l&&typeof l=="object"&&(l=s(l)),t[m]=l,n()),!0)},s=t=>{for(let m in t)t[m]&&typeof t[m]=="object"&&(t[m]=s(t[m]));return new Proxy(t,i)};return s(f)};var B=(f,n,i,s)=>{typeof i=="string"&&(i=JSON.parse(i)),i||(i={});let t=null,m=()=>(t||(t=Promise.resolve().then(L)),t),l=Object.getPrototypeOf(i)===Proxy.prototype?i:V(i,m),j=(r,a,y)=>{if(a)for(let c in a){let o=a[c];if(o){let N=typeof o;if(N==="function"){let e=y==null?void 0:y[c];if((e==null?void 0:e.f)===o)a[c]=e;else{e&&r.removeEventListener(c,e);let d=a[c]=p=>{o(p,l)};r.addEventListener(c,d),d.f=o}}else if(c==="class"){if(typeof o=="object")if(Array.isArray(o))o=o.join(" ");else{let e="";for(let d in o)o[d]&&(e+=" "+d);o=e}r.className=o}else if(c==="style"&&typeof o=="object"){for(let e in o){let d=o[e];e.includes("-",1)?r.style.setProperty(e,d):r.style[e]=d}if(y&&y[c]&&typeof y[c]=="object"&&!Array.isArray(y[c]))for(let e in y[c])o[e]||(e.includes("-",1)?r.style.removeProperty(e):r.style[e]=null)}else o===!0?o="true":N!=="string"&&(o=o.toString()),r.setAttribute(c,o),c==="value"&&(r.value=o)}}if(y)for(let c in y){let o=y[c];(!a||!a[c])&&(typeof o=="function"?r.removeEventListener(c,y[c]):c==="class"?r.className="":c==="style"?r.style.cssText="":c==="value"?r.value="":r.removeAttribute(c))}},v=new WeakMap,k=new WeakMap,P=(r,a,y,c)=>{let o=0,N=0;if(a)for(;o<a.length;o++){let e=a[o];if(e.r){let p=v.get(e.r);(!p||!E(p.m,e.m))&&(p={c:u(e.r(l,e.m)),m:e.m,r:e.r}),k.set(e.r,p),a.splice(o,1,...w(p.c)),o--;continue}let d=!1;if(y)for(let p=o-N;p<y.length;p++){let x=y[p];if(x.t&&e.t===x.t||!x.t&&!e.t){d=!0,o!==p+N&&(r.insertBefore(r.childNodes[p+N],r.childNodes[o]),y.splice(o-N,0,y.splice(p,1)[0])),e.t?(j(r.childNodes[o],e.a,x.a),P(r.childNodes[o],e.c,x.c,c||e.t==="SVG"||e.t==="svg")):x!==e&&(r.childNodes[o].textContent=e);break}}if(!d){let p;if(e.t){let x=c||e.t==="SVG"||e.t==="svg";x?p=document.createElementNS("http://www.w3.org/2000/svg",e.t):p=document.createElement(e.t),j(p,e.a,void 0,x),P(p,e.c,void 0,x)}else p=document.createTextNode(e);r.insertBefore(p,r.childNodes[o]),N++}}if(y){let e=y.length+N;if(e>=o)for(let d=e-1;d>=o;d--)r.childNodes[d].remove()}},h=typeof f=="string"?document.querySelector(f)||document.body.appendChild(document.createElement("div")):f;if(typeof s=="string")try{s=JSON.parse(s)}catch(r){s=null}s||(s=_(h));let M=!0,R=!1,L=()=>{if(M&&!R&&t){R=!0,t=null;let r=u(n(l));P(h,r,s),s=r,v=k,k=new WeakMap,R=!1}};return m(),L(),[m,()=>{if(M){M=!1;for(let r=h.childNodes.length-1;r>=0;r--)h.childNodes[r].remove()}},l]};export{W as memo,B as mount,U as node};
