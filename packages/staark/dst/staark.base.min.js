var j=Symbol();var Z=(t,n)=>({_:j,r:t,m:n});var q=(t,n,r)=>((typeof n!="object"||n._===j||Array.isArray(n))&&(r=n,n=void 0),{_:j,a:n,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var D=function(t){return Array.isArray(t)?t:[t]};var k=t=>{if(typeof t=="object")if(Array.isArray(t)){let n=[];for(let r=0;r<t.length;r++)n.push(k(t[r]));t=n}else{let n={};for(let r in t)n[r]=k(t[r]);t=n}return t};var H=(t,n)=>{if(t===n)return!0;if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();if(!t||!n||typeof t!="object"&&typeof n!="object")return t===n;if(t==null||n===null||n===void 0||t.prototype!==n.prototype)return!1;let r=Object.keys(t);return r.length!==Object.keys(n).length?!1:r.every(f=>H(t[f],n[f]))};var _=t=>{var r;let n=[];for(let f=0;f<t.childNodes.length;f++)if(t instanceof Text)n.push((r=t.textContent)!=null?r:"");else{let l={};for(let a=0;a<t.attributes.length;a++){let N=t.attributes[a];l[N.name]=N.value}n.push(q(t.nodeName,l,_(t)))}return n};var G=(t,n)=>{let r=new WeakMap,f=a=>{if(r.has(a)){let N=r.get(a);r.delete(N);for(let d in N.proxy)typeof N.proxy[d]=="object"&&f(N.proxy[d]);N.revoke()}},l=a=>{if(r.has(a))return r.get(a);for(let d in a)a[d]&&typeof a[d]=="object"&&(a[d]=l(a[d]));let N=Proxy.revocable(a,{deleteProperty:(d,R)=>{if(Reflect.has(d,R)){f(d);let g=Reflect.deleteProperty(d,R);return g&&n(),g}return!0},set:(d,R,g)=>{let E=d[R];return E!==g&&(typeof E=="object"&&f(E),g&&typeof g=="object"&&(g=l(g)),d[R]=g,n()),!0}});return r.set(N,a),N.proxy};return l(t)};var V=/[A-Z]+(?![a-z])|[A-Z]/g,U=(t,n)=>(n?"-":"")+t,ce=(t,n,r,f)=>{let l=0,a=(o,p,s)=>{if(p)for(let i in p){let e=p[i];if(e){let u=typeof e;if(u==="function"){let x=p[i]=b=>{l++;try{e(b)}catch(M){}l--,L()};o.addEventListener(i,x);continue}else{if(i==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let x="";for(let b in e)e[b]&&(x+=" "+b);e=x}}else if(i==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let x="";for(let b in e){let M=e[b];b=b.replace(V,U).toLowerCase(),Array.isArray(M)?x+=";"+b+":"+M.join(" "):M&&(x+=";"+b+":"+M)}e=x}}else u==="boolean"?e=e?"true":"false":u!=="string"&&(e=e.toString()),i==="value"&&o.value!==e?o.value=e:i==="checked"&&(o.checked=p[i]);o.setAttribute(i,e)}}}if(s)for(let i in s)typeof s[i]=="function"?o.removeEventListener(i,s[i]):(!p||!(i in p)||!p[i])&&(i==="value"?o.value="":i==="checked"&&(o.checked=!1),o.removeAttribute(i))},N=[],d=[],R=o=>{let p=N.find(s=>s.r===o.r&&H(s.m,o.m));return p||(p={c:D(o.r(F,o.m)),m:o.m,r:o.r}),d.includes(p)||d.push(p),k(p.c)},g=(o,p,s,i)=>{var b,M,v;let e=0,u=0;if(p)for(;e<p.length;e++){let c=p[e];if(c.r){let y=R(c);p.splice(e,1,...y),e--;continue}let w=!1;if(s)for(let y=e-u;y<s.length;y++){let m=s[y];if(m.t&&c.t===m.t||!m.t&&!c.t){w=!0,e!==y&&(o.insertBefore(o.childNodes[y+u],o.childNodes[e]),s.splice(e-u,0,...s.splice(y,1))),c.t?(a(o.childNodes[e],c.a,m.a),g(o.childNodes[e],c.c,m.c,m)):o.childNodes[e].textContent=typeof c=="string"?c:c.c;break}}if(!w){let y;if(c.t){y=document.createElement(c.t),c.a&&a(y,c.a),c.c&&g(y,c.c);let m=(h,T,C)=>{!T||T.t?h.insertAdjacentElement(C,y):h.parentNode.insertBefore(y,h)};e===0?m(o,i,"afterbegin"):((b=s==null?void 0:s.length)!=null?b:0)+u>e?m(o.childNodes[e],s[e+u],"beforebegin"):m(o,i,"beforeend"),u++}else{y=typeof c=="string"?c:c.c;let m=(h,T,C)=>{!T||T.t?h.insertAdjacentText(C,y):h.parentNode.insertBefore(document.createTextNode(y),h.nextSibling)};e===0?m(o,i,"afterbegin"):((M=s==null?void 0:s.length)!=null?M:0)+u>e?m(o.childNodes[e],s[e+u],"beforebegin"):m(o,i,"beforeend"),u++}}}let x=((v=s==null?void 0:s.length)!=null?v:0)+u;if(x>=e)for(let c=x-1;c>=e;c--)o.childNodes[c].remove()};typeof r=="string"&&(r=JSON.parse(r)),r!=null||(r={});let E=!0,F=Object.getPrototypeOf(r)===Proxy.prototype?r:G(r,()=>{E=!0,requestAnimationFrame(L)}),A=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof f=="string")try{f=JSON.parse(f)}catch(o){f=void 0}f!=null||(f=_(A));let I=!0,P=!1,L=()=>{if(I&&!P&&E&&l<=0){P=!0,E=!1;let o=D(n(F));if(g(A,o,f),f=o,N=d,d=[],P=!1,E)throw new Error("update during render")}};return L(),[()=>{E=!0,requestAnimationFrame(L)},()=>{if(I){I=!1;for(let o=A.childNodes.length-1;o>=0;o--)A.childNodes[o].remove()}},F]};export{Z as memo,ce as mount,q as node};
//# sourceMappingURL=staark.base.min.js.map
