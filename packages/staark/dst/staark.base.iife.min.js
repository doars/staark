"use strict";(()=>{var W=function(t,r){let o=window;for(let c=0;c<t.length-1;c++)(typeof o[t[c]]!="object"||!Array.isArray(o[t[c]]))&&(o[t[c]]={}),o=o[t[c]];o[t[t.length-1]]=r};var L="n";var G=(t,r)=>({_:L,r:t,m:r});var R=(t,r,o)=>((typeof r!="object"||r._===L||Array.isArray(r))&&(o=r,r=void 0),{_:L,a:r,c:o?Array.isArray(o)?o:[o]:void 0,t:t.toUpperCase()});var P=t=>Array.isArray(t)?t:[t];var w=t=>{if(typeof t=="object"){let r=Array.isArray(t)?[]:{};for(let o in t)r[o]=w(t[o]);return r}return t};var F=(t,r)=>{if(t===r)return!0;if(!t||!r||typeof t!="object"||typeof r!="object")return t===r;if(t instanceof Date)return r instanceof Date&&t.getTime()===r.getTime();let o=Object.keys(t);return o.length===Object.keys(r).length&&o.every(c=>F(t[c],r[c]))};var H=t=>{var o;let r=[];for(let c=0;c<t.childNodes.length;c++){let N=t.childNodes[c];if(N instanceof Text)r.push((o=N.textContent)!=null?o:"");else{let f={};for(let m=0;m<N.attributes.length;m++){let d=N.attributes[m];f[d.name]=d.value}r.push(R(N.nodeName,f,H(N)))}}return r};var U=(t,r)=>{let o=new WeakMap,c={deleteProperty:(f,m)=>{if(Reflect.has(f,m)){let d=f[m];typeof d=="object"&&d&&o.has(d)&&o.get(d).revoke();let u=Reflect.deleteProperty(f,m);return u&&r(),u}return!0},set:(f,m,d)=>{let u=f[m];return u!==d&&(typeof u=="object"&&u&&o.has(u)&&o.get(u).revoke(),f[m]=typeof d=="object"&&d?o.has(d)?o.get(d).proxy:N(d):d,r()),!0}},N=f=>{if(o.has(f))return o.get(f).proxy;for(let d in f){let u=f[d];u&&typeof u=="object"&&(f[d]=N(u))}let m=Proxy.revocable(f,c);return o.set(f,m),m.proxy};return N(t)};var V=/[A-Z]+(?![a-z])|[A-Z]/g,q=(t,r)=>(r?"-":"")+t,J=(t,r,o,c)=>{typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let N=null,f=()=>(N||(N=Promise.resolve().then(I)),N),m=Object.getPrototypeOf(o)===Proxy.prototype?o:U(o,f),d=(n,l,i)=>{if(l)for(let s in l){let e=l[s];if(e){let b=typeof e;if(b==="function"){if(i&&i[s]){if(i[s].f===e)continue;n.removeEventListener(s,i[s])}let p=l[s]=function(M){e(M,m)};p.f=e,n.addEventListener(s,p)}else if(s==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let p="";for(let M in e)e[M]&&(p+=" "+M);e=p}n.className=e}else if(s==="style"&&typeof e=="object"){for(let p in e){let M=e[p];p=p.replace(V,q).toLowerCase(),Array.isArray(M)&&(M=M.join(" ")),n.style.setProperty(p,M)}if(i&&i[s]&&typeof i[s]=="object"&&!Array.isArray(i[s]))for(let p in i[s])p in e||(p=p.replace(V,q).toLowerCase(),n.style.removeProperty(p))}else{if(b==="boolean"){if(!e){n.removeAttribute(s);continue}e="true"}else b!=="string"&&(e=e.toString());s==="value"&&n.value!==e?n.value=e:s==="checked"&&(n.checked=l[s]),n.setAttribute(s,e)}}}if(i)for(let s in i){let e=i[s];(!l||!l[s])&&(typeof e=="function"?n.removeEventListener(s,i[s]):s==="class"?n.className="":s==="style"?n.style="":(s==="value"?n.value="":s==="checked"&&(n.checked=!1),n.removeAttribute(s)))}},u=new WeakMap,j=new WeakMap,v=(n,l,i,s)=>{var M,_,D;let e=0,b=0;if(l)for(;e<l.length;e++){let a=l[e];if(a.r){let y=u.get(a.r);(!y||!F(y.m,a.m))&&(y={c:P(a.r(m,a.m)),m:a.m,r:a.r}),j.set(a.r,y),l.splice(e,1,...w(y.c)),e--;continue}let C=!1;if(i)for(let y=e-b;y<i.length;y++){let g=i[y];if(g.t&&a.t===g.t||!g.t&&!a.t){C=!0,e!==y+b&&(n.insertBefore(n.childNodes[y+b],n.childNodes[e]),i.splice(e-b,0,...i.splice(y,1))),a.t?(d(n.childNodes[e],a.a,g.a),v(n.childNodes[e],a.c,g.c,g)):g!==a&&(n.childNodes[e].textContent=a);break}}if(!C){let y;if(a.t){y=document.createElement(a.t),a.a&&d(y,a.a),a.c&&v(y,a.c);let g=(E,x,A)=>{A&&(!x||x.t)?E.insertAdjacentElement(A,y):E.parentNode.insertBefore(y,E)};e===0?g(n,s,"afterbegin"):((M=i==null?void 0:i.length)!=null?M:0)+b>e?g(n.childNodes[e]):g(n,s,"beforeend")}else{let g=(E,x,A)=>{A&&(!x||x.t)?E.insertAdjacentText(A,a):E.parentNode.insertBefore(document.createTextNode(a),E)};e===0?g(n,s,"afterbegin"):((_=i==null?void 0:i.length)!=null?_:0)+b>e?g(n.childNodes[e]):g(n,s,"beforeend")}b++}}let p=((D=i==null?void 0:i.length)!=null?D:0)+b;if(p>=e)for(let a=p-1;a>=e;a--)n.childNodes[a].remove()},k=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof c=="string")try{c=JSON.parse(c)}catch(n){c=void 0}c!=null||(c=H(k));let h=!0,T=!1,I=()=>{if(h&&!T&&N){T=!0,N=null;let n=P(r(m));if(v(k,n,c),c=n,u=j,j=new WeakMap,T=!1,N)throw new Error("update during render")}};return f(),I(),[f,()=>{if(h){h=!1;for(let n=k.childNodes.length-1;n>=0;n--)k.childNodes[n].remove()}},m]};W(["staark"],{memo:G,mount:J,node:R});})();
//# sourceMappingURL=staark.base.iife.min.js.map
