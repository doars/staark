"use strict";(()=>{var w=function(e,o){let n=window;for(let c=0;c<e.length-1;c++)(typeof n[e[c]]!="object"||!Array.isArray(n[e[c]]))&&(n[e[c]]={}),n=n[e[c]];n[e[e.length-1]]=o};var b="n";var F=(e,o)=>({_:b,r:e,m:o});var g=e=>e?Array.isArray(e)?e:[e]:void 0;var x=(e,o,n)=>((typeof o!="object"||o._===b||Array.isArray(o))&&(n=o,o=void 0),{_:b,a:o,c:g(n),t:e.toUpperCase()});var h=e=>{if(typeof e=="object"){let o=Array.isArray(e)?[]:{};for(let n in e)o[n]=h(e[n]);return o}return e};var k=(e,o)=>{if(e===o)return!0;if(!e||!o||typeof e!="object"||typeof o!="object")return e===o;if(e instanceof Date)return o instanceof Date&&e.getTime()===o.getTime();let n=Object.keys(e);return n.length===Object.keys(o).length&&n.every(c=>k(e[c],o[c]))};var j=e=>{var n;let o=[];for(let c of e.childNodes)if(c instanceof Text)o.push((n=c.textContent)!=null?n:"");else{let N=c,f={};for(let p of N.attributes)f[p.name]=p.value;o.push(x(c.nodeName,f,j(c)))}return o};var v=(e,o)=>{let n=new WeakMap,c={deleteProperty:(f,p)=>{if(Reflect.has(f,p)){let y=Reflect.deleteProperty(f,p);return y&&o(),y}return!0},set:(f,p,y)=>(f[p]!==y&&(y&&typeof y=="object"&&(y=N(y)),f[p]=y,o()),!0)},N=f=>{if(n.has(f))return n.get(f);for(let y in f)f[y]&&typeof f[y]=="object"&&(f[y]=N(f[y]));let p=new Proxy(f,c);return n.set(f,p),p};return N(e)};var P=(e,o,n,c)=>{typeof n=="string"&&(n=JSON.parse(n)),n||(n={});let N=null,f=()=>(N||(N=Promise.resolve().then(C)),N),p=Object.getPrototypeOf(n)===Proxy.prototype?n:v(n,f),y=(r,u,m)=>{if(u)for(let t in u){let s=u[t];if(s){let a=typeof s;if(a==="function"){let d=m==null?void 0:m[t];if((d==null?void 0:d.f)!==s){d&&r.removeEventListener(t,d);let i=u[t]=l=>{s(l,p)};i.f=s,r.addEventListener(t,i)}}else if(t==="class"){if(typeof s=="object")if(Array.isArray(s))s=s.join(" ");else{let d="";for(let i in s)s[i]&&(d+=" "+i);s=d}r.className=s}else if(t==="style"&&typeof s=="object"){for(let d in s){let i=s[d];d.includes("-",1)?r.style.setProperty(d,i):r.style[d]=i}if(m&&m[t]&&typeof m[t]=="object"&&!Array.isArray(m[t]))for(let d in m[t])d in s||(d.includes("-")?r.style.removeProperty(d):delete r.style[d])}else s===!0?s="true":a!=="string"&&(s=s.toString()),r.setAttribute(t,s)}}if(m)for(let t in m){let s=m[t];(!u||!u[t])&&(typeof s=="function"?r.removeEventListener(t,m[t]):t==="class"?r.className="":t==="style"?r.style.cssText="":t==="value"?r.value="":r.removeAttribute(t))}},A=new WeakMap,L=new WeakMap,R=(r,u,m)=>{let t=0,s=0;if(u)for(;t<u.length;t++){let a=u[t];if(a.r){let i=A.get(a.r);(!i||!k(i.m,a.m))&&(i={c:g(a.r(p,a.m)),m:a.m,r:a.r}),L.set(a.r,i),u.splice(t,1,...h(i.c)),t--;continue}let d=!1;if(m)for(let i=t-s;i<m.length;i++){let l=m[i];if(l.t&&a.t===l.t||!l.t&&!a.t){d=!0,t!==i+s&&(r.insertBefore(r.childNodes[i+s],r.childNodes[t]),m.splice(t-s,0,m.splice(i,1)[0])),a.t?(y(r.childNodes[t],a.a,l.a),R(r.childNodes[t],a.c,l.c)):l!==a&&(r.childNodes[t].textContent=a);break}}if(!d){let i;a.t?(i=document.createElement(a.t),y(i,a.a),R(i,a.c)):i=document.createTextNode(a),r.insertBefore(i,r.childNodes[t]),s++}}if(m){let a=m.length+s;if(a>=t)for(let d=a-1;d>=t;d--)r.childNodes[d].remove()}},M=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof c=="string")try{c=JSON.parse(c)}catch(r){c=null}c||(c=j(M));let E=!0,T=!1,C=()=>{if(E&&!T&&N){T=!0,N=null;let r=g(o(p));R(M,r,c),c=r,A=L,L=new WeakMap,T=!1}};return f(),C(),[f,()=>{if(E){E=!1;for(let r=M.childNodes.length-1;r>=0;r--)M.childNodes[r].remove()}},p]};w(["staark"],{memo:F,mount:P,node:x});})();
//# sourceMappingURL=staark.base.iife.min.js.map
