"use strict";(()=>{var D=function(o,s){let n=window;for(let i=0;i<o.length-1;i++)(typeof n[o[i]]!="object"||!Array.isArray(n[o[i]]))&&(n[o[i]]={}),n=n[o[i]];n[o[o.length-1]]=s};var E="n";var _=(o,s)=>({_:E,r:o,m:s});var L=o=>o?Array.isArray(o)?o:[o]:void 0;var h=(o,s,n)=>((typeof s!="object"||s._===E||Array.isArray(s))&&(n=s,s=void 0),{_:E,a:s,c:L(n),t:o.toUpperCase()});var C=o=>{if(typeof o=="object"){let s=Array.isArray(o)?[]:{};for(let n in o)s[n]=C(o[n]);return s}return o};var P=(o,s)=>{if(o===s)return!0;if(!o||!s||typeof o!="object"||typeof s!="object")return o===s;if(o instanceof Date)return s instanceof Date&&o.getTime()===s.getTime();let n=Object.keys(o);return n.length===Object.keys(s).length&&n.every(i=>P(o[i],s[i]))};var F=o=>{var n;let s=[];for(let i of o.childNodes)if(i instanceof Text)s.push((n=i.textContent)!=null?n:"");else{let l=i,d={};for(let y of l.attributes)d[y.name]=y.value;s.push(h(i.nodeName,d,F(i)))}return s};var U=(o,s)=>{let n=new WeakMap,i={deleteProperty:(d,y)=>{if(Reflect.has(d,y)){let m=d[y];typeof m=="object"&&m&&n.has(m)&&n.get(m).revoke();let N=Reflect.deleteProperty(d,y);return N&&s(),N}return!0},set:(d,y,m)=>{let N=d[y];return N!==m&&(typeof N=="object"&&N&&n.has(N)&&n.get(N).revoke(),d[y]=typeof m=="object"&&m?n.has(m)?n.get(m).proxy:l(m):m,s()),!0}},l=d=>{if(n.has(d))return n.get(d).proxy;for(let m in d){let N=d[m];N&&typeof N=="object"&&(d[m]=l(N))}let y=Proxy.revocable(d,i);return n.set(d,y),y.proxy};return l(o)};var H=(o,s,n,i)=>{typeof n=="string"&&(n=JSON.parse(n)),n||(n={});let l=null,d=()=>(l||(l=Promise.resolve().then(w)),l),y=Object.getPrototypeOf(n)===Proxy.prototype?n:U(n,d),m=(r,g,c)=>{if(g)for(let a in g){let e=g[a];if(e){let b=typeof e;if(b==="function"){let t=c==null?void 0:c[a];if((t==null?void 0:t.f)!==e){t&&r.removeEventListener(a,t);let p=g[a]=f=>{e(f,y)};p.f=e,r.addEventListener(a,p)}}else if(a==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let t="";for(let p in e)e[p]&&(t+=" "+p);e=t}r.className=e}else if(a==="style"&&typeof e=="object"){for(let t in e){let p=e[t];t.includes("-",1)?r.style.setProperty(t,p):r.style[t]=p}if(c&&c[a]&&typeof c[a]=="object"&&!Array.isArray(c[a]))for(let t in c[a])t in e||(t.includes("-")?r.style.removeProperty(t):delete r.style[t])}else e===!0?e="true":b!=="string"&&(e=e.toString()),r.setAttribute(a,e)}}if(c)for(let a in c){let e=c[a];(!g||!g[a])&&(typeof e=="function"?r.removeEventListener(a,c[a]):a==="class"?r.className="":a==="style"?r.style.cssText="":r.removeAttribute(a))}},N=new WeakMap,T=new WeakMap,j=(r,g,c,a)=>{let e=0,b=0;if(g)for(;e<g.length;e++){let t=g[e];if(t.r){let f=N.get(t.r);(!f||!P(f.m,t.m))&&(f={c:L(t.r(y,t.m)),m:t.m,r:t.r}),T.set(t.r,f),g.splice(e,1,...C(f.c)),e--;continue}let p=!1;if(c)for(let f=e-b;f<c.length;f++){let u=c[f];if(u.t&&t.t===u.t||!u.t&&!t.t){p=!0,e!==f+b&&(r.insertBefore(r.childNodes[f+b],r.childNodes[e]),c.splice(e-b,0,c.splice(f,1)[0])),t.t?(m(r.childNodes[e],t.a,u.a),j(r.childNodes[e],t.c,u.c,u)):u!==t&&(r.childNodes[e].textContent=t);break}}if(!p){let f;if(t.t){f=document.createElement(t.t),t.a&&m(f,t.a),t.c&&j(f,t.c);let u=(M,x,A)=>{A&&(!x||x.t)?M.insertAdjacentElement(A,f):M.parentNode.insertBefore(f,M)};e===0?u(r,a,"afterbegin"):c&&c.length+b>e?u(r.childNodes[e]):u(r,a,"beforeend")}else{let u=(M,x,A)=>{A&&(!x||x.t)?M.insertAdjacentText(A,t):M.parentNode.insertBefore(document.createTextNode(t),M)};e===0?u(r,a,"afterbegin"):c&&c.length+b>e?u(r.childNodes[e]):u(r,a,"beforeend")}b++}}if(c){let t=c.length+b;if(t>=e)for(let p=t-1;p>=e;p--)r.childNodes[p].remove()}},R=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof i=="string")try{i=JSON.parse(i)}catch(r){i=void 0}i||(i=F(R));let k=!0,v=!1,w=()=>{if(k&&!v&&l){v=!0,l=null;let r=L(s(y));j(R,r,i),i=r,N=T,T=new WeakMap,v=!1}};return d(),w(),[d,()=>{if(k){k=!1;for(let r=R.childNodes.length-1;r>=0;r--)R.childNodes[r].remove()}},y]};D(["staark"],{memo:_,mount:H,node:h});})();
//# sourceMappingURL=staark.base.iife.min.js.map
