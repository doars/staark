"use strict";(()=>{var F=function(e,o){let s=window;for(let i=0;i<e.length-1;i++)(typeof s[e[i]]!="object"||!Array.isArray(s[e[i]]))&&(s[e[i]]={}),s=s[e[i]];s[e[e.length-1]]=o};var l="n";var v=(e,o)=>({_:l,r:e,m:o});var b=e=>e?Array.isArray(e)?e:[e]:void 0;var M=(e,o,s)=>((typeof o!="object"||o._===l||Array.isArray(o))&&(s=o,o=void 0),{_:l,a:o,c:b(s),t:e.toUpperCase()});var T=e=>{if(typeof e=="object"){let o=Array.isArray(e)?[]:{};for(let s in e)o[s]=T(e[s]);return o}return e};var h=(e,o)=>{if(e===o)return!0;if(!e||!o||typeof e!="object"||typeof o!="object")return e===o;if(e instanceof Date)return o instanceof Date&&e.getTime()===o.getTime();let s=Object.keys(e);return s.length===Object.keys(o).length&&s.every(i=>h(e[i],o[i]))};var k=e=>{var s;let o=[];for(let i of e.childNodes)if(i instanceof Text)o.push((s=i.textContent)!=null?s:"");else{let f=i,y={};for(let p of f.attributes)y[p.name]=p.value;o.push(M(i.nodeName,y,k(i)))}return o};var w=(e,o)=>{let s={deleteProperty:(f,y)=>{if(Reflect.has(f,y)){let p=Reflect.deleteProperty(f,y);return p&&o(),p}return!0},set:(f,y,p)=>(f[y]!==p&&(p&&typeof p=="object"&&(p=i(p)),f[y]=p,o()),!0)},i=f=>{for(let y in f)f[y]&&typeof f[y]=="object"&&(f[y]=i(f[y]));return new Proxy(f,s)};return i(e)};var P=(e,o,s,i)=>{typeof s=="string"&&(s=JSON.parse(s)),s||(s={});let f=null,y=()=>(f||(f=Promise.resolve().then(j)),f),p=Object.getPrototypeOf(s)===Proxy.prototype?s:w(s,y),x=(n,N,m)=>{if(N)for(let t in N){let r=N[t];if(r){let a=typeof r;if(a==="function"){let d=m==null?void 0:m[t];if((d==null?void 0:d.f)!==r){d&&n.removeEventListener(t,d);let c=N[t]=u=>{r(u,p)};c.f=r,n.addEventListener(t,c)}}else if(t==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let d="";for(let c in r)r[c]&&(d+=" "+c);r=d}n.className=r}else if(t==="style"&&typeof r=="object"){for(let d in r){let c=r[d];d.includes("-",1)?n.style.setProperty(d,c):n.style[d]=c}if(m&&m[t]&&typeof m[t]=="object"&&!Array.isArray(m[t]))for(let d in m[t])d in r||(d.includes("-")?n.style.removeProperty(d):delete n.style[d])}else r===!0?r="true":a!=="string"&&(r=r.toString()),n.setAttribute(t,r)}}if(m)for(let t in m){let r=m[t];(!N||!N[t])&&(typeof r=="function"?n.removeEventListener(t,m[t]):t==="class"?n.className="":t==="style"?n.style.cssText="":t==="value"?n.value="":n.removeAttribute(t))}},C=new WeakMap,A=new WeakMap,L=(n,N,m)=>{let t=0,r=0;if(N)for(;t<N.length;t++){let a=N[t];if(a.r){let c=C.get(a.r);(!c||!h(c.m,a.m))&&(c={c:b(a.r(p,a.m)),m:a.m,r:a.r}),A.set(a.r,c),N.splice(t,1,...T(c.c)),t--;continue}let d=!1;if(m)for(let c=t-r;c<m.length;c++){let u=m[c];if(u.t&&a.t===u.t||!u.t&&!a.t){d=!0,t!==c+r&&(n.insertBefore(n.childNodes[c+r],n.childNodes[t]),m.splice(t-r,0,m.splice(c,1)[0])),a.t?(x(n.childNodes[t],a.a,u.a),L(n.childNodes[t],a.c,u.c)):u!==a&&(n.childNodes[t].textContent=a);break}}if(!d){let c;a.t?(c=document.createElement(a.t),x(c,a.a),L(c,a.c)):c=document.createTextNode(a),n.insertBefore(c,n.childNodes[t]),r++}}if(m){let a=m.length+r;if(a>=t)for(let d=a-1;d>=t;d--)n.childNodes[d].remove()}},g=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof i=="string")try{i=JSON.parse(i)}catch(n){i=null}i||(i=k(g));let R=!0,E=!1,j=()=>{if(R&&!E&&f){E=!0,f=null;let n=b(o(p));L(g,n,i),i=n,C=A,A=new WeakMap,E=!1}};return y(),j(),[y,()=>{if(R){R=!1;for(let n=g.childNodes.length-1;n>=0;n--)g.childNodes[n].remove()}},p]};F(["staark"],{memo:v,mount:P,node:M});})();
//# sourceMappingURL=staark.base.iife.min.js.map
