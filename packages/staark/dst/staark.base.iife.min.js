"use strict";(()=>{var W=function(t,r){let o=window;for(let a=0;a<t.length-1;a++)(typeof o[t[a]]!="object"||!Array.isArray(o[t[a]]))&&(o[t[a]]={}),o=o[t[a]];o[t[t.length-1]]=r};var L="n";var V=(t,r)=>({_:L,r:t,m:r});var j=(t,r,o)=>((typeof r!="object"||r._===L||Array.isArray(r))&&(o=r,r=void 0),{_:L,a:r,c:o?Array.isArray(o)?o:[o]:[],t:t.toUpperCase()});var w=t=>Array.isArray(t)?t:[t];var F=t=>{if(typeof t=="object"){let r=Array.isArray(t)?[]:{};for(let o in t)r[o]=F(t[o]);return r}return t};var H=(t,r)=>{if(t===r)return!0;if(!t||!r||typeof t!="object"||typeof r!="object")return t===r;if(t instanceof Date)return r instanceof Date&&t.getTime()===r.getTime();let o=Object.keys(t);return o.length===Object.keys(r).length&&o.every(a=>H(t[a],r[a]))};var I=t=>{var o;let r=[];for(let a=0;a<t.childNodes.length;a++){let m=t.childNodes[a];if(m instanceof Text)r.push((o=m.textContent)!=null?o:"");else{let d={};for(let p=0;p<m.attributes.length;p++){let f=m.attributes[p];d[f.name]=f.value}r.push(j(m.nodeName,d,I(m)))}}return r};var G=(t,r)=>{let o=new WeakMap,a={deleteProperty:(d,p)=>{if(Reflect.has(d,p)){let f=d[p];typeof f=="object"&&f&&o.has(f)&&o.get(f).revoke();let N=Reflect.deleteProperty(d,p);return N&&r(),N}return!0},set:(d,p,f)=>{let N=d[p];return N!==f&&(typeof N=="object"&&N&&o.has(N)&&o.get(N).revoke(),d[p]=typeof f=="object"&&f?o.has(f)?o.get(f).proxy:m(f):f,r()),!0}},m=d=>{if(o.has(d))return o.get(d).proxy;for(let f in d){let N=d[f];N&&typeof N=="object"&&(d[f]=m(N))}let p=Proxy.revocable(d,a);return o.set(d,p),p.proxy};return m(t)};var q=/[A-Z]+(?![a-z])|[A-Z]/g,J=(t,r)=>(r?"-":"")+t,U=(t,r,o,a)=>{typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let m=!0,d=()=>{m||(m=!0,Promise.resolve().then(_))},p=Object.getPrototypeOf(o)===Proxy.prototype?o:G(o,d),f=(n,l,c)=>{if(l)for(let s in l){let e=l[s];if(e){let M=typeof e;if(M==="function"){if(c&&c[s]){if(c[s].f===e)continue;n.removeEventListener(s,c[s])}let u=l[s]=function(b){e(b,p)};u.f=e,n.addEventListener(s,u)}else if(s==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let u="";for(let b in e)e[b]&&(u+=" "+b);e=u}n.className=e}else if(s==="style"){if(typeof e=="object")if(Array.isArray(e))for(let u of e){let[b,...R]=u.split(":");n.style.setProperty(b,R.join(":"))}else for(let u in e){let b=e[u];u=u.replace(q,J).toLowerCase(),Array.isArray(b)&&(b=b.join(" ")),n.style.setProperty(u,b.toString())}}else{if(M==="boolean"){if(!e){n.removeAttribute(s);continue}e="true"}else M!=="string"&&(e=e.toString());s==="value"&&n.value!==e?n.value=e:s==="checked"&&(n.checked=l[s]),n.setAttribute(s,e)}}}if(c)for(let s in c){let e=c[s];(!l||!l[s])&&(typeof e=="function"?n.removeEventListener(s,c[s]):(s==="value"?n.value="":s==="checked"&&(n.checked=!1),n.removeAttribute(s)))}},N=new WeakMap,h=new WeakMap,v=(n,l,c,s)=>{var b,R,D;let e=0,M=0;if(l)for(;e<l.length;e++){let i=l[e];if(i.r){let y=N.get(i.r);(!y||!H(y.m,i.m))&&(y={c:w(i.r(p,i.m)),m:i.m,r:i.r}),h.set(i.r,y),l.splice(e,1,...F(y.c)),e--;continue}let C=!1;if(c)for(let y=e-M;y<c.length;y++){let g=c[y];if(g.t&&i.t===g.t||!g.t&&!i.t){C=!0,e!==y+M&&(n.insertBefore(n.childNodes[y+M],n.childNodes[e]),c.splice(e-M,0,...c.splice(y,1))),i.t?(f(n.childNodes[e],i.a,g.a),v(n.childNodes[e],i.c,g.c,g)):g!==i&&(n.childNodes[e].textContent=i);break}}if(!C){let y;if(i.t){y=document.createElement(i.t),i.a&&f(y,i.a),i.c&&v(y,i.c);let g=(x,E,A)=>{A&&(!E||E.t)?x.insertAdjacentElement(A,y):x.parentNode.insertBefore(y,x)};e===0?g(n,s,"afterbegin"):((b=c==null?void 0:c.length)!=null?b:0)+M>e?g(n.childNodes[e]):g(n,s,"beforeend")}else{let g=(x,E,A)=>{A&&(!E||E.t)?x.insertAdjacentText(A,i):x.parentNode.insertBefore(document.createTextNode(i),x)};e===0?g(n,s,"afterbegin"):((R=c==null?void 0:c.length)!=null?R:0)+M>e?g(n.childNodes[e]):g(n,s,"beforeend")}M++}}let u=((D=c==null?void 0:c.length)!=null?D:0)+M;if(u>=e)for(let i=u-1;i>=e;i--)n.childNodes[i].remove()},k=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof a=="string")try{a=JSON.parse(a)}catch(n){a=void 0}a!=null||(a=I(k));let T=!0,P=!1,_=()=>{if(T&&!P&&m){P=!0,m=!1;let n=w(r(p));if(v(k,n,a),a=n,N=h,h=new WeakMap,P=!1,m)throw new Error("update during render")}};return _(),[d,()=>{if(T){T=!1;for(let n=k.childNodes.length-1;n>=0;n--)k.childNodes[n].remove()}},p]};W(["staark"],{memo:V,mount:U,node:j});})();
//# sourceMappingURL=staark.base.iife.min.js.map
