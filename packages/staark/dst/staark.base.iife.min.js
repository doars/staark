(()=>{var w=(e,r)=>{let i=window;for(let c=0;c<e.length-1;c++)(typeof i[e[c]]!="object"||!Array.isArray(i[e[c]]))&&(i[e[c]]={}),i=i[e[c]];i[e[e.length-1]]=r};var x="n";var O=(e,r)=>({_:x,r:e,m:r});var u=e=>e?Array.isArray(e)?e:[e]:void 0;var g=(e,r,i)=>(r&&(typeof r!="object"||r._===x||Array.isArray(r))&&(i=r,r=void 0),{_:x,a:r,c:u(i),t:e.toUpperCase()});var U=e=>{if(typeof e=="object"){let r=Array.isArray(e)?[]:{};for(let i in e)r[i]=U(e[i]);return r}return e};var E=(e,r)=>{if(e===r)return!0;if(!e||!r||typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();let i=Object.keys(e);return i.length===Object.keys(r).length&&i.every(c=>E(e[c],r[c]))};var L=e=>{var i;let r=[];for(let c of e.childNodes)if(c instanceof Text)r.push((i=c.textContent)!=null?i:"");else{let y={};for(let d of c.attributes)y[d.name]=d.value;r.push(g(c.nodeName,y,L(c)))}return r};var W=(e,r)=>{let i={deleteProperty:(y,d)=>{if(Reflect.has(y,d)){let l=Reflect.deleteProperty(y,d);return l&&r(),l}return!0},set:(y,d,l)=>(y[d]!==l&&(l&&typeof l=="object"&&(l=c(l)),y[d]=l,r()),!0)},c=y=>{for(let d in y)y[d]&&typeof y[d]=="object"&&(y[d]=c(y[d]));return new Proxy(y,i)};return c(e)};var D=(e,r,i,c)=>{typeof i=="string"&&(i=JSON.parse(i)),i||(i={});let y=null,d=()=>(y||(y=Promise.resolve().then(q)),y),l=Object.getPrototypeOf(i)===Proxy.prototype?i:W(i,d),j=(f,N,m)=>{if(N)for(let o in N){let n=N[o];if(n){let t=typeof n;if(t==="function"){let p=m==null?void 0:m[o];if((p==null?void 0:p.f)===n)N[o]=p;else{p&&f.removeEventListener(o,p);let s=N[o]=a=>{n(a,l)};f.addEventListener(o,s),s.f=n}}else if(o==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let p="";for(let s in n)n[s]&&(p+=" "+s);n=p}f.className=n}else if(o==="style"&&typeof n=="object"){for(let p in n){let s=n[p];p.includes("-",1)?f.style.setProperty(p,s):f.style[p]=s}if(m&&m[o]&&typeof m[o]=="object"&&!Array.isArray(m[o]))for(let p in m[o])n[p]||(p.includes("-",1)?f.style.removeProperty(p):f.style[p]=null)}else n===!0?n="true":t!=="string"&&(n=n.toString()),f.setAttribute(o,n)}}if(m)for(let o in m){let n=m[o];(!N||!N[o])&&(typeof n=="function"?f.removeEventListener(o,m[o]):o==="class"?f.className="":o==="style"?f.style.cssText="":o==="value"?f.value="":f.removeAttribute(o))}},_=new WeakMap,k=new WeakMap,P=(f,N,m)=>{let o=0,n=0;if(N)for(;o<N.length;o++){let t=N[o];if(t.r){let s=_.get(t.r);(!s||!E(s.m,t.m))&&(s={c:u(t.r(l,t.m)),m:t.m,r:t.r}),k.set(t.r,s),N.splice(o,1,...U(s.c)),o--;continue}let p=!1;if(m)for(let s=o-n;s<m.length;s++){let a=m[s];if(a.t&&t.t===a.t||!a.t&&!t.t){p=!0,o!==s+n&&(f.insertBefore(f.childNodes[s+n],f.childNodes[o]),m.splice(o-n,0,m.splice(s,1)[0])),t.t?(j(f.childNodes[o],t.a,a.a),P(f.childNodes[o],t.c,a.c)):a!==t&&(f.childNodes[o].textContent=t);break}}if(!p){let s;t.t?(s=document.createElement(t.t),j(s,t.a),P(s,t.c)):s=document.createTextNode(t),f.insertBefore(s,f.childNodes[o]),n++}}if(m){let t=m.length+n;if(t>=o)for(let p=t-1;p>=o;p--)f.childNodes[p].remove()}},h=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof c=="string")try{c=JSON.parse(c)}catch(f){c=null}c||(c=L(h));let M=!0,R=!1,q=()=>{if(M&&!R&&y){R=!0,y=null;let f=u(r(l));P(h,f,c),c=f,_=k,k=new WeakMap,R=!1}};return d(),q(),[d,()=>{if(M){M=!1;for(let f=h.childNodes.length-1;f>=0;f--)h.childNodes[f].remove()}},l]};w(["staark"],{memo:O,mount:D,node:g});})();
