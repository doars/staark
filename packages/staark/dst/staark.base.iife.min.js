"use strict";(()=>{var W=function(t,n){let o=window;for(let s=0;s<t.length-1;s++)(typeof o[t[s]]!="object"||!Array.isArray(o[t[s]]))&&(o[t[s]]={}),o=o[t[s]];o[t[t.length-1]]=n};var L="n";var I=(t,n)=>({_:L,r:t,m:n});var R=t=>t?Array.isArray(t)?t:[t]:void 0;var T=(t,n,o)=>((typeof n!="object"||n._===L||Array.isArray(n))&&(o=n,n=void 0),{_:L,a:n,c:R(o),t:t.toUpperCase()});var F=t=>{if(typeof t=="object"){let n=Array.isArray(t)?[]:{};for(let o in t)n[o]=F(t[o]);return n}return t};var _=(t,n)=>{if(t===n)return!0;if(!t||!n||typeof t!="object"||typeof n!="object")return t===n;if(t instanceof Date)return n instanceof Date&&t.getTime()===n.getTime();let o=Object.keys(t);return o.length===Object.keys(n).length&&o.every(s=>_(t[s],n[s]))};var C=t=>{var o;let n=[];for(let s of t.childNodes)if(s instanceof Text)n.push((o=s.textContent)!=null?o:"");else{let b=s,f={};for(let N of b.attributes)f[N.name]=N.value;n.push(T(s.nodeName,f,C(s)))}return n};var G=(t,n)=>{let o=new WeakMap,s={deleteProperty:(f,N)=>{if(Reflect.has(f,N)){let m=f[N];typeof m=="object"&&m&&o.has(m)&&o.get(m).revoke();let p=Reflect.deleteProperty(f,N);return p&&n(),p}return!0},set:(f,N,m)=>{let p=f[N];return p!==m&&(typeof p=="object"&&p&&o.has(p)&&o.get(p).revoke(),f[N]=typeof m=="object"&&m?o.has(m)?o.get(m).proxy:b(m):m,n()),!0}},b=f=>{if(o.has(f))return o.get(f).proxy;for(let m in f){let p=f[m];p&&typeof p=="object"&&(f[m]=b(p))}let N=Proxy.revocable(f,s);return o.set(f,N),N.proxy};return b(t)};var O=/[A-Z]+(?![a-z])|[A-Z]/g,q=(t,n)=>(n?"-":"")+t,V=(t,n,o,s)=>{typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let b=null,f=()=>(b||(b=Promise.resolve().then(D)),b),N=Object.getPrototypeOf(o)===Proxy.prototype?o:G(o,f),m=(r,x,i)=>{if(x)for(let c in x){let e=x[c];if(e){let M=typeof e;if(M==="function"){let d=i==null?void 0:i[c];if((d==null?void 0:d.f)!==e.f){d&&r.removeEventListener(c,d);let g=x[c]=k=>{e(k,N)};g.f=e,r.addEventListener(c,g)}}else if(c==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let d="";for(let g in e)e[g]&&(d+=" "+g);e=d}r.className=e}else if(c==="style"&&typeof e=="object"){for(let d in e){let g=e[d];d=d.replace(O,q).toLowerCase(),Array.isArray(g)&&(g=g.join(" ")),r.style.setProperty(d,g)}if(i&&i[c]&&typeof i[c]=="object"&&!Array.isArray(i[c]))for(let d in i[c])d in e||(d=d.replace(O,q).toLowerCase(),r.style.removeProperty(d))}else e===!0?e="true":M!=="string"&&(e=e.toString()),r.setAttribute(c,e)}}if(i)for(let c in i){let e=i[c];(!x||!x[c])&&(typeof e=="function"?r.removeEventListener(c,i[c]):c==="class"?r.className="":c==="style"?r.style.cssText="":r.removeAttribute(c))}},p=new WeakMap,P=new WeakMap,v=(r,x,i,c)=>{var g,k,H;let e=0,M=0;if(x)for(;e<x.length;e++){let a=x[e];if(a.r){let y=p.get(a.r);(!y||!_(y.m,a.m))&&(y={c:R(a.r(N,a.m)),m:a.m,r:a.r}),P.set(a.r,y),x.splice(e,1,...F(y.c)),e--;continue}let U=!1;if(i)for(let y=e-M;y<i.length;y++){let u=i[y];if(u.t&&a.t===u.t||!u.t&&!a.t){U=!0,e!==y+M&&(r.insertBefore(r.childNodes[y+M],r.childNodes[e]),i.splice(e-M,0,...i.splice(y,1))),a.t?(m(r.childNodes[e],a.a,u.a),v(r.childNodes[e],a.c,u.c,u)):u!==a&&(r.childNodes[e].textContent=a);break}}if(!U){let y;if(a.t){y=document.createElement(a.t),a.a&&m(y,a.a),a.c&&v(y,a.c);let u=(l,E,A)=>{A&&(!E||E.t)?l.insertAdjacentElement(A,y):l.parentNode.insertBefore(y,l)};e===0?u(r,c,"afterbegin"):((g=i==null?void 0:i.length)!=null?g:0)+M>e?u(r.childNodes[e]):u(r,c,"beforeend")}else{let u=(l,E,A)=>{A&&(!E||E.t)?l.insertAdjacentText(A,a):l.parentNode.insertBefore(document.createTextNode(a),l)};e===0?u(r,c,"afterbegin"):((k=i==null?void 0:i.length)!=null?k:0)+M>e?u(r.childNodes[e]):u(r,c,"beforeend")}M++}}let d=((H=i==null?void 0:i.length)!=null?H:0)+M;if(d>=e)for(let a=d-1;a>=e;a--)r.childNodes[a].remove()},j=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof s=="string")try{s=JSON.parse(s)}catch(r){s=void 0}s!=null||(s=C(j));let h=!0,w=!1,D=()=>{if(h&&!w&&b){w=!0,b=null;let r=R(n(N));v(j,r,s),s=r,p=P,P=new WeakMap,w=!1}};return f(),D(),[f,()=>{if(h){h=!1;for(let r=j.childNodes.length-1;r>=0;r--)j.childNodes[r].remove()}},N]};W(["staark"],{memo:I,mount:V,node:T});})();
//# sourceMappingURL=staark.base.iife.min.js.map
