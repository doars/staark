"use strict";(()=>{var G=function(e,n){let o=window;for(let i=0;i<e.length-1;i++)(typeof o[e[i]]!="object"||!Array.isArray(o[e[i]]))&&(o[e[i]]={}),o=o[e[i]];o[e[e.length-1]]=n};var T=Symbol();var V=(e,n)=>({_:T,r:e,m:n});var k=(e,n,o)=>((typeof n!="object"||n._===T||Array.isArray(n))&&(o=n,n=void 0),{_:T,a:n,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var w=function(e){return Array.isArray(e)?e:[e]};var F=e=>{if(typeof e=="object")if(Array.isArray(e)){let n=[];for(let o=0;o<e.length;o++)n.push(F(e[o]));e=n}else{let n={};for(let o in e)n[o]=F(e[o]);e=n}return e};var D=(e,n)=>{if(e===n)return!0;if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(!e||!n||typeof e!="object"&&typeof n!="object")return e===n;if(e==null||n===null||n===void 0||e.prototype!==n.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(n).length?!1:o.every(i=>D(e[i],n[i]))};var _=e=>{var o;let n=[];for(let i=0;i<e.childNodes.length;i++)if(e instanceof Text)n.push((o=e.textContent)!=null?o:"");else{let x={};for(let a=0;a<e.attributes.length;a++){let m=e.attributes[a];x[m.name]=m.value}n.push(k(e.nodeName,x,_(e)))}return n};var U=(e,n)=>{let o=new WeakMap,i=a=>{if(o.has(a)){let m=o.get(a);o.delete(m);for(let d in m.proxy)typeof m.proxy[d]=="object"&&i(m.proxy[d]);m.revoke()}},x=a=>{if(o.has(a))return o.get(a);for(let d in a)a[d]&&typeof a[d]=="object"&&(a[d]=x(a[d]));let m=Proxy.revocable(a,{deleteProperty:(d,R)=>{if(Reflect.has(d,R)){i(d);let g=Reflect.deleteProperty(d,R);return g&&n(),g}return!0},set:(d,R,g)=>{let E=d[R];return E!==g&&(typeof E=="object"&&i(E),g&&typeof g=="object"&&(g=x(g)),d[R]=g,n()),!0}});return o.set(m,a),m.proxy};return x(e)};var J=/[A-Z]+(?![a-z])|[A-Z]/g,Z=(e,n)=>(n?"-":"")+e,z=(e,n,o,i)=>{let x=0,a=(r,p,s)=>{if(p)for(let c in p){let t=p[c];if(t){let N=typeof t;if(N==="function"){let l=p[c]=b=>{x++;try{t(b)}catch(M){}x--,h()};r.addEventListener(c,l);continue}else{if(c==="class"){if(typeof t=="object")if(Array.isArray(t))t=t.join(" ");else{let l="";for(let b in t)t[b]&&(l+=" "+b);t=l}}else if(c==="style"){if(typeof t=="object")if(Array.isArray(t))t=t.join(";");else{let l="";for(let b in t){let M=t[b];b=b.replace(J,Z).toLowerCase(),Array.isArray(M)?l+=";"+b+":"+M.join(" "):M&&(l+=";"+b+":"+M)}t=l}}else N==="boolean"?t=t?"true":"false":N!=="string"&&(t=t.toString()),c==="value"&&r.value!==t?r.value=t:c==="checked"&&(r.checked=p[c]);r.setAttribute(c,t)}}}if(s)for(let c in s)typeof s[c]=="function"?r.removeEventListener(c,s[c]):(!p||!(c in p)||!p[c])&&(c==="value"?r.value="":c==="checked"&&(r.checked=!1),r.removeAttribute(c))},m=[],d=[],R=r=>{let p=m.find(s=>s.r===r.r&&D(s.m,r.m));return p||(p={c:w(r.r(I,r.m)),m:r.m,r:r.r}),d.includes(p)||d.push(p),F(p.c)},g=(r,p,s,c)=>{var b,M,v;let t=0,N=0;if(p)for(;t<p.length;t++){let f=p[t];if(f.r){let y=R(f);p.splice(t,1,...y),t--;continue}let q=!1;if(s)for(let y=t-N;y<s.length;y++){let u=s[y];if(u.t&&f.t===u.t||!u.t&&!f.t){q=!0,t!==y&&(r.insertBefore(r.childNodes[y+N],r.childNodes[t]),s.splice(t-N,0,...s.splice(y,1))),f.t?(a(r.childNodes[t],f.a,u.a),g(r.childNodes[t],f.c,u.c,u)):r.childNodes[t].textContent=typeof f=="string"?f:f.c;break}}if(!q){let y;if(f.t){y=document.createElement(f.t),f.a&&a(y,f.a),f.c&&g(y,f.c);let u=(j,A,H)=>{!A||A.t?j.insertAdjacentElement(H,y):j.parentNode.insertBefore(y,j)};t===0?u(r,c,"afterbegin"):((b=s==null?void 0:s.length)!=null?b:0)+N>t?u(r.childNodes[t],s[t+N],"beforebegin"):u(r,c,"beforeend"),N++}else{y=typeof f=="string"?f:f.c;let u=(j,A,H)=>{!A||A.t?j.insertAdjacentText(H,y):j.parentNode.insertBefore(document.createTextNode(y),j.nextSibling)};t===0?u(r,c,"afterbegin"):((M=s==null?void 0:s.length)!=null?M:0)+N>t?u(r.childNodes[t],s[t+N],"beforebegin"):u(r,c,"beforeend"),N++}}}let l=((v=s==null?void 0:s.length)!=null?v:0)+N;if(l>=t)for(let f=l-1;f>=t;f--)r.childNodes[f].remove()};typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let E=!0,I=Object.getPrototypeOf(o)===Proxy.prototype?o:U(o,()=>{E=!0,requestAnimationFrame(h)}),L=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof i=="string")try{i=JSON.parse(i)}catch(r){i=void 0}i!=null||(i=_(L));let P=!0,C=!1,h=()=>{if(P&&!C&&E&&x<=0){C=!0,E=!1;let r=w(n(I));if(g(L,r,i),i=r,m=d,d=[],C=!1,E)throw new Error("update during render")}};return h(),[()=>{E=!0,requestAnimationFrame(h)},()=>{if(P){P=!1;for(let r=L.childNodes.length-1;r>=0;r--)L.childNodes[r].remove()}},I]};G(["staark"],{memo:V,mount:z,node:k});})();
//# sourceMappingURL=staark.base.iife.min.js.map
