(()=>{var _=(e,r)=>{let i=window;for(let t=0;t<e.length-1;t++)(typeof i[e[t]]!="object"||!Array.isArray(i[e[t]]))&&(i[e[t]]={}),i=i[e[t]];i[e[e.length-1]]=r};var x="n";var q=(e,r)=>({_:x,r:e,m:r});var u=e=>e?Array.isArray(e)?e:[e]:void 0;var g=(e,r,i)=>((typeof r!="object"||r._===x||Array.isArray(r))&&(i=r,r=void 0),{_:x,a:r,c:u(i),t:e.toUpperCase()});var U=e=>{if(typeof e=="object"){let r=Array.isArray(e)?[]:{};for(let i in e)r[i]=U(e[i]);return r}return e};var w=(e,r)=>{if(e===r)return!0;if(!e||!r||typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();let i=Object.keys(e);return i.length===Object.keys(r).length&&i.every(t=>w(e[t],r[t]))};var E=e=>{var i;let r=[];for(let t of e.childNodes)if(t instanceof Text)r.push((i=t.textContent)!=null?i:"");else{let y={};for(let d of t.attributes)y[d.name]=d.value;r.push(g(t.nodeName,y,E(t)))}return r};var W=(e,r)=>{let i={deleteProperty:(y,d)=>{if(Reflect.has(y,d)){let l=Reflect.deleteProperty(y,d);return l&&r(),l}return!0},set:(y,d,l)=>(y[d]!==l&&(l&&typeof l=="object"&&(l=t(l)),y[d]=l,r()),!0)},t=y=>{for(let d in y)y[d]&&typeof y[d]=="object"&&(y[d]=t(y[d]));return new Proxy(y,i)};return t(e)};var D=(e,r,i,t)=>{typeof i=="string"&&(i=JSON.parse(i)),i||(i={});let y=null,d=()=>(y||(y=Promise.resolve().then(O)),y),l=Object.getPrototypeOf(i)===Proxy.prototype?i:W(i,d),j=(f,a,m)=>{if(a)for(let o in a){let n=a[o];if(n){let s=typeof n;if(s==="function"){let p=m==null?void 0:m[o];if((p==null?void 0:p.f)!==n){p&&f.removeEventListener(o,p);let c=a[o]=N=>{n(N,l)};c.f=n,f.addEventListener(o,c)}}else if(o==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let p="";for(let c in n)n[c]&&(p+=" "+c);n=p}f.className=n}else if(o==="style"&&typeof n=="object"){for(let p in n){let c=n[p];p.includes("-",1)?f.style.setProperty(p,c):f.style[p]=c}if(m&&m[o]&&typeof m[o]=="object"&&!Array.isArray(m[o]))for(let p in m[o])p in n||(p.includes("-")?f.style.removeProperty(p):delete f.style[p])}else n===!0?n="true":s!=="string"&&(n=n.toString()),f.setAttribute(o,n)}}if(m)for(let o in m){let n=m[o];(!a||!a[o])&&(typeof n=="function"?f.removeEventListener(o,m[o]):o==="class"?f.className="":o==="style"?f.style.cssText="":o==="value"?f.value="":f.removeAttribute(o))}},L=new WeakMap,k=new WeakMap,P=(f,a,m)=>{let o=0,n=0;if(a)for(;o<a.length;o++){let s=a[o];if(s.r){let c=L.get(s.r);(!c||!w(c.m,s.m))&&(c={c:u(s.r(l,s.m)),m:s.m,r:s.r}),k.set(s.r,c),a.splice(o,1,...U(c.c)),o--;continue}let p=!1;if(m)for(let c=o-n;c<m.length;c++){let N=m[c];if(N.t&&s.t===N.t||!N.t&&!s.t){p=!0,o!==c+n&&(f.insertBefore(f.childNodes[c+n],f.childNodes[o]),m.splice(o-n,0,m.splice(c,1)[0])),s.t?(j(f.childNodes[o],s.a,N.a),P(f.childNodes[o],s.c,N.c)):N!==s&&(f.childNodes[o].textContent=s);break}}if(!p){let c;s.t?(c=document.createElement(s.t),j(c,s.a),P(c,s.c)):c=document.createTextNode(s),f.insertBefore(c,f.childNodes[o]),n++}}if(m){let s=m.length+n;if(s>=o)for(let p=s-1;p>=o;p--)f.childNodes[p].remove()}},h=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof t=="string")try{t=JSON.parse(t)}catch(f){t=null}t||(t=E(h));let M=!0,R=!1,O=()=>{if(M&&!R&&y){R=!0,y=null;let f=u(r(l));P(h,f,t),t=f,L=k,k=new WeakMap,R=!1}};return d(),O(),[d,()=>{if(M){M=!1;for(let f=h.childNodes.length-1;f>=0;f--)h.childNodes[f].remove()}},l]};_(["staark"],{memo:q,mount:D,node:g});})();
