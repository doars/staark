"use strict";(()=>{var C=function(e,n){let t=window;for(let c=0;c<e.length-1;c++)(typeof t[e[c]]!="object"||!Array.isArray(t[e[c]]))&&(t[e[c]]={}),t=t[e[c]];t[e[e.length-1]]=n};var g="n";var F=(e,n)=>({_:g,r:e,m:n});var M=e=>e?Array.isArray(e)?e:[e]:void 0;var A=(e,n,t)=>((typeof n!="object"||n._===g||Array.isArray(n))&&(t=n,n=void 0),{_:g,a:n,c:M(t),t:e.toUpperCase()});var T=e=>{if(typeof e=="object"){let n=Array.isArray(e)?[]:{};for(let t in e)n[t]=T(e[t]);return n}return e};var k=(e,n)=>{if(e===n)return!0;if(!e||!n||typeof e!="object"||typeof n!="object")return e===n;if(e instanceof Date)return n instanceof Date&&e.getTime()===n.getTime();let t=Object.keys(e);return t.length===Object.keys(n).length&&t.every(c=>k(e[c],n[c]))};var j=e=>{var t;let n=[];for(let c of e.childNodes)if(c instanceof Text)n.push((t=c.textContent)!=null?t:"");else{let u=c,f={};for(let p of u.attributes)f[p.name]=p.value;n.push(A(c.nodeName,f,j(c)))}return n};var w=(e,n)=>{let t=new WeakMap,c={deleteProperty:(f,p)=>{if(Reflect.has(f,p)){let y=f[p];typeof y=="object"&&y&&t.has(y)&&t.get(y).revoke();let N=Reflect.deleteProperty(f,p);return N&&n(),N}return!0},set:(f,p,y)=>{let N=f[p];return N!==y&&(typeof N=="object"&&N&&t.has(N)&&t.get(N).revoke(),f[p]=typeof y=="object"&&y?t.has(y)?t.get(y).proxy:u(y):y,n()),!0}},u=f=>{if(t.has(f))return t.get(f).proxy;for(let y in f){let N=f[y];N&&typeof N=="object"&&(f[y]=u(N))}let p=Proxy.revocable(f,c);return t.set(f,p),p.proxy};return u(e)};var P=(e,n,t,c)=>{typeof t=="string"&&(t=JSON.parse(t)),t||(t={});let u=null,f=()=>(u||(u=Promise.resolve().then(v)),u),p=Object.getPrototypeOf(t)===Proxy.prototype?t:w(t,f),y=(s,l,m)=>{if(l)for(let o in l){let r=l[o];if(r){let a=typeof r;if(a==="function"){let d=m==null?void 0:m[o];if((d==null?void 0:d.f)!==r){d&&s.removeEventListener(o,d);let i=l[o]=b=>{r(b,p)};i.f=r,s.addEventListener(o,i)}}else if(o==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let d="";for(let i in r)r[i]&&(d+=" "+i);r=d}s.className=r}else if(o==="style"&&typeof r=="object"){for(let d in r){let i=r[d];d.includes("-",1)?s.style.setProperty(d,i):s.style[d]=i}if(m&&m[o]&&typeof m[o]=="object"&&!Array.isArray(m[o]))for(let d in m[o])d in r||(d.includes("-")?s.style.removeProperty(d):delete s.style[d])}else r===!0?r="true":a!=="string"&&(r=r.toString()),s.setAttribute(o,r)}}if(m)for(let o in m){let r=m[o];(!l||!l[o])&&(typeof r=="function"?s.removeEventListener(o,m[o]):o==="class"?s.className="":o==="style"?s.style.cssText="":s.removeAttribute(o))}},N=new WeakMap,L=new WeakMap,R=(s,l,m)=>{let o=0,r=0;if(l)for(;o<l.length;o++){let a=l[o];if(a.r){let i=N.get(a.r);(!i||!k(i.m,a.m))&&(i={c:M(a.r(p,a.m)),m:a.m,r:a.r}),L.set(a.r,i),l.splice(o,1,...T(i.c)),o--;continue}let d=!1;if(m)for(let i=o-r;i<m.length;i++){let b=m[i];if(b.t&&a.t===b.t||!b.t&&!a.t){d=!0,o!==i+r&&(s.insertBefore(s.childNodes[i+r],s.childNodes[o]),m.splice(o-r,0,m.splice(i,1)[0])),a.t?(y(s.childNodes[o],a.a,b.a),R(s.childNodes[o],a.c,b.c)):b!==a&&(s.childNodes[o].textContent=a);break}}if(!d){let i;a.t?(i=document.createElement(a.t),y(i,a.a),R(i,a.c)):i=document.createTextNode(a),s.insertBefore(i,s.childNodes[o]),r++}}if(m){let a=m.length+r;if(a>=o)for(let d=a-1;d>=o;d--)s.childNodes[d].remove()}},x=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof c=="string")try{c=JSON.parse(c)}catch(s){c=null}c||(c=j(x));let E=!0,h=!1,v=()=>{if(E&&!h&&u){h=!0,u=null;let s=M(n(p));R(x,s,c),c=s,N=L,L=new WeakMap,h=!1}};return f(),v(),[f,()=>{if(E){E=!1;for(let s=x.childNodes.length-1;s>=0;s--)x.childNodes[s].remove()}},p]};C(["staark"],{memo:F,mount:P,node:A});})();
//# sourceMappingURL=staark.base.iife.min.js.map
