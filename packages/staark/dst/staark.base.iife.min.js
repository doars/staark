"use strict";(()=>{var O=function(e,n){let i=window;for(let a=0;a<e.length-1;a++)(typeof i[e[a]]!="object"||!Array.isArray(i[e[a]]))&&(i[e[a]]={}),i=i[e[a]];i[e[e.length-1]]=n};var x=Symbol();var L=(e,n)=>({_:x,r:e,m:n});var T=function(e){return Array.isArray(e)?e:[e]};var M=e=>{if(typeof e=="object")if(Array.isArray(e)){let n=[];for(let i=0;i<e.length;i++)n.push(M(e[i]));e=n}else{let n={};for(let i in e)n[i]=M(e[i]);e=n}return e};var k=(e,n)=>{if(e===n)return!0;if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(!e||!n||typeof e!="object"&&typeof n!="object")return e===n;if(e==null||n===null||n===void 0||e.prototype!==n.prototype)return!1;let i=Object.keys(e);return i.length!==Object.keys(n).length?!1:i.every(a=>k(e[a],n[a]))};var F=(e,n)=>{let i=new WeakMap,a=f=>{if(i.has(f)){let p=i.get(f);i.delete(p);for(let l in p.proxy)typeof p.proxy[l]=="object"&&a(p.proxy[l]);p.revoke()}},j=f=>{if(i.has(f))return i.get(f);for(let l in f)f[l]&&typeof f[l]=="object"&&(f[l]=j(f[l]));let p=Proxy.revocable(f,{deleteProperty:(l,u)=>{if(!Reflect.has(l,u))return!0;a(l);let y=Reflect.deleteProperty(l,u);return y&&n(),y},set:(l,u,y)=>{let N=l[u];return N!==y&&(typeof N=="object"&&a(N),y&&typeof y=="object"&&(y=j(y)),l[u]=y,n()),!0}});return i.set(p,f),p.proxy};return{p:j(e),s:()=>a(e)}};var P=/[A-Z]+(?![a-z])|[A-Z]/g,w=(e,n)=>(n?"-":"")+e,D=(e,n,i)=>{i||(i={});let a=!0,j=!1,f,p=()=>{if(a&&(a=!1,f))for(let t=f.childNodes.length-1;t>=0;t--)f.childNodes[t].remove()};if(f=typeof e=="string"?document.querySelector(e):e,!f)throw new Error("no root found");p(),a=!0,f||(f=document.createElement("div"),document.body.appendChild(f));let l=0,u=(t,d=null,m=null)=>{if(d)for(let o in d){let r=d[o];if(r!=null){let s=typeof r;if(s==="function"){let b=d[o]=c=>{l++,r(c),l--,E()};t.addEventListener(o,b);continue}else{if(s==="boolean"?r=r?"true":"false":s!=="string"&&(r=r.toString()),o==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let b="";for(let c in r)r[c]&&(b+=" "+c);r=b}}else if(o==="style"){if(typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let b="";for(let c in r){let A=r[c];c=c.replace(P,w).toLowerCase(),Array.isArray(A)?b+=";"+c+":"+A.join(" "):r&&(b+=";"+c+":"+r)}r=b}}else o==="value"&&t.value!==r?t.value=r:o==="checked"&&(t.checked=d[o]);t.setAttribute(o,r)}}}if(m)for(let o in m)typeof m[o]=="function"?t.removeEventListener(o,m[o]):(!d||!(o in d)||d[o]===null||d[o]===void 0)&&(o==="value"?t.value="":o==="checked"&&(t.checked=!1),t.removeAttribute(o))},y=[],N=[],I=t=>{let d=y.find(m=>m.r===t.r&&k(m.m,t.m));return d||(d={c:T(t.r(C.p,t.m)),m:t.m,r:t.r}),N.includes(d)||N.push(d),M(d.c)},G=(t,d=null,m=null)=>{let o=0,r=0;if(d)for(;o<d.length;o++){let s=d[o];if(s.r){let c=I(s);d.splice(o,1,...c),o--;continue}let b=!1;if(m)for(let c=o-r;c<m.length;c++){let A=m[c];if(A.t&&s.t===A.t||!A.t&&!s.t){b=!0,o!==c&&(t.insertBefore(t.childNodes[c+r],t.childNodes[o]),h.splice(o-r,0,...h.splice(c,1))),s.t?(u(t.childNodes[o],s.a,A.a),G(t.childNodes[o],s.c,A.c)):t.childNodes[o].textContent=typeof s=="string"?s:s.c;break}}if(!b)if(s.t){let c=document.createElement(s.t);s.a&&u(c,s.a),s.c&&G(c,s.c),t.childNodes.length>o?t.childNodes[o].insertAdjacentElement("afterend",c):t.insertAdjacentElement("beforeend",c),r++}else{let c=typeof s=="string"?s:s.c;t.childNodes.length>o?t.childNodes[o].insertAdjacentText("afterend",c):t.insertAdjacentText("beforeend",c),r++}}if(t.childNodes.length>=o)for(let s=t.childNodes.length-1;s>=o;s--)t.childNodes[s].remove()},g=!0,C=F(i,()=>{g=!0,requestAnimationFrame(E)}),h=[],E=()=>{if(a&&!j&&g&&l<=0){j=!0,g=!1;let t=T(n(C.p));if(G(f,t,h),h=t,y=N,N=[],j=!1,g)throw new Error("proxy changed during rendering")}};return E(),[E,p]};var H=(e,n,i)=>((typeof n!="object"||n._===x||Array.isArray(n))&&(i=n,n=void 0),{_:x,a:n,c:Array.isArray(i)?i:[i],t:e.toUpperCase()});O(["staark"],{memo:L,mount:D,node:H});})();
//# sourceMappingURL=staark.base.iife.min.js.map
