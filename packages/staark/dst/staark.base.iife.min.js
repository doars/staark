"use strict";(()=>{var G=function(e,n){let o=window;for(let s=0;s<e.length-1;s++)(typeof o[e[s]]!="object"||!Array.isArray(o[e[s]]))&&(o[e[s]]={}),o=o[e[s]];o[e[e.length-1]]=n};var T=Symbol();var V=(e,n)=>({_:T,r:e,m:n});var k=(e,n,o)=>((typeof n!="object"||n._===T||Array.isArray(n))&&(o=n,n=void 0),{_:T,a:n,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var w=function(e){return Array.isArray(e)?e:[e]};var F=e=>{if(typeof e=="object")if(Array.isArray(e)){let n=[];for(let o=0;o<e.length;o++)n.push(F(e[o]));e=n}else{let n={};for(let o in e)n[o]=F(e[o]);e=n}return e};var D=(e,n)=>{if(e===n)return!0;if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(!e||!n||typeof e!="object"&&typeof n!="object")return e===n;if(e==null||n===null||n===void 0||e.prototype!==n.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(n).length?!1:o.every(s=>D(e[s],n[s]))};var _=e=>{var o;let n=[];for(let s=0;s<e.childNodes.length;s++){let N=e.childNodes[s];if(N instanceof Text)n.push((o=N.textContent)!=null?o:"");else{let p={};for(let m=0;m<N.attributes.length;m++){let a=N.attributes[m];p[a.name]=a.value}n.push(k(N.nodeName,p,_(N)))}}return n};var U=(e,n)=>{let o=new WeakMap,s=p=>{if(o.has(p)){let m=o.get(p);o.delete(m);for(let a in m.proxy)typeof m.proxy[a]=="object"&&s(m.proxy[a]);m.revoke()}},N=p=>{if(o.has(p))return o.get(p);for(let a in p)p[a]&&typeof p[a]=="object"&&(p[a]=N(p[a]));let m=Proxy.revocable(p,{deleteProperty:(a,R)=>{if(Reflect.has(a,R)){s(a);let l=Reflect.deleteProperty(a,R);return l&&n(),l}return!0},set:(a,R,l)=>{let E=a[R];return E!==l&&(typeof E=="object"&&s(E),l&&typeof l=="object"&&(l=N(l)),a[R]=l,n()),!0}});return o.set(m,p),m.proxy};return N(e)};var J=/[A-Z]+(?![a-z])|[A-Z]/g,Z=(e,n)=>(n?"-":"")+e,z=(e,n,o,s)=>{let N=0,p=(r,d,i)=>{if(d)for(let c in d){let t=d[c];if(t){let u=typeof t;if(u==="function"){let x=d[c]=b=>{N++;try{t(b)}catch(M){}N--,L()};r.addEventListener(c,x);continue}else{if(c==="class"){if(typeof t=="object")if(Array.isArray(t))t=t.join(" ");else{let x="";for(let b in t)t[b]&&(x+=" "+b);t=x}}else if(c==="style"){if(typeof t=="object")if(Array.isArray(t))t=t.join(";");else{let x="";for(let b in t){let M=t[b];b=b.replace(J,Z).toLowerCase(),Array.isArray(M)?x+=";"+b+":"+M.join(" "):M&&(x+=";"+b+":"+M)}t=x}}else u==="boolean"?t=t?"true":"false":u!=="string"&&(t=t.toString()),c==="value"&&r.value!==t?r.value=t:c==="checked"&&(r.checked=d[c]);r.setAttribute(c,t)}}}if(i)for(let c in i)typeof i[c]=="function"?r.removeEventListener(c,i[c]):(!d||!(c in d)||!d[c])&&(c==="value"?r.value="":c==="checked"&&(r.checked=!1),r.removeAttribute(c))},m=[],a=[],R=r=>{let d=m.find(i=>i.r===r.r&&D(i.m,r.m));return d||(d={c:w(r.r(C,r.m)),m:r.m,r:r.r}),a.includes(d)||a.push(d),F(d.c)},l=(r,d,i,c)=>{var b,M,v;let t=0,u=0;if(d)for(;t<d.length;t++){let f=d[t];if(f.r){let y=R(f);d.splice(t,1,...y),t--;continue}let q=!1;if(i)for(let y=t-u;y<i.length;y++){let g=i[y];if(g.t&&f.t===g.t||!g.t&&!f.t){q=!0,t!==y&&(r.insertBefore(r.childNodes[y+u],r.childNodes[t]),i.splice(t-u,0,...i.splice(y,1))),f.t?(p(r.childNodes[t],f.a,g.a),l(r.childNodes[t],f.c,g.c,g)):r.childNodes[t].textContent=typeof f=="string"?f:f.c;break}}if(!q){let y;if(f.t){y=document.createElement(f.t),f.a&&p(y,f.a),f.c&&l(y,f.c);let g=(j,A,H)=>{!A||A.t?j.insertAdjacentElement(H,y):j.parentNode.insertBefore(y,j)};t===0?g(r,c,"afterbegin"):((b=i==null?void 0:i.length)!=null?b:0)+u>t?g(r.childNodes[t],i[t+u],"beforebegin"):g(r,c,"beforeend"),u++}else{y=typeof f=="string"?f:f.c;let g=(j,A,H)=>{!A||A.t?j.insertAdjacentText(H,y):j.parentNode.insertBefore(document.createTextNode(y),j.nextSibling)};t===0?g(r,c,"afterbegin"):((M=i==null?void 0:i.length)!=null?M:0)+u>t?g(r.childNodes[t],i[t+u],"beforebegin"):g(r,c,"beforeend"),u++}}}let x=((v=i==null?void 0:i.length)!=null?v:0)+u;if(x>=t)for(let f=x-1;f>=t;f--)r.childNodes[f].remove()};typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let E=!0,C=Object.getPrototypeOf(o)===Proxy.prototype?o:U(o,()=>{E=!0,requestAnimationFrame(L)}),h=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof s=="string")try{s=JSON.parse(s)}catch(r){s=void 0}s!=null||(s=_(h));let I=!0,P=!1,L=()=>{if(I&&!P&&E&&N<=0){P=!0,E=!1;let r=w(n(C));if(l(h,r,s),s=r,m=a,a=[],P=!1,E)throw new Error("update during render")}};return L(),[()=>{E=!0,requestAnimationFrame(L)},()=>{if(I){I=!1;for(let r=h.childNodes.length-1;r>=0;r--)h.childNodes[r].remove()}},C]};G(["staark"],{memo:V,mount:z,node:k});})();
//# sourceMappingURL=staark.base.iife.min.js.map
