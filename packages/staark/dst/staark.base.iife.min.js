"use strict";(()=>{var G=function(e,n){let o=window;for(let s=0;s<e.length-1;s++)(typeof o[e[s]]!="object"||!Array.isArray(o[e[s]]))&&(o[e[s]]={}),o=o[e[s]];o[e[e.length-1]]=n};var h=Symbol();var V=(e,n)=>({_:h,r:e,m:n});var F=(e,n,o)=>((typeof n!="object"||n._===h||Array.isArray(n))&&(o=n,n=void 0),{_:h,a:n,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var w=function(e){return Array.isArray(e)?e:[e]};var C=e=>{if(typeof e=="object")if(Array.isArray(e)){let n=[];for(let o=0;o<e.length;o++)n.push(C(e[o]));e=n}else{let n={};for(let o in e)n[o]=C(e[o]);e=n}return e};var D=(e,n)=>{if(e===n)return!0;if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(!e||!n||typeof e!="object"&&typeof n!="object")return e===n;if(e==null||n===null||n===void 0||e.prototype!==n.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(n).length?!1:o.every(s=>D(e[s],n[s]))};var _=e=>{var o;let n=[];for(let s=0;s<e.childNodes.length;s++){let N=e.childNodes[s];if(N instanceof Text)n.push((o=N.textContent)!=null?o:"");else{let y={};for(let m=0;m<N.attributes.length;m++){let f=N.attributes[m];y[f.name]=f.value}n.push(F(N.nodeName,y,_(N)))}}return n};var U=(e,n)=>{let o=new WeakMap,s=y=>{if(o.has(y)){let m=o.get(y);o.delete(m);for(let f in m.proxy)typeof m.proxy[f]=="object"&&s(m.proxy[f]);m.revoke()}},N=y=>{if(o.has(y))return o.get(y);for(let f in y)y[f]&&typeof y[f]=="object"&&(y[f]=N(y[f]));let m=Proxy.revocable(y,{deleteProperty:(f,A)=>{if(Reflect.has(f,A)){s(f);let g=Reflect.deleteProperty(f,A);return g&&n(),g}return!0},set:(f,A,g)=>{let E=f[A];return E!==g&&(typeof E=="object"&&s(E),g&&typeof g=="object"&&(g=N(g)),f[A]=g,n()),!0}});return o.set(m,y),m.proxy};return N(e)};var J=/[A-Z]+(?![a-z])|[A-Z]/g,Z=(e,n)=>(n?"-":"")+e,z=(e,n,o,s)=>{let N=0,y=(r,d,a)=>{if(d)for(let i in d){let t=d[i];if(t){let b=typeof t;if(b==="function"){let x=d[i]=l=>{N++;try{t(l)}catch(M){}N--,k()};r.addEventListener(i,x);continue}else{if(i==="class"){if(typeof t=="object")if(Array.isArray(t))t=t.join(" ");else{let x="";for(let l in t)t[l]&&(x+=" "+l);t=x}}else if(i==="style"){if(typeof t=="object")if(Array.isArray(t))t=t.join(";");else{let x="";for(let l in t){let M=t[l];l=l.replace(J,Z).toLowerCase(),Array.isArray(M)?x+=";"+l+":"+M.join(" "):M&&(x+=";"+l+":"+M)}t=x}}else b==="boolean"?t=t?"true":"false":b!=="string"&&(t=t.toString()),i==="value"&&r.value!==t?r.value=t:i==="checked"&&(r.checked=d[i]);r.setAttribute(i,t)}}}if(a)for(let i in a)typeof a[i]=="function"?r.removeEventListener(i,a[i]):(!d||!(i in d)||!d[i])&&(i==="value"?r.value="":i==="checked"&&(r.checked=!1),r.removeAttribute(i))},m=[],f=[],A=r=>{let d=m.find(a=>a.r===r.r&&D(a.m,r.m));return d||(d={c:w(r.r(I,r.m)),m:r.m,r:r.r}),f.includes(d)||f.push(d),C(d.c)},g=(r,d,a,i)=>{var l,M,v;let t=0,b=0;if(d)for(;t<d.length;t++){let c=d[t];if(c.r){let p=A(c);d.splice(t,1,...p),t--;continue}let q=!1;if(a)for(let p=t-b;p<a.length;p++){let u=a[p];if(u.t&&c.t===u.t||!u.t&&!c.t){q=!0,t!==p&&(r.insertBefore(r.childNodes[p+b],r.childNodes[t]),a.splice(t-b,0,...a.splice(p,1))),c.t?(y(r.childNodes[t],c.a,u.a),g(r.childNodes[t],c.c,u.c,u)):r.childNodes[t].textContent=typeof c=="string"?c:c.c;break}}if(!q){let p;if(c.t){p=document.createElement(c.t),c.a&&y(p,c.a),c.c&&g(p,c.c);let u=(R,j,T)=>{T&&(!j||j.t)?R.insertAdjacentElement(T,p):R.parentNode.insertBefore(p,R)};t===0?u(r,i,"afterbegin"):((l=a==null?void 0:a.length)!=null?l:0)+b>t?u(r.childNodes[t]):u(r,i,"beforeend"),b++}else{p=typeof c=="string"?c:c.c;let u=(R,j,T)=>{T&&(!j||j.t)?R.insertAdjacentText(T,p):R.parentNode.insertBefore(document.createTextNode(p),R.nextSibling)};t===0?u(r,i,"afterbegin"):((M=a==null?void 0:a.length)!=null?M:0)+b>t?u(r.childNodes[t]):u(r,i,"beforeend"),b++}}}let x=((v=a==null?void 0:a.length)!=null?v:0)+b;if(x>=t)for(let c=x-1;c>=t;c--)r.childNodes[c].remove()};typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let E=!0,I=Object.getPrototypeOf(o)===Proxy.prototype?o:U(o,()=>{E=!0,requestAnimationFrame(k)}),L=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof s=="string")try{s=JSON.parse(s)}catch(r){s=void 0}s!=null||(s=_(L));let P=!0,H=!1,k=()=>{if(P&&!H&&E&&N<=0){H=!0,E=!1;let r=w(n(I));if(g(L,r,s),s=r,m=f,f=[],H=!1,E)throw new Error("update during render")}};return k(),[()=>{E=!0,requestAnimationFrame(k)},()=>{if(P){P=!1;for(let r=L.childNodes.length-1;r>=0;r--)L.childNodes[r].remove()}},I]};G(["staark"],{memo:V,mount:z,node:F});})();
//# sourceMappingURL=staark.base.iife.min.js.map
