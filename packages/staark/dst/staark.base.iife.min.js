"use strict";(()=>{var L=function(e,r){let n=window;for(let a=0;a<e.length-1;a++)(typeof n[e[a]]!="object"||!Array.isArray(n[e[a]]))&&(n[e[a]]={}),n=n[e[a]];n[e[e.length-1]]=r};var h=Symbol();var F=(e,r)=>({_:h,r:e,m:r});var C=function(e){return Array.isArray(e)?e:[e]};var M=e=>{if(typeof e=="object")if(Array.isArray(e)){let r=[];for(let n=0;n<e.length;n++)r.push(M(e[n]));e=r}else{let r={};for(let n in e)r[n]=M(e[n]);e=r}return e};var k=(e,r)=>{if(e===r)return!0;if(e instanceof Date&&r instanceof Date)return e.getTime()===r.getTime();if(!e||!r||typeof e!="object"&&typeof r!="object")return e===r;if(e==null||r===null||r===void 0||e.prototype!==r.prototype)return!1;let n=Object.keys(e);return n.length!==Object.keys(r).length?!1:n.every(a=>k(e[a],r[a]))};var H=(e,r)=>{let n=new WeakMap,a=d=>{if(n.has(d)){let m=n.get(d);n.delete(m);for(let l in m.proxy)typeof m.proxy[l]=="object"&&a(m.proxy[l]);m.revoke()}},g=d=>{if(n.has(d))return n.get(d);for(let l in d)d[l]&&typeof d[l]=="object"&&(d[l]=g(d[l]));let m=Proxy.revocable(d,{deleteProperty:(l,b)=>{if(Reflect.has(l,b)){a(l);let y=Reflect.deleteProperty(l,b);return y&&r(),y}return!0},set:(l,b,y)=>{let N=l[b];return N!==y&&(typeof N=="object"&&a(N),y&&typeof y=="object"&&(y=g(y)),l[b]=y,r()),!0}});return n.set(m,d),m.proxy};return g(e)};var G=/[A-Z]+(?![a-z])|[A-Z]/g,_=(e,r)=>(r?"-":"")+e,I=(e,r,n)=>{n||(n={});let a=!0,g=!1,d,m=()=>{if(a&&(a=!1,d))for(let t=d.childNodes.length-1;t>=0;t--)d.childNodes[t].remove()};if(d=typeof e=="string"?document.querySelector(e):e,!d)throw new Error("No mount");m(),a=!0,d||(d=document.createElement("div"),document.body.appendChild(d));let l=0,b=(t,f=null,p=null)=>{if(f)for(let o in f){let i=f[o];if(i!=null){let s=typeof i;if(s==="function"){let u=f[o]=c=>{l++,i(c),l--,j()};t.addEventListener(o,u);continue}else{if(s==="boolean"?i=i?"true":"false":s!=="string"&&(i=i.toString()),o==="class"){if(typeof i=="object")if(Array.isArray(i))i=i.join(" ");else{let u="";for(let c in i)i[c]&&(u+=" "+c);i=u}}else if(o==="style"){if(typeof i=="object")if(Array.isArray(i))i=i.join(";");else{let u="";for(let c in i){let A=i[c];c=c.replace(G,_).toLowerCase(),Array.isArray(A)?u+=";"+c+":"+A.join(" "):i&&(u+=";"+c+":"+i)}i=u}}else o==="value"&&t.value!==i?t.value=i:o==="checked"&&(t.checked=f[o]);t.setAttribute(o,i)}}}if(p)for(let o in p)typeof p[o]=="function"?t.removeEventListener(o,p[o]):(!f||!(o in f)||f[o]===null||f[o]===void 0)&&(o==="value"?t.value="":o==="checked"&&(t.checked=!1),t.removeAttribute(o))},y=[],N=[],w=t=>{let f=y.find(p=>p.r===t.r&&k(p.m,t.m));return f||(f={c:C(t.r(R,t.m)),m:t.m,r:t.r}),N.includes(f)||N.push(f),M(f.c)},T=(t,f=null,p=null)=>{let o=0,i=0;if(f)for(;o<f.length;o++){let s=f[o];if(s.r){let c=w(s);f.splice(o,1,...c),o--;continue}let u=!1;if(p)for(let c=o-i;c<p.length;c++){let A=p[c];if(A.t&&s.t===A.t||!A.t&&!s.t){u=!0,o!==c&&(t.insertBefore(t.childNodes[c+i],t.childNodes[o]),E.splice(o-i,0,...E.splice(c,1))),s.t?(b(t.childNodes[o],s.a,A.a),T(t.childNodes[o],s.c,A.c)):t.childNodes[o].textContent=typeof s=="string"?s:s.c;break}}if(!u)if(s.t){let c=document.createElement(s.t);s.a&&b(c,s.a),s.c&&T(c,s.c),t.childNodes.length>o?t.childNodes[o].insertAdjacentElement("afterend",c):t.insertAdjacentElement("beforeend",c),i++}else{let c=typeof s=="string"?s:s.c;t.childNodes.length>o?t.childNodes[o].insertAdjacentText("afterend",c):t.insertAdjacentText("beforeend",c),i++}}if(t.childNodes.length>=o)for(let s=t.childNodes.length-1;s>=o;s--)t.childNodes[s].remove()},x=!0,R=Object.getPrototypeOf(n)===Proxy.prototype?n:H(n,()=>{x=!0,requestAnimationFrame(j)}),E=[],j=()=>{if(a&&!g&&x&&l<=0){g=!0,x=!1;let t=C(r(R));if(T(d,t,E),E=t,y=N,N=[],g=!1,x)throw new Error("update during render")}};return j(),[()=>{x=!0,requestAnimationFrame(j)},m,R]};var P=(e,r,n)=>((typeof r!="object"||r._===h||Array.isArray(r))&&(n=r,r=void 0),{_:h,a:r,c:n?Array.isArray(n)?n:[n]:[],t:e.toUpperCase()});L(["staark"],{memo:F,mount:I,node:P});})();
//# sourceMappingURL=staark.base.iife.min.js.map
