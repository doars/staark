"use strict";(()=>{var v=function(e,o){let s=window;for(let i=0;i<e.length-1;i++)(typeof s[e[i]]!="object"||!Array.isArray(s[e[i]]))&&(s[e[i]]={}),s=s[e[i]];s[e[e.length-1]]=o};var l="n";var F=(e,o)=>({_:l,r:e,m:o});var b=e=>e?Array.isArray(e)?e:[e]:void 0;var M=(e,o,s)=>((typeof o!="object"||o._===l||Array.isArray(o))&&(s=o,o=void 0),{_:l,a:o,c:b(s),t:e.toUpperCase()});var E=e=>{if(typeof e=="object"){let o=Array.isArray(e)?[]:{};for(let s in e)o[s]=E(e[s]);return o}return e};var h=(e,o)=>{if(e===o)return!0;if(!e||!o||typeof e!="object"||typeof o!="object")return e===o;if(e instanceof Date)return o instanceof Date&&e.getTime()===o.getTime();let s=Object.keys(e);return s.length===Object.keys(o).length&&s.every(i=>h(e[i],o[i]))};var k=e=>{var s;let o=[];for(let i of e.childNodes)if(i instanceof Text)o.push((s=i.textContent)!=null?s:"");else{let f=i,y={};for(let N of f.attributes)y[N.name]=N.value;o.push(M(i.nodeName,y,k(i)))}return o};var w=(e,o)=>{let s={deleteProperty:(f,y)=>{if(Reflect.has(f,y)){let N=Reflect.deleteProperty(f,y);return N&&o(),N}return!0},set:(f,y,N)=>(f[y]!==N&&(N&&typeof N=="object"&&(N=i(N)),f[y]=N,o()),!0)},i=f=>{for(let y in f)f[y]&&typeof f[y]=="object"&&(f[y]=i(f[y]));return new Proxy(f,s)};return i(e)};var P=(e,o,s,i)=>{typeof s=="string"&&(s=JSON.parse(s)),s||(s={});let f=null,y=()=>(f||(f=Promise.resolve().then(j)),f),N=Object.getPrototypeOf(s)===Proxy.prototype?s:w(s,y),x=(n,p,m)=>{if(p)for(let t in p){let r=p[t];if(r){let c=typeof r;if(c==="function"){let d=m==null?void 0:m[t];if((d==null?void 0:d.f)!==r){d&&n.removeEventListener(t,d);let a=p[t]=u=>{r(u,N)};a.f=r,n.addEventListener(t,a)}}else if(t==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let d="";for(let a in r)r[a]&&(d+=" "+a);r=d}n.className=r}else if(t==="style"&&typeof r=="object"){for(let d in r){let a=r[d];d.includes("-",1)?n.style.setProperty(d,a):n.style[d]=a}if(m&&m[t]&&typeof m[t]=="object"&&!Array.isArray(m[t]))for(let d in m[t])d in r||(d.includes("-")?n.style.removeProperty(d):delete n.style[d])}else r===!0?r="true":c!=="string"&&(r=r.toString()),n.setAttribute(t,r)}}if(m)for(let t in m){let r=m[t];(!p||!p[t])&&(typeof r=="function"?n.removeEventListener(t,m[t]):t==="class"?n.className="":t==="style"?n.style.cssText="":t==="value"?n.value="":n.removeAttribute(t))}},C=new WeakMap,A=new WeakMap,L=(n,p,m)=>{let t=0,r=0;if(p)for(;t<p.length;t++){let c=p[t];if(c.r){let a=C.get(c.r);(!a||!h(a.m,c.m))&&(a={c:b(c.r(N,c.m)),m:c.m,r:c.r}),A.set(c.r,a),p.splice(t,1,...E(a.c)),t--;continue}let d=!1;if(m)for(let a=t-r;a<m.length;a++){let u=m[a];if(u.t&&c.t===u.t||!u.t&&!c.t){d=!0,t!==a+r&&(n.insertBefore(n.childNodes[a+r],n.childNodes[t]),m.splice(t-r,0,m.splice(a,1)[0])),c.t?(x(n.childNodes[t],c.a,u.a),L(n.childNodes[t],c.c,u.c)):u!==c&&(n.childNodes[t].textContent=c);break}}if(!d){let a;c.t?(a=document.createElement(c.t),x(a,c.a),L(a,c.c)):a=document.createTextNode(c),n.insertBefore(a,n.childNodes[t]),r++}}if(m){let c=m.length+r;if(c>=t)for(let d=c-1;d>=t;d--)n.childNodes[d].remove()}},g=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof i=="string")try{i=JSON.parse(i)}catch(n){i=null}i||(i=k(g));let T=!0,R=!1,j=()=>{if(T&&!R&&f){R=!0,f=null;let n=b(o(N));L(g,n,i),i=n,C=A,A=new WeakMap,R=!1}};return y(),j(),[y,()=>{if(T){T=!1;for(let n=g.childNodes.length-1;n>=0;n--)g.childNodes[n].remove()}},N]};v(["staark"],{memo:F,mount:P,node:M});})();
//# sourceMappingURL=staark.base.iife.min.js.map
