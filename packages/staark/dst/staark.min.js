var h=o=>Array.isArray(o)?o:[o];var X=(o,t,e)=>{let r=o?t:e;return typeof r=="function"&&(r=r()),r?h(r):[]};var R="n";var L=(o,t,e)=>((typeof t!="object"||t._===R||Array.isArray(t))&&(e=t,t=void 0),{_:R,a:t,c:e?Array.isArray(e)?e:[e]:[],t:o.toUpperCase()});var ae=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let e=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,d)=>L(e,r,d)}});var _="]",Q="[",q=".",J="=",K="#",j="'",w='"';var P=o=>{let t=o.length,e=0,r="",d={},a="",i=!0,f=3,y=()=>{if(a){switch(f){case 0:d[a]=i===!0?!0:i,i=!0;break;case 1:if(!d.class){d.class=a;break}d.class+=" "+a;break;case 2:d.id=a;break;case 3:r=a;break}a=""}},p,E,T=()=>{for(E=0;e<t;){if(p=o[e],e++,p===J){i="",p=o[e];let M=p===w,k=p===j;for((M||k)&&(i+=p,e++);e<t;){if(p=o[e],M&&p===w||k&&p===j){i+=p,e++;break}else if(!M&&!k&&p===_)break;i+=p,e++}for((i[0]===w&&i[i.length-1]===w||i[0]===j&&i[i.length-1]===j)&&(i=i.substring(1,i.length-1));e<t&&(p=o[e],e++,p!==_););break}else if(p===Q){E++;continue}else if(p===_){if(E--,E<0)break;continue}a+=p}y()};for(;e<t;){if(p=o[e],e++,p===K){y(),f=2;continue}else if(p===q){y(),f=1;continue}else if(p===Q){y(),f=0,T();continue}a+=p}return[r,d]};var me=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let e=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,d)=>{let a;if(r){let[i,f]=P(r);a=f}return L(e,a,d)}}});var B=0,le=o=>o+"-"+B++;var xe=(o,t)=>{if(t&&o in t&&t[o]){let e=t[o];return typeof e=="function"&&(e=e(),!e)?[]:h(e)}return[]};var ke=(o,t)=>({_:R,r:o,m:t});var Te=(o,t)=>{let[e,r]=P(o);return{_:R,a:r,c:t?Array.isArray(t)?t:[t]:[],t:e.toUpperCase()}};var H=o=>{if(typeof o=="object"){let t=Array.isArray(o)?[]:{};for(let e in o)t[e]=H(o[e]);return t}return o};var D=(o,t)=>{if(o===t)return!0;if(!o||!t||typeof o!="object"||typeof t!="object")return o===t;if(o instanceof Date)return t instanceof Date&&o.getTime()===t.getTime();let e=Object.keys(o);return e.length===Object.keys(t).length&&e.every(r=>D(o[r],t[r]))};var I=o=>{var e;let t=[];for(let r=0;r<o.childNodes.length;r++){let d=o.childNodes[r];if(d instanceof Text)t.push((e=d.textContent)!=null?e:"");else{let a={};for(let i=0;i<d.attributes.length;i++){let f=d.attributes[i];a[f.name]=f.value}t.push(L(d.nodeName,a,I(d)))}}return t};var z=(o,t)=>{let e=new WeakMap,r={deleteProperty:(a,i)=>{if(Reflect.has(a,i)){let f=a[i];typeof f=="object"&&f&&e.has(f)&&e.get(f).revoke();let y=Reflect.deleteProperty(a,i);return y&&t(),y}return!0},set:(a,i,f)=>{let y=a[i];return y!==f&&(typeof y=="object"&&y&&e.has(y)&&e.get(y).revoke(),a[i]=typeof f=="object"&&f?e.has(f)?e.get(f).proxy:d(f):f,t()),!0}},d=a=>{if(e.has(a))return e.get(a).proxy;for(let f in a){let y=a[f];y&&typeof y=="object"&&(a[f]=d(y))}let i=Proxy.revocable(a,r);return e.set(a,i),i.proxy};return d(o)};var V=/[A-Z]+(?![a-z])|[A-Z]/g,Z=(o,t)=>(t?"-":"")+o,Ge=(o,t,e,r)=>{typeof e=="string"&&(e=JSON.parse(e)),e!=null||(e={});let d=null,a=()=>(d||(d=Promise.resolve().then(U)),d),i=Object.getPrototypeOf(e)===Proxy.prototype?e:z(e,a),f=(s,g,u)=>{if(g)for(let c in g){let n=g[c];if(n){let A=typeof n;if(A==="function"){if(u&&u[c]){if(u[c].f===n)continue;s.removeEventListener(c,u[c])}let m=g[c]=function(x){n(x,i)};m.f=n,s.addEventListener(c,m)}else if(c==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let m="";for(let x in n)n[x]&&(m+=" "+x);n=m}s.className=n}else if(c==="style"&&typeof n=="object"){for(let m in n){let x=n[m];m=m.replace(V,Z).toLowerCase(),Array.isArray(x)&&(x=x.join(" ")),s.style.setProperty(m,x)}if(u&&u[c]&&typeof u[c]=="object"&&!Array.isArray(u[c]))for(let m in u[c])m in n||(m=m.replace(V,Z).toLowerCase(),s.style.removeProperty(m))}else{if(A==="boolean"){if(!n){s.removeAttribute(c);continue}n="true"}else A!=="string"&&(n=n.toString());c==="value"&&s.value!==n?s.value=n:c==="checked"&&(s.checked=g[c]),s.setAttribute(c,n)}}}if(u)for(let c in u){let n=u[c];(!g||!g[c])&&(typeof n=="function"?s.removeEventListener(c,u[c]):c==="class"?s.className="":c==="style"?s.style="":(c==="value"?s.value="":c==="checked"&&(s.checked=!1),s.removeAttribute(c)))}},y=new WeakMap,p=new WeakMap,E=(s,g,u,c)=>{var x,O,W;let n=0,A=0;if(g)for(;n<g.length;n++){let N=g[n];if(N.r){let b=y.get(N.r);(!b||!D(b.m,N.m))&&(b={c:h(N.r(i,N.m)),m:N.m,r:N.r}),p.set(N.r,b),g.splice(n,1,...H(b.c)),n--;continue}let G=!1;if(u)for(let b=n-A;b<u.length;b++){let l=u[b];if(l.t&&N.t===l.t||!l.t&&!N.t){G=!0,n!==b+A&&(s.insertBefore(s.childNodes[b+A],s.childNodes[n]),u.splice(n-A,0,...u.splice(b,1))),N.t?(f(s.childNodes[n],N.a,l.a),E(s.childNodes[n],N.c,l.c,l)):l!==N&&(s.childNodes[n].textContent=N);break}}if(!G){let b;if(N.t){b=document.createElement(N.t),N.a&&f(b,N.a),N.c&&E(b,N.c);let l=(C,v,F)=>{F&&(!v||v.t)?C.insertAdjacentElement(F,b):C.parentNode.insertBefore(b,C)};n===0?l(s,c,"afterbegin"):((x=u==null?void 0:u.length)!=null?x:0)+A>n?l(s.childNodes[n]):l(s,c,"beforeend")}else{let l=(C,v,F)=>{F&&(!v||v.t)?C.insertAdjacentText(F,N):C.parentNode.insertBefore(document.createTextNode(N),C)};n===0?l(s,c,"afterbegin"):((O=u==null?void 0:u.length)!=null?O:0)+A>n?l(s.childNodes[n]):l(s,c,"beforeend")}A++}}let m=((W=u==null?void 0:u.length)!=null?W:0)+A;if(m>=n)for(let N=m-1;N>=n;N--)s.childNodes[N].remove()},T=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof r=="string")try{r=JSON.parse(r)}catch(s){r=void 0}r!=null||(r=I(T));let M=!0,k=!1,U=()=>{if(M&&!k&&d){k=!0,d=null;let s=h(t(i));if(E(T,s,r),r=s,y=p,p=new WeakMap,k=!1,d)throw new Error("update during render")}};return a(),U(),[a,()=>{if(M){M=!1;for(let s=T.childNodes.length-1;s>=0;s--)T.childNodes[s].remove()}},i]};export{X as conditional,ae as factory,me as fctory,le as identifier,xe as match,ke as memo,Ge as mount,Te as nde,L as node};
//# sourceMappingURL=staark.min.js.map
