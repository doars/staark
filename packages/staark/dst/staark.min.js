var E=Symbol();var M=(e,t,o)=>((typeof t!="object"||t._===E||Array.isArray(t))&&(o=t,t=void 0),{_:E,a:t,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var ne=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,i=>"-"+i)).toUpperCase();return e[t]=(i,d)=>M(o,i,d)}});var O="]",Q="[",V=".",Z="=",J="#",_="'",w='"';var P=e=>{let t=e.length,o=0,i="",d={},a="",c=!0,f=3,A=()=>{if(a){switch(f){case 0:d[a]=c===!0?!0:c,c=!0;break;case 1:if(!d.class){d.class=a;break}d.class+=" "+a;break;case 2:d.id=a;break;case 3:i=a;break}a=""}},s,b,F=()=>{for(b=0;o<t;){if(s=e[o],o++,s===Z){c="",s=e[o];let k=s===w,h=s===_;for((k||h)&&(c+=s,o++);o<t;){if(s=e[o],k&&s===w||h&&s===_){c+=s,o++;break}else if(!k&&!h&&s===O)break;c+=s,o++}for((c[0]===w&&c[c.length-1]===w||c[0]===_&&c[c.length-1]===_)&&(c=c.substring(1,c.length-1));o<t&&(s=e[o],o++,s!==O););break}else if(s===Q){b++;continue}else if(s===O){if(b--,b<0)break;continue}a+=s}A()};for(;o<t;){if(s=e[o],o++,s===J){A(),f=2;continue}else if(s===V){A(),f=1;continue}else if(s===Q){A(),f=0,F();continue}a+=s}return[i,d]};var pe=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,i=>"-"+i)).toUpperCase();return e[t]=(i,d)=>{let a;if(i){let[c,f]=P(i);a=f}return M(o,a,d)}}});var Ne=(e,t)=>({_:E,r:e,m:t});var le=(e,t)=>{let[o,i]=P(e);return{_:E,a:i,c:t?Array.isArray(t)?t:[t]:[],t:o.toUpperCase()}};var Ce=e=>({_:E,c:Array.isArray(e)?e.join(""):""+e});var U=function(e){return Array.isArray(e)?e:[e]};var D=e=>{if(typeof e=="object")if(Array.isArray(e)){let t=[];for(let o=0;o<e.length;o++)t.push(D(e[o]));e=t}else{let t={};for(let o in e)t[o]=D(e[o]);e=t}return e};var v=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e==null||t===null||t===void 0||e.prototype!==t.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(t).length?!1:o.every(i=>v(e[i],t[i]))};var q=e=>{var o;let t=[];for(let i=0;i<e.childNodes.length;i++){let d=e.childNodes[i];if(d instanceof Text)t.push((o=d.textContent)!=null?o:"");else{let a={};for(let c=0;c<d.attributes.length;c++){let f=d.attributes[c];a[f.name]=f.value}t.push(M(d.nodeName,a,q(d)))}}return t};var S=(e,t)=>{let o=new WeakMap,i=a=>{if(o.has(a)){let c=o.get(a);o.delete(c);for(let f in c.proxy)typeof c.proxy[f]=="object"&&i(c.proxy[f]);c.revoke()}},d=a=>{if(o.has(a))return o.get(a);for(let f in a)a[f]&&typeof a[f]=="object"&&(a[f]=d(a[f]));let c=Proxy.revocable(a,{deleteProperty:(f,A)=>{if(Reflect.has(f,A)){i(f);let s=Reflect.deleteProperty(f,A);return s&&t(),s}return!0},set:(f,A,s)=>{let b=f[A];return b!==s&&(typeof b=="object"&&i(b),s&&typeof s=="object"&&(s=d(s)),f[A]=s,t()),!0}});return o.set(c,a),c.proxy};return d(e)};var K=/[A-Z]+(?![a-z])|[A-Z]/g,W=(e,t)=>(t?"-":"")+e,Ie=(e,t,o,i)=>{let d=0,a=(r,N,p)=>{if(N)for(let u in N){let n=N[u];if(n){let g=typeof n;if(g==="function"){let C=N[u]=x=>{d++;try{n(x)}catch(T){}d--,j()};r.addEventListener(u,C);continue}else{if(u==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let C="";for(let x in n)n[x]&&(C+=" "+x);n=C}}else if(u==="style"){if(typeof n=="object")if(Array.isArray(n))n=n.join(";");else{let C="";for(let x in n){let T=n[x];x=x.replace(K,W).toLowerCase(),Array.isArray(T)?C+=";"+x+":"+T.join(" "):T&&(C+=";"+x+":"+T)}n=C}}else g==="boolean"?n=n?"true":"false":g!=="string"&&(n=n.toString()),u==="value"&&r.value!==n?r.value=n:u==="checked"&&(r.checked=N[u]);r.setAttribute(u,n)}}}if(p)for(let u in p)typeof p[u]=="function"?r.removeEventListener(u,p[u]):(!N||!(u in N)||!N[u])&&(u==="value"?r.value="":u==="checked"&&(r.checked=!1),r.removeAttribute(u))},c=[],f=[],A=r=>{let N=c.find(p=>p.r===r.r&&v(p.m,r.m));return N||(N={c:U(r.r(F,r.m)),m:r.m,r:r.r}),f.includes(N)||f.push(N),D(N.c)},s=(r,N,p,u)=>{var x,T,z;let n=0,g=0;if(N)for(;n<N.length;n++){let y=N[n];if(y.r){let m=A(y);N.splice(n,1,...m),n--;continue}let G=!1;if(p)for(let m=n-g;m<p.length;m++){let l=p[m];if(l.t&&y.t===l.t||!l.t&&!y.t){G=!0,n!==m&&(r.insertBefore(r.childNodes[m+g],r.childNodes[n]),p.splice(n-g,0,...p.splice(m,1))),y.t?(a(r.childNodes[n],y.a,l.a),s(r.childNodes[n],y.c,l.c,l)):r.childNodes[n].textContent=typeof y=="string"?y:y.c;break}}if(!G){let m;if(y.t){m=document.createElement(y.t),y.a&&a(m,y.a),y.c&&s(m,y.c);let l=(R,L,I)=>{!L||L.t?R.insertAdjacentElement(I,m):R.parentNode.insertBefore(m,R)};n===0?l(r,u,"afterbegin"):((x=p==null?void 0:p.length)!=null?x:0)+g>n?l(r.childNodes[n],p[n+g],"beforebegin"):l(r,u,"beforeend"),g++}else{m=typeof y=="string"?y:y.c;let l=(R,L,I)=>{!L||L.t?R.insertAdjacentText(I,m):R.parentNode.insertBefore(document.createTextNode(m),R.nextSibling)};n===0?l(r,u,"afterbegin"):((T=p==null?void 0:p.length)!=null?T:0)+g>n?l(r.childNodes[n],p[n+g],"beforebegin"):l(r,u,"beforeend"),g++}}}let C=((z=p==null?void 0:p.length)!=null?z:0)+g;if(C>=n)for(let y=C-1;y>=n;y--)r.childNodes[y].remove()};typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let b=!0,F=Object.getPrototypeOf(o)===Proxy.prototype?o:S(o,()=>{b=!0,requestAnimationFrame(j)}),k=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof i=="string")try{i=JSON.parse(i)}catch(r){i=void 0}i!=null||(i=q(k));let h=!0,H=!1,j=()=>{if(h&&!H&&b&&d<=0){H=!0,b=!1;let r=U(t(F));if(s(k,r,i),i=r,c=f,f=[],H=!1,b)throw new Error("update during render")}};return j(),[()=>{b=!0,requestAnimationFrame(j)},()=>{if(h){h=!1;for(let r=k.childNodes.length-1;r>=0;r--)k.childNodes[r].remove()}},F]};export{ne as factory,pe as fctory,Ne as memo,Ie as mount,le as nde,M as node,Ce as text};
//# sourceMappingURL=staark.min.js.map
