var v=e=>{var t;return(t=C(e))!=null?t:[]},C=e=>e?Array.isArray(e)?e:[e]:void 0;var K=(e,t,o)=>{let n=e?t:o;return typeof n=="function"&&(n=n()),v(n)};var k="n";var R=(e,t,o)=>((typeof t!="object"||t._===k||Array.isArray(t))&&(o=t,t=void 0),{_:k,a:t,c:C(o),t:e.toUpperCase()});var ne=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,p)=>R(o,n,p)}});var _="]",W="[",I=".",Q="=",q="#",j="'",P='"';var w=e=>{let t=e.length,o=0,n="",p={},c="",i=!0,f=3,y=()=>{if(c){switch(f){case 0:p[c]=i===!0?!0:i,i=!0;break;case 1:if(!p.class){p.class=c;break}p.class+=" "+c;break;case 2:p.id=c;break;case 3:n=c;break}c=""}},d,x,T=()=>{for(x=0;o<t;){if(d=e[o],o++,d===Q){i="",d=e[o];let h=d===P,E=d===j;for((h||E)&&(i+=d,o++);o<t;){if(d=e[o],h&&d===P||E&&d===j){i+=d,o++;break}else if(!h&&!E&&d===_)break;i+=d,o++}for((i[0]===P&&i[i.length-1]===P||i[0]===j&&i[i.length-1]===j)&&(i=i.substring(1,i.length-1));o<t&&(d=e[o],o++,d!==_););break}else if(d===W){x++;continue}else if(d===_){if(x--,x<0)break;continue}c+=d}y()};for(;o<t;){if(d=e[o],o++,d===q){y(),f=2;continue}else if(d===I){y(),f=1;continue}else if(d===W){y(),f=0,T();continue}c+=d}return[n,p]};var Ne=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,p)=>{let c;if(n){let[i,f]=w(n);c=f}return R(o,c,p)}}});var z=0,pe=e=>e+"-"+z++;var be=(e,t,o)=>{let n;return t&&e in t&&t[e]?(n=t[e],typeof n=="function"&&(n=n())):n=o,v(n)};var Ae=(e,t)=>({_:k,r:e,m:t});var ke=(e,t)=>{let[o,n]=w(e);return{_:k,a:n,c:C(t),t:o.toUpperCase()}};var U=e=>{if(typeof e=="object"){let t=Array.isArray(e)?[]:{};for(let o in e)t[o]=U(e[o]);return t}return e};var O=(e,t)=>{if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return e===t;if(e instanceof Date)return t instanceof Date&&e.getTime()===t.getTime();let o=Object.keys(e);return o.length===Object.keys(t).length&&o.every(n=>O(e[n],t[n]))};var D=e=>{var o;let t=[];for(let n of e.childNodes)if(n instanceof Text)t.push((o=n.textContent)!=null?o:"");else{let p=n,c={};for(let i of p.attributes)c[i.name]=i.value;t.push(R(n.nodeName,c,D(n)))}return t};var G=(e,t)=>{let o=new WeakMap,n={deleteProperty:(c,i)=>{if(Reflect.has(c,i)){let f=c[i];typeof f=="object"&&f&&o.has(f)&&o.get(f).revoke();let y=Reflect.deleteProperty(c,i);return y&&t(),y}return!0},set:(c,i,f)=>{let y=c[i];return y!==f&&(typeof y=="object"&&y&&o.has(y)&&o.get(y).revoke(),c[i]=typeof f=="object"&&f?o.has(f)?o.get(f).proxy:p(f):f,t()),!0}},p=c=>{if(o.has(c))return o.get(c).proxy;for(let f in c){let y=c[f];y&&typeof y=="object"&&(c[f]=p(y))}let i=Proxy.revocable(c,n);return o.set(c,i),i.proxy};return p(e)};var We=(e,t,o,n)=>{typeof o=="string"&&(o=JSON.parse(o)),o||(o={});let p=null,c=()=>(p||(p=Promise.resolve().then(H)),p),i=Object.getPrototypeOf(o)===Proxy.prototype?o:G(o,c),f=(a,g,u)=>{if(g)for(let N in g){let r=g[N];if(r){let A=typeof r;if(A==="function"){let s=u==null?void 0:u[N];if((s==null?void 0:s.f)!==r){s&&a.removeEventListener(N,s);let b=g[N]=m=>{r(m,i)};b.f=r,a.addEventListener(N,b)}}else if(N==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let s="";for(let b in r)r[b]&&(s+=" "+b);r=s}a.className=r}else if(N==="style"&&typeof r=="object"){for(let s in r){let b=r[s];s.includes("-",1)?a.style.setProperty(s,b):a.style[s]=b}if(u&&u[N]&&typeof u[N]=="object"&&!Array.isArray(u[N]))for(let s in u[N])s in r||(s.includes("-")?a.style.removeProperty(s):delete a.style[s])}else r===!0?r="true":A!=="string"&&(r=r.toString()),a.setAttribute(N,r)}}if(u)for(let N in u){let r=u[N];(!g||!g[N])&&(typeof r=="function"?a.removeEventListener(N,u[N]):N==="class"?a.className="":N==="style"?a.style.cssText="":a.removeAttribute(N))}},y=new WeakMap,d=new WeakMap,x=(a,g,u,N)=>{let r=0,A=0;if(g)for(;r<g.length;r++){let s=g[r];if(s.r){let m=y.get(s.r);(!m||!O(m.m,s.m))&&(m={c:C(s.r(i,s.m)),m:s.m,r:s.r}),d.set(s.r,m),g.splice(r,1,...U(m.c)),r--;continue}let b=!1;if(u)for(let m=r-A;m<u.length;m++){let l=u[m];if(l.t&&s.t===l.t||!l.t&&!s.t){b=!0,r!==m+A&&(a.insertBefore(a.childNodes[m+A],a.childNodes[r]),u.splice(r-A,0,u.splice(m,1)[0])),s.t?(f(a.childNodes[r],s.a,l.a),x(a.childNodes[r],s.c,l.c,l)):l!==s&&(a.childNodes[r].textContent=s);break}}if(!b){let m;if(s.t){m=document.createElement(s.t),s.a&&f(m,s.a),s.c&&x(m,s.c);let l=(M,F,L)=>{L&&(!F||F.t)?M.insertAdjacentElement(L,m):M.parentNode.insertBefore(m,M)};r===0?l(a,N,"afterbegin"):u&&u.length+A>r?l(a.childNodes[r]):l(a,N,"beforeend")}else{let l=(M,F,L)=>{L&&(!F||F.t)?M.insertAdjacentText(L,s):M.parentNode.insertBefore(document.createTextNode(s),M)};r===0?l(a,N,"afterbegin"):u&&u.length+A>r?l(a.childNodes[r]):l(a,N,"beforeend")}A++}}if(u){let s=u.length+A;if(s>=r)for(let b=s-1;b>=r;b--)a.childNodes[b].remove()}},T=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch(a){n=void 0}n||(n=D(T));let h=!0,E=!1,H=()=>{if(h&&!E&&p){E=!0,p=null;let a=C(t(i));x(T,a,n),n=a,y=d,d=new WeakMap,E=!1}};return c(),H(),[c,()=>{if(h){h=!1;for(let a=T.childNodes.length-1;a>=0;a--)T.childNodes[a].remove()}},i]};export{K as conditional,ne as factory,Ne as fctory,pe as identifier,be as match,Ae as memo,We as mount,ke as nde,R as node};
//# sourceMappingURL=staark.min.js.map
