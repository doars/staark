var _=e=>k(e)||[],k=e=>e?Array.isArray(e)?e:[e]:void 0;var v=(e,r,o)=>{let t=e?r:o;return typeof t=="function"&&(t=t()),_(t)};var U="n";var P=(e,r,o)=>(r&&(typeof r!="object"||r._===U||Array.isArray(r))&&(o=r,r=void 0),{_:U,a:r,c:k(o),t:e.toUpperCase()});var Y=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let o=(r[0]+r.substring(1).replace(/([A-Z])/g,t=>"-"+t)).toUpperCase();return e[r]=(t,f)=>P(o,t,f)}});var b="]",z="[",W=".",H="=",J="#",w="'",L='"',g={attribute:0,class:1,id:2,type:3},R=e=>{let r=e.length,o=0,t="",f={},p="",i=!0,x=g.type,T=()=>{if(p){switch(x){case g.attribute:f[p]=i===!0?!0:i,i=!0;break;case g.class:if(!f.class){f.class=p;break}f.class+=" "+p;break;case g.id:f.id=p;break;case g.type:t=p;break}p=""}},a,h,O=()=>{for(h=0;o<r;){if(a=e[o],o++,a===H){i="",a=e[o];let j=a===L,E=a===w;for((j||E)&&(i+=a,o++);o<r;){if(a=e[o],j&&a===L||E&&a===w){i+=a,o++;break}else if(!j&&!E&&a===b)break;i+=a,o++}for((i[0]===L&&i[i.length-1]===L||i[0]===w&&i[i.length-1]===w)&&(i=i.substring(1,i.length-1));o<r&&(a=e[o],o++,a!==b););break}else if(a===z){h++;continue}else if(a===b){if(h--,h<0)break;continue}p+=a}T()};for(;o<r;){if(a=e[o],o++,a===J){T(),x=g.id;continue}else if(a===W){T(),x=g.class;continue}else if(a===z){T(),x=g.attribute,O();continue}p+=a}return[t,f]};var oe=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let o=(r[0]+r.substring(1).replace(/([A-Z])/g,t=>"-"+t)).toUpperCase();return e[r]=(t,f)=>{let p;if(t){let[i,x]=R(t);p=x}return P(o,p,f)}}});var K=0,ne=e=>e+"-"+K++;var se=(e,r,o)=>{let t;return r&&e in r&&r[e]?t=r[e]:t=o,typeof t=="function"&&(t=t()),_(t)};var ye=(e,r)=>({_:U,r:e,m:r});var de=(e,r)=>{let[o,t]=R(e);return{_:U,a:t,c:k(r),t:o.toUpperCase()}};var M=e=>{if(typeof e=="object"){let r=Array.isArray(e)?[]:{};for(let o in e)r[o]=M(e[o]);return r}return e};var D=(e,r)=>{if(e===r)return!0;if(!e||!r||typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();let o=Object.keys(e);return o.length===Object.keys(r).length&&o.every(t=>D(e[t],r[t]))};var Q=e=>{var o;let r=[];for(let t of e.childNodes)if(t instanceof Text)r.push((o=t.textContent)!=null?o:"");else{let f={};for(let p of t.attributes)f[p.name]=p.value;r.push(P(t.nodeName,f,Q(t)))}return r};var I=(e,r)=>{let o={deleteProperty:(f,p)=>{if(Reflect.has(f,p)){let i=Reflect.deleteProperty(f,p);return i&&r(),i}return!0},set:(f,p,i)=>(f[p]!==i&&(i&&typeof i=="object"&&(i=t(i)),f[p]=i,r()),!0)},t=f=>{for(let p in f)f[p]&&typeof f[p]=="object"&&(f[p]=t(f[p]));return new Proxy(f,o)};return t(e)};var _e=(e,r,o,t)=>{typeof o=="string"&&(o=JSON.parse(o)),o||(o={});let f=null,p=()=>(f||(f=Promise.resolve().then(q)),f),i=Object.getPrototypeOf(o)===Proxy.prototype?o:I(o,p),x=(s,d,u)=>{if(d)for(let n in d){let c=d[n];if(c){let m=typeof c;if(m==="function"){let l=u==null?void 0:u[n];if((l==null?void 0:l.f)===c)d[n]=l;else{l&&s.removeEventListener(n,l);let y=d[n]=N=>{c(N,i)};s.addEventListener(n,y),y.f=c}}else if(n==="class"){if(typeof c=="object")if(Array.isArray(c))c=c.join(" ");else{let l="";for(let y in c)c[y]&&(l+=" "+y);c=l}s.className=c}else if(n==="style"&&typeof c=="object"){for(let l in c){let y=c[l];l.includes("-",1)?s.style.setProperty(l,y):s.style[l]=y}if(u&&u[n]&&typeof u[n]=="object"&&!Array.isArray(u[n]))for(let l in u[n])c[l]||(l.includes("-",1)?s.style.removeProperty(l):s.style[l]=null)}else c===!0?c="true":m!=="string"&&(c=c.toString()),s.setAttribute(n,c)}}if(u)for(let n in u){let c=u[n];(!d||!d[n])&&(typeof c=="function"?s.removeEventListener(n,u[n]):n==="class"?s.className="":n==="style"?s.style.cssText="":n==="value"?s.value="":s.removeAttribute(n))}},T=new WeakMap,a=new WeakMap,h=(s,d,u)=>{let n=0,c=0;if(d)for(;n<d.length;n++){let m=d[n];if(m.r){let y=T.get(m.r);(!y||!D(y.m,m.m))&&(y={c:k(m.r(i,m.m)),m:m.m,r:m.r}),a.set(m.r,y),d.splice(n,1,...M(y.c)),n--;continue}let l=!1;if(u)for(let y=n-c;y<u.length;y++){let N=u[y];if(N.t&&m.t===N.t||!N.t&&!m.t){l=!0,n!==y+c&&(s.insertBefore(s.childNodes[y+c],s.childNodes[n]),u.splice(n-c,0,u.splice(y,1)[0])),m.t?(x(s.childNodes[n],m.a,N.a),h(s.childNodes[n],m.c,N.c)):N!==m&&(s.childNodes[n].textContent=m);break}}if(!l){let y;m.t?(y=document.createElement(m.t),x(y,m.a),h(y,m.c)):y=document.createTextNode(m),s.insertBefore(y,s.childNodes[n]),c++}}if(u){let m=u.length+c;if(m>=n)for(let l=m-1;l>=n;l--)s.childNodes[l].remove()}},O=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof t=="string")try{t=JSON.parse(t)}catch(s){t=null}t||(t=Q(O));let j=!0,E=!1,q=()=>{if(j&&!E&&f){E=!0,f=null;let s=k(r(i));h(O,s,t),t=s,T=a,a=new WeakMap,E=!1}};return p(),q(),[p,()=>{if(j){j=!1;for(let s=O.childNodes.length-1;s>=0;s--)O.childNodes[s].remove()}},i]};export{v as conditional,Y as factory,oe as fctory,ne as identifier,se as match,ye as memo,_e as mount,de as nde,P as node};
