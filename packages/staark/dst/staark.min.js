var P=e=>N(e)||[],N=e=>e?Array.isArray(e)?e:[e]:void 0;var I=(e,r,o)=>{let t=e?r:o;return typeof t=="function"&&(t=t()),P(t)};var L=(e,r,o)=>(r&&(typeof r!="object"||r._==="n"||Array.isArray(r))&&(o=r,r=void 0),{_:"n",a:r,c:N(o),t:e.toUpperCase()});var z=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let o=(r[0]+r.substring(1).replace(/([A-Z])/g,t=>"-"+t)).toUpperCase();return e[r]=(t,f)=>L(o,t,f)}});var O={attribute:0,class:1,id:2,type:3},Q=e=>{let r=e.length,o=0,t="",f={},p="",i=!0,x=O.type,T=()=>{if(p){switch(x){case O.attribute:f[p]=i===!0?!0:i,i=!0;break;case O.class:if(!f.class){f.class=p;break}f.class+=" "+p;break;case O.id:f.id=p;break;case O.type:t=p;break}p=""}},y,E,_=()=>{for(E=0;o<r;){if(y=e[o],o++,y==="="){i="",y=e[o];let U=y==='"',k=y==="'";for((U||k)&&(i+=y,o++);o<r;){if(y=e[o],U&&y==='"'||k&&y==="'"){i+=y,o++;break}else if(!U&&!k&&y==="]")break;i+=y,o++}for((i[0]==='"'&&i[i.length-1]==='"'||i[0]==="'"&&i[i.length-1]==="'")&&(i=i.substring(1,i.length-1));o<r&&(y=e[o],o++,y!=="]"););break}else if(y==="["){E++;continue}else if(y==="]"){if(E--,E<0)break;continue}p+=y}T()};for(;o<r;){if(y=e[o],o++,y==="#"){T(),x=O.id;continue}else if(y==="."){T(),x=O.class;continue}else if(y==="["){T(),x=O.attribute,_();continue}p+=y}return[t,f]};var F=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let o=(r[0]+r.substring(1).replace(/([A-Z])/g,t=>"-"+t)).toUpperCase();return e[r]=(t,f)=>{let p;if(t){let[i,x]=Q(t);p=x}return L(o,p,f)}}});var S=0,Y=e=>e+"-"+S++;var ee=(e,r,o)=>{let t;return r&&e in r&&r[e]?t=r[e]:t=o,typeof t=="function"&&(t=t()),P(t)};var te=(e,r)=>({_:"n",r:e,m:r});var ce=(e,r)=>{let[o,t]=Q(e);return{_:"n",a:t,c:N(r),t:o.toUpperCase()}};var j=e=>{if(typeof e=="object"){let r=Array.isArray(e)?[]:{};for(let o in e)r[o]=j(e[o]);return r}return e};var R=(e,r)=>{if(e===r)return!0;if(!e||!r||typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();let o=Object.keys(e);return o.length===Object.keys(r).length&&o.every(t=>R(e[t],r[t]))};var D=e=>{var o;let r=[];for(let t of e.childNodes)if(t instanceof Text)r.push((o=t.textContent)!=null?o:"");else{let f={};for(let p of t.attributes)f[p.name]=p.value;r.push(L(t.nodeName,f,D(t)))}return r};var C=(e,r)=>{let o={deleteProperty:(f,p)=>{if(Reflect.has(f,p)){let i=Reflect.deleteProperty(f,p);return i&&r(),i}return!0},set:(f,p,i)=>(f[p]!==i&&(i&&typeof i=="object"&&(i=t(i)),f[p]=i,r()),!0)},t=f=>{for(let p in f)f[p]&&typeof f[p]=="object"&&(f[p]=t(f[p]));return new Proxy(f,o)};return t(e)};var Oe=(e,r,o,t)=>{typeof o=="string"&&(o=JSON.parse(o)),o||(o={});let f=null,p=()=>(f||(f=Promise.resolve().then(B)),f),i=Object.getPrototypeOf(o)===Proxy.prototype?o:C(o,p),x=(s,d,u)=>{if(d)for(let n in d){let c=d[n];if(c){let m=typeof c;if(m==="function"){let l=u==null?void 0:u[n];if((l==null?void 0:l.f)===c)d[n]=l;else{l&&s.removeEventListener(n,l);let a=d[n]=h=>{c(h,i)};s.addEventListener(n,a),a.f=c}}else if(n==="class"){if(typeof c=="object")if(Array.isArray(c))c=c.join(" ");else{let l="";for(let a in c)c[a]&&(l+=" "+a);c=l}s.className=c}else if(n==="style"&&typeof c=="object"){for(let l in c){let a=c[l];l.includes("-",1)?s.style.setProperty(l,a):s.style[l]=a}if(u&&u[n]&&typeof u[n]=="object"&&!Array.isArray(u[n]))for(let l in u[n])c[l]||(l.includes("-",1)?s.style.removeProperty(l):s.style[l]=null)}else c===!0?c="true":m!=="string"&&(c=c.toString()),s.setAttribute(n,c),n==="value"&&(s.value=c)}}if(u)for(let n in u){let c=u[n];(!d||!d[n])&&(typeof c=="function"?s.removeEventListener(n,u[n]):n==="class"?s.className="":n==="style"?s.style.cssText="":n==="value"?s.value="":s.removeAttribute(n))}},T=new WeakMap,y=new WeakMap,E=(s,d,u)=>{let n=0,c=0;if(d)for(;n<d.length;n++){let m=d[n];if(m.r){let a=T.get(m.r);(!a||!R(a.m,m.m))&&(a={c:N(m.r(i,m.m)),m:m.m,r:m.r}),y.set(m.r,a),d.splice(n,1,...j(a.c)),n--;continue}let l=!1;if(u)for(let a=n-c;a<u.length;a++){let h=u[a];if(h.t&&m.t===h.t||!h.t&&!m.t){l=!0,n!==a+c&&(s.insertBefore(s.childNodes[a+c],s.childNodes[n]),u.splice(n-c,0,u.splice(a,1)[0])),m.t?(x(s.childNodes[n],m.a,h.a),E(s.childNodes[n],m.c,h.c)):h!==m&&(s.childNodes[n].textContent=m);break}}if(!l){let a;m.t?(a=document.createElement(m.t),x(a,m.a),E(a,m.c)):a=document.createTextNode(m),s.insertBefore(a,s.childNodes[n]),c++}}if(u){let m=u.length+c;if(m>=n)for(let l=m-1;l>=n;l--)s.childNodes[l].remove()}},_=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof t=="string")try{t=JSON.parse(t)}catch(s){t=null}t||(t=D(_));let U=!0,k=!1,B=()=>{if(U&&!k&&f){k=!0,f=null;let s=N(r(i));E(_,s,t),t=s,T=y,y=new WeakMap,k=!1}};return p(),B(),[p,()=>{if(U){U=!1;for(let s=_.childNodes.length-1;s>=0;s--)_.childNodes[s].remove()}},i]};export{I as conditional,z as factory,F as fctory,Y as identifier,ee as match,te as memo,Oe as mount,ce as nde,L as node};
