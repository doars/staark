var T=Symbol();var j=(e,t,o)=>((typeof t!="object"||t._===T||Array.isArray(t))&&(o=t,t=void 0),{_:T,a:t,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var re=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,a=>"-"+a)).toUpperCase();return e[t]=(a,m)=>j(o,a,m)}});var U="]",z="[",Z=".",K="=",W="#",v="'",_='"';var w=e=>{let t=e.length,o=0,a="",m={},i="",c=!0,d=3,g=()=>{if(i){switch(d){case 0:m[i]=c===!0?!0:c,c=!0;break;case 1:if(!m.class){m.class=i;break}m.class+=" "+i;break;case 2:m.id=i;break;case 3:a=i;break}i=""}},s,x,P=()=>{for(x=0;o<t;){if(s=e[o],o++,s===K){c="",s=e[o];let h=s===_,C=s===v;for((h||C)&&(c+=s,o++);o<t;){if(s=e[o],h&&s===_||C&&s===v){c+=s,o++;break}else if(!h&&!C&&s===U)break;c+=s,o++}for((c[0]===_&&c[c.length-1]===_||c[0]===v&&c[c.length-1]===v)&&(c=c.substring(1,c.length-1));o<t&&(s=e[o],o++,s!==U););break}else if(s===z){x++;continue}else if(s===U){if(x--,x<0)break;continue}i+=s}g()};for(;o<t;){if(s=e[o],o++,s===W){g(),d=2;continue}else if(s===Z){g(),d=1;continue}else if(s===z){g(),d=0,P();continue}i+=s}return[a,m]};var pe=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,a=>"-"+a)).toUpperCase();return e[t]=(a,m)=>{let i;if(a){let[c,d]=w(a);i=d}return j(o,i,m)}}});var Ne=(e,t)=>({_:T,r:e,m:t});var O=function(e){return Array.isArray(e)?e:[e]};var D=e=>{if(typeof e=="object")if(Array.isArray(e)){let t=[];for(let o=0;o<e.length;o++)t.push(D(e[o]));e=t}else{let t={};for(let o in e)t[o]=D(e[o]);e=t}return e};var S=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e==null||t===null||t===void 0||e.prototype!==t.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(t).length?!1:o.every(a=>S(e[a],t[a]))};var G="staark-created";var Q=(e,t)=>{let o=new WeakMap,a=i=>{if(o.has(i)){let c=o.get(i);o.delete(c);for(let d in c.proxy)typeof c.proxy[d]=="object"&&a(c.proxy[d]);c.revoke()}},m=i=>{if(o.has(i))return o.get(i);for(let d in i)i[d]&&typeof i[d]=="object"&&(i[d]=m(i[d]));let c=Proxy.revocable(i,{deleteProperty:(d,g)=>{if(Reflect.has(d,g)){a(d);let s=Reflect.deleteProperty(d,g);return s&&t(),s}return!0},set:(d,g,s)=>{let x=d[g];return x!==s&&(typeof x=="object"&&a(x),s&&typeof s=="object"&&(s=m(s)),d[g]=s,t()),!0}});return o.set(c,i),c.proxy};return m(e)};var Y=/[A-Z]+(?![a-z])|[A-Z]/g,J=(e,t)=>(t?"-":"")+e,Le=(e,t,o)=>{o||(o={});let a=!0,m=!1,i=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e,c=()=>{if(a){a=!1;for(let r=i.childNodes.length-1;r>=0;r--)i.childNodes[r].remove()}};c(),a=!0;let d=0,g=(r,y=null,p=null)=>{if(y)for(let f in y){let n=y[f];if(n!=null){let l=typeof n;if(l==="function"){let E=y[f]=A=>{d++;try{n(A)}catch(k){}d--,F()};r.addEventListener(f,E);continue}else{if(f==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let E="";for(let A in n)n[A]&&(E+=" "+A);n=E}}else if(f==="style"){if(typeof n=="object")if(Array.isArray(n))n=n.join(";");else{let E="";for(let A in n){let k=n[A];A=A.replace(Y,J).toLowerCase(),Array.isArray(k)?E+=";"+A+":"+k.join(" "):k&&(E+=";"+A+":"+k)}n=E}}else l==="boolean"?n=n?"true":"false":l!=="string"&&(n=n.toString()),f==="value"&&r.value!==n?r.value=n:f==="checked"&&(r.checked=y[f]);r.setAttribute(f,n)}}}if(p)for(let f in p)typeof p[f]=="function"?r.removeEventListener(f,p[f]):(!y||!(f in y)||y[f]===null||y[f]===void 0)&&(f==="value"?r.value="":f==="checked"&&(r.checked=!1),r.removeAttribute(f))},s=[],x=[],P=r=>{let y=s.find(p=>p.r===r.r&&S(p.m,r.m));return y||(y={c:O(r.r(I,r.m)),m:r.m,r:r.r}),x.includes(y)||x.push(y),D(y.c)},h=(r,y,p=null,f=null)=>{var A,k,V;let n=0,l=0;if(y)for(;n<y.length;n++){let u=y[n];if(u.r){let N=P(u);y.splice(n,1,...N),n--;continue}let q=!1;if(p)for(let N=n-l;N<p.length;N++){let b=p[N];if(b.t&&u.t===b.t||!b.t&&!u.t){q=!0,n!==N&&(r.insertBefore(r.childNodes[N+l],r.childNodes[n]),M.splice(n-l,0,...M.splice(N,1))),u.t?(g(r.childNodes[n],u.a,b.a),h(r.childNodes[n],u.c,b.c,b)):r.childNodes[n].textContent=typeof u=="string"?u:u.c;break}}if(!q){let N;if(u.t){N=document.createElement(u.t),u.a&&g(N,u.a),u.c&&h(N,u.c);let b=(R,L,H)=>{!L||L.t?R.insertAdjacentElement(H,N):R.parentNode.insertBefore(N,R)};n===0?b(r,f,"afterbegin"):((A=p==null?void 0:p.length)!=null?A:0)+l>n?b(r.childNodes[n],p[n+l],"beforebegin"):b(r,f,"beforeend"),l++}else{N=typeof u=="string"?u:u.c;let b=(R,L,H)=>{!L||L.t?R.insertAdjacentText(H,N):R.parentNode.insertBefore(document.createTextNode(N),R.nextSibling)};n===0?b(r,f,"afterbegin"):((k=p==null?void 0:p.length)!=null?k:0)+l>n?b(r.childNodes[n],p[n+l],"beforebegin"):b(r,f,"beforeend"),l++}i.dispatchEvent(new CustomEvent(G,{detail:{target:N}}))}}let E=((V=p==null?void 0:p.length)!=null?V:0)+l;if(E>=n)for(let u=E-1;u>=n;u--)r.childNodes[u].remove()},C=!0,I=Object.getPrototypeOf(o)===Proxy.prototype?o:Q(o,()=>{C=!0,requestAnimationFrame(F)}),M=[],F=()=>{if(a&&!m&&C&&d<=0){m=!0,C=!1;let r=O(t(I));if(h(i,r,M),M=r,s=x,x=[],m=!1,C)throw new Error("update during render")}};return F(),[()=>{C=!0,requestAnimationFrame(F)},c,I]};var ve=(e,t)=>{let[o,a]=w(e);return{_:T,a,c:t?Array.isArray(t)?t:[t]:[],t:o.toUpperCase()}};var De=e=>({_:T,c:Array.isArray(e)?e.join(""):""+e});export{re as factory,pe as fctory,Ne as memo,Le as mount,ve as nde,j as node,De as text};
//# sourceMappingURL=staark.min.js.map
