var k=e=>{var t;return(t=x(e))!=null?t:[]},x=e=>e?Array.isArray(e)?e:[e]:void 0;var V=(e,t,o)=>{let n=e?t:o;return typeof n=="function"&&(n=n()),k(n)};var h="n";var T=(e,t,o)=>((typeof t!="object"||t._===h||Array.isArray(t))&&(o=t,t=void 0),{_:h,a:t,c:x(o),t:e.toUpperCase()});var $=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,p)=>T(o,n,p)}});var v="]",P="[",D=".",H="=",W="#",E="'",F='"';var L=e=>{let t=e.length,o=0,n="",p={},s="",i=!0,m=3,b=()=>{if(s){switch(m){case 0:p[s]=i===!0?!0:i,i=!0;break;case 1:if(!p.class){p.class=s;break}p.class+=" "+s;break;case 2:p.id=s;break;case 3:n=s;break}s=""}},f,g,R=()=>{for(g=0;o<t;){if(f=e[o],o++,f===H){i="",f=e[o];let C=f===F,M=f===E;for((C||M)&&(i+=f,o++);o<t;){if(f=e[o],C&&f===F||M&&f===E){i+=f,o++;break}else if(!C&&!M&&f===v)break;i+=f,o++}for((i[0]===F&&i[i.length-1]===F||i[0]===E&&i[i.length-1]===E)&&(i=i.substring(1,i.length-1));o<t&&(f=e[o],o++,f!==v););break}else if(f===P){g++;continue}else if(f===v){if(g--,g<0)break;continue}s+=f}b()};for(;o<t;){if(f=e[o],o++,f===W){b(),m=2;continue}else if(f===D){b(),m=1;continue}else if(f===P){b(),m=0,R();continue}s+=f}return[n,p]};var ce=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,p)=>{let s;if(n){let[i,m]=L(n);s=m}return T(o,s,p)}}});var G=0,de=e=>e+"-"+G++;var Ne=(e,t,o)=>{let n;return t&&e in t&&t[e]?(n=t[e],typeof n=="function"&&(n=n())):n=o,k(n)};var ye=(e,t)=>({_:h,r:e,m:t});var Ce=(e,t)=>{let[o,n]=L(e);return{_:h,a:n,c:x(t),t:o.toUpperCase()}};var w=e=>{if(typeof e=="object"){let t=Array.isArray(e)?[]:{};for(let o in e)t[o]=w(e[o]);return t}return e};var _=(e,t)=>{if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return e===t;if(e instanceof Date)return t instanceof Date&&e.getTime()===t.getTime();let o=Object.keys(e);return o.length===Object.keys(t).length&&o.every(n=>_(e[n],t[n]))};var U=e=>{var o;let t=[];for(let n of e.childNodes)if(n instanceof Text)t.push((o=n.textContent)!=null?o:"");else{let p=n,s={};for(let i of p.attributes)s[i.name]=i.value;t.push(T(n.nodeName,s,U(n)))}return t};var j=(e,t)=>{let o=new WeakMap,n={deleteProperty:(s,i)=>{if(Reflect.has(s,i)){let m=Reflect.deleteProperty(s,i);return m&&t(),m}return!0},set:(s,i,m)=>(s[i]!==m&&(m&&typeof m=="object"&&(m=p(m)),s[i]=m,t()),!0)},p=s=>{if(o.has(s))return o.get(s);for(let m in s)s[m]&&typeof s[m]=="object"&&(s[m]=p(s[m]));let i=new Proxy(s,n);return o.set(s,i),i};return p(e)};var Pe=(e,t,o,n)=>{typeof o=="string"&&(o=JSON.parse(o)),o||(o={});let p=null,s=()=>(p||(p=Promise.resolve().then(O)),p),i=Object.getPrototypeOf(o)===Proxy.prototype?o:j(o,s),m=(c,l,y)=>{if(l)for(let r in l){let a=l[r];if(a){let u=typeof a;if(u==="function"){let N=y==null?void 0:y[r];if((N==null?void 0:N.f)!==a){N&&c.removeEventListener(r,N);let d=l[r]=A=>{a(A,i)};d.f=a,c.addEventListener(r,d)}}else if(r==="class"){if(typeof a=="object")if(Array.isArray(a))a=a.join(" ");else{let N="";for(let d in a)a[d]&&(N+=" "+d);a=N}c.className=a}else if(r==="style"&&typeof a=="object"){for(let N in a){let d=a[N];N.includes("-",1)?c.style.setProperty(N,d):c.style[N]=d}if(y&&y[r]&&typeof y[r]=="object"&&!Array.isArray(y[r]))for(let N in y[r])N in a||(N.includes("-")?c.style.removeProperty(N):delete c.style[N])}else a===!0?a="true":u!=="string"&&(a=a.toString()),c.setAttribute(r,a)}}if(y)for(let r in y){let a=y[r];(!l||!l[r])&&(typeof a=="function"?c.removeEventListener(r,y[r]):r==="class"?c.className="":r==="style"?c.style.cssText="":r==="value"?c.value="":c.removeAttribute(r))}},b=new WeakMap,f=new WeakMap,g=(c,l,y)=>{let r=0,a=0;if(l)for(;r<l.length;r++){let u=l[r];if(u.r){let d=b.get(u.r);(!d||!_(d.m,u.m))&&(d={c:x(u.r(i,u.m)),m:u.m,r:u.r}),f.set(u.r,d),l.splice(r,1,...w(d.c)),r--;continue}let N=!1;if(y)for(let d=r-a;d<y.length;d++){let A=y[d];if(A.t&&u.t===A.t||!A.t&&!u.t){N=!0,r!==d+a&&(c.insertBefore(c.childNodes[d+a],c.childNodes[r]),y.splice(r-a,0,y.splice(d,1)[0])),u.t?(m(c.childNodes[r],u.a,A.a),g(c.childNodes[r],u.c,A.c)):A!==u&&(c.childNodes[r].textContent=u);break}}if(!N){let d;u.t?(d=document.createElement(u.t),m(d,u.a),g(d,u.c)):d=document.createTextNode(u),c.insertBefore(d,c.childNodes[r]),a++}}if(y){let u=y.length+a;if(u>=r)for(let N=u-1;N>=r;N--)c.childNodes[N].remove()}},R=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch(c){n=null}n||(n=U(R));let C=!0,M=!1,O=()=>{if(C&&!M&&p){M=!0,p=null;let c=x(t(i));g(R,c,n),n=c,b=f,f=new WeakMap,M=!1}};return s(),O(),[s,()=>{if(C){C=!1;for(let c=R.childNodes.length-1;c>=0;c--)R.childNodes[c].remove()}},i]};export{V as conditional,$ as factory,ce as fctory,de as identifier,Ne as match,ye as memo,Pe as mount,Ce as nde,T as node};
//# sourceMappingURL=staark.min.js.map
