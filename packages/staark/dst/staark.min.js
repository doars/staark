var C=Symbol();var k=(e,t,o)=>((typeof t!="object"||t._===C||Array.isArray(t))&&(o=t,t=void 0),{_:C,a:t,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var J=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,p=>"-"+p)).toUpperCase();return e[t]=(p,y)=>k(o,p,y)}});var _="]",P="[",I=".",O="=",S="#",R="'",M='"';var L=e=>{let t=e.length,o=0,p="",y={},c="",d=!0,u=3,m=()=>{if(c){switch(u){case 0:y[c]=d===!0?!0:d,d=!0;break;case 1:if(!y.class){y.class=c;break}y.class+=" "+c;break;case 2:y.id=c;break;case 3:p=c;break}c=""}},s,b,F=()=>{for(b=0;o<t;){if(s=e[o],o++,s===O){d="",s=e[o];let E=s===M,x=s===R;for((E||x)&&(d+=s,o++);o<t;){if(s=e[o],E&&s===M||x&&s===R){d+=s,o++;break}else if(!E&&!x&&s===_)break;d+=s,o++}for((d[0]===M&&d[d.length-1]===M||d[0]===R&&d[d.length-1]===R)&&(d=d.substring(1,d.length-1));o<t&&(s=e[o],o++,s!==_););break}else if(s===P){b++;continue}else if(s===_){if(b--,b<0)break;continue}c+=s}m()};for(;o<t;){if(s=e[o],o++,s===S){m(),u=2;continue}else if(s===I){m(),u=1;continue}else if(s===P){m(),u=0,F();continue}c+=s}return[p,y]};var ne=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,p=>"-"+p)).toUpperCase();return e[t]=(p,y)=>{let c;if(p){let[d,u]=L(p);c=u}return k(o,c,y)}}});var ce=(e,t)=>({_:C,r:e,m:t});var w=function(e){return Array.isArray(e)?e:[e]};var j=e=>{if(typeof e=="object")if(Array.isArray(e)){let t=[];for(let o=0;o<e.length;o++)t.push(j(e[o]));e=t}else{let t={};for(let o in e)t[o]=j(e[o]);e=t}return e};var D=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e==null||t===null||t===void 0||e.prototype!==t.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(t).length?!1:o.every(p=>D(e[p],t[p]))};var H="staark-created";var U=(e,t)=>{let o=new WeakMap,p=c=>{if(o.has(c)){let d=o.get(c);o.delete(d);for(let u in d.proxy)typeof d.proxy[u]=="object"&&p(d.proxy[u]);d.revoke()}},y=c=>{if(o.has(c))return o.get(c);for(let u in c)c[u]&&typeof c[u]=="object"&&(c[u]=y(c[u]));let d=Proxy.revocable(c,{deleteProperty:(u,m)=>{if(Reflect.has(u,m)){p(u);let s=Reflect.deleteProperty(u,m);return s&&t(),s}return!0},set:(u,m,s)=>{let b=u[m];return b!==s&&(typeof b=="object"&&p(b),s&&typeof s=="object"&&(s=y(s)),u[m]=s,t()),!0}});return o.set(d,c),d.proxy};return y(e)};var V=/[A-Z]+(?![a-z])|[A-Z]/g,q=(e,t)=>(t?"-":"")+e,ge=(e,t,o)=>{o||(o={});let p=!0,y=!1,c=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e,d=()=>{if(p){p=!1;for(let r=c.childNodes.length-1;r>=0;r--)c.childNodes[r].remove()}};d(),p=!0;let u=0,m=(r,l=null,N=null)=>{if(l)for(let n in l){let i=l[n];if(i!=null){let f=typeof i;if(f==="function"){let A=l[n]=a=>{u++;try{i(a)}catch(g){}u--,T()};r.addEventListener(n,A);continue}else{if(n==="class"){if(typeof i=="object")if(Array.isArray(i))i=i.join(" ");else{let A="";for(let a in i)i[a]&&(A+=" "+a);i=A}}else if(n==="style"){if(typeof i=="object")if(Array.isArray(i))i=i.join(";");else{let A="";for(let a in i){let g=i[a];a=a.replace(V,q).toLowerCase(),Array.isArray(g)?A+=";"+a+":"+g.join(" "):g&&(A+=";"+a+":"+g)}i=A}}else f==="boolean"?i=i?"true":"false":f!=="string"&&(i=i.toString()),n==="value"&&r.value!==i?r.value=i:n==="checked"&&(r.checked=l[n]);r.setAttribute(n,i)}}}if(N)for(let n in N)typeof N[n]=="function"?r.removeEventListener(n,N[n]):(!l||!(n in l)||l[n]===null||l[n]===void 0)&&(n==="value"?r.value="":n==="checked"&&(r.checked=!1),r.removeAttribute(n))},s=[],b=[],F=r=>{let l=s.find(N=>N.r===r.r&&D(N.m,r.m));return l||(l={c:w(r.r(v,r.m)),m:r.m,r:r.r}),b.includes(l)||b.push(l),j(l.c)},E=(r,l=null,N=null)=>{let n=0,i=0;if(l)for(;n<l.length;n++){let f=l[n];if(f.r){let a=F(f);l.splice(n,1,...a),n--;continue}let A=!1;if(N)for(let a=n-i;a<N.length;a++){let g=N[a];if(g.t&&f.t===g.t||!g.t&&!f.t){A=!0,n!==a&&(r.insertBefore(r.childNodes[a+i],r.childNodes[n]),h.splice(n-i,0,...h.splice(a,1))),f.t?(m(r.childNodes[n],f.a,g.a),E(r.childNodes[n],f.c,g.c)):r.childNodes[n].textContent=typeof f=="string"?f:f.c;break}}if(!A)if(f.t){let a=document.createElement(f.t);f.a&&m(a,f.a),f.c&&E(a,f.c),n===0?r.insertAdjacentElement("afterbegin",a):r.childNodes.length>n?r.childNodes[n].insertAdjacentElement("afterend",a):r.insertAdjacentElement("beforeend",a),i++,c.dispatchEvent(new CustomEvent(H,{detail:{target:a}}))}else{let a=typeof f=="string"?f:f.c;n===0?r.insertAdjacentText("afterbegin",a):r.childNodes.length>n?r.childNodes[n].insertAdjacentText("afterend",a):r.insertAdjacentText("beforeend",a),i++}}if(r.childNodes.length>=n)for(let f=r.childNodes.length-1;f>=n;f--)r.childNodes[f].remove()},x=!0,v=Object.getPrototypeOf(o)===Proxy.prototype?o:U(o,()=>{x=!0,requestAnimationFrame(T)}),h=[],T=()=>{if(p&&!y&&x&&u<=0){y=!0,x=!1;let r=w(t(v));if(E(c,r,h),h=r,s=b,b=[],y=!1,x)throw new Error("update during render")}};return T(),[()=>{x=!0,requestAnimationFrame(T)},d,v]};var he=(e,t)=>{let[o,p]=L(e);return{_:C,a:p,c:t?Array.isArray(t)?t:[t]:[],t:o.toUpperCase()}};var Re=e=>({_:C,c:Array.isArray(e)?e.join(""):""+e});export{J as factory,ne as fctory,ce as memo,ge as mount,he as nde,k as node,Re as text};
//# sourceMappingURL=staark.min.js.map
