var C=o=>Array.isArray(o)?o:[o];var X=(o,t,e)=>{let r=o?t:e;return typeof r=="function"&&(r=r()),r?C(r):[]};var R="n";var L=(o,t,e)=>((typeof t!="object"||t._===R||Array.isArray(t))&&(e=t,t=void 0),{_:R,a:t,c:e?Array.isArray(e)?e:[e]:[],t:o.toUpperCase()});var ae=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let e=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,d)=>L(e,r,d)}});var H="]",Q="[",z=".",Z="=",q="#",w="'",P='"';var _=o=>{let t=o.length,e=0,r="",d={},a="",s=!0,c=3,y=()=>{if(a){switch(c){case 0:d[a]=s===!0?!0:s,s=!0;break;case 1:if(!d.class){d.class=a;break}d.class+=" "+a;break;case 2:d.id=a;break;case 3:r=a;break}a=""}},N,E,T=()=>{for(E=0;e<t;){if(N=o[e],e++,N===Z){s="",N=o[e];let M=N===P,k=N===w;for((M||k)&&(s+=N,e++);e<t;){if(N=o[e],M&&N===P||k&&N===w){s+=N,e++;break}else if(!M&&!k&&N===H)break;s+=N,e++}for((s[0]===P&&s[s.length-1]===P||s[0]===w&&s[s.length-1]===w)&&(s=s.substring(1,s.length-1));e<t&&(N=o[e],e++,N!==H););break}else if(N===Q){E++;continue}else if(N===H){if(E--,E<0)break;continue}a+=N}y()};for(;e<t;){if(N=o[e],e++,N===q){y(),c=2;continue}else if(N===z){y(),c=1;continue}else if(N===Q){y(),c=0,T();continue}a+=N}return[r,d]};var me=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let e=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,d)=>{let a;if(r){let[s,c]=_(r);a=c}return L(e,a,d)}}});var J=0,ge=o=>o+"-"+J++;var xe=(o,t)=>{if(t&&o in t&&t[o]){let e=t[o];return typeof e=="function"&&(e=e(),!e)?[]:C(e)}return[]};var ke=(o,t)=>({_:R,r:o,m:t});var Te=(o,t)=>{let[e,r]=_(o);return{_:R,a:r,c:t?Array.isArray(t)?t:[t]:[],t:e.toUpperCase()}};var D=o=>{if(typeof o=="object"){let t=Array.isArray(o)?[]:{};for(let e in o)t[e]=D(o[e]);return t}return o};var I=(o,t)=>{if(o===t)return!0;if(!o||!t||typeof o!="object"||typeof t!="object")return o===t;if(o instanceof Date)return t instanceof Date&&o.getTime()===t.getTime();let e=Object.keys(o);return e.length===Object.keys(t).length&&e.every(r=>I(o[r],t[r]))};var U=o=>{var e;let t=[];for(let r=0;r<o.childNodes.length;r++){let d=o.childNodes[r];if(d instanceof Text)t.push((e=d.textContent)!=null?e:"");else{let a={};for(let s=0;s<d.attributes.length;s++){let c=d.attributes[s];a[c.name]=c.value}t.push(L(d.nodeName,a,U(d)))}}return t};var V=(o,t)=>{let e=new WeakMap,r={deleteProperty:(a,s)=>{if(Reflect.has(a,s)){let c=a[s];typeof c=="object"&&c&&e.has(c)&&e.get(c).revoke();let y=Reflect.deleteProperty(a,s);return y&&t(),y}return!0},set:(a,s,c)=>{let y=a[s];return y!==c&&(typeof y=="object"&&y&&e.has(y)&&e.get(y).revoke(),a[s]=typeof c=="object"&&c?e.has(c)?e.get(c).proxy:d(c):c,t()),!0}},d=a=>{if(e.has(a))return e.get(a).proxy;for(let c in a){let y=a[c];y&&typeof y=="object"&&(a[c]=d(y))}let s=Proxy.revocable(a,r);return e.set(a,s),s.proxy};return d(o)};var K=/[A-Z]+(?![a-z])|[A-Z]/g,B=(o,t)=>(t?"-":"")+o,Ge=(o,t,e,r)=>{typeof e=="string"&&(e=JSON.parse(e)),e!=null||(e={});let d=!0,a=()=>{d||(d=!0,Promise.resolve().then(O))},s=Object.getPrototypeOf(e)===Proxy.prototype?e:V(e,a),c=(i,A,p)=>{if(A)for(let f in A){let n=A[f];if(n){let x=typeof n;if(x==="function"){if(p&&p[f]){if(p[f].f===n)continue;i.removeEventListener(f,p[f])}let b=A[f]=function(l){n(l,s)};b.f=n,i.addEventListener(f,b)}else if(f==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let b="";for(let l in n)n[l]&&(b+=" "+l);n=b}i.className=n}else if(f==="style"){if(typeof n=="object")if(Array.isArray(n))for(let b of n){let[l,...j]=b.split(":");i.style.setProperty(l,j.join(":"))}else for(let b in n){let l=n[b];b=b.replace(K,B).toLowerCase(),Array.isArray(l)&&(l=l.join(" ")),i.style.setProperty(b,l.toString())}}else{if(x==="boolean"){if(!n){i.removeAttribute(f);continue}n="true"}else x!=="string"&&(n=n.toString());f==="value"&&i.value!==n?i.value=n:f==="checked"&&(i.checked=A[f]),i.setAttribute(f,n)}}}if(p)for(let f in p){let n=p[f];(!A||!A[f])&&(typeof n=="function"?i.removeEventListener(f,p[f]):(f==="value"?i.value="":f==="checked"&&(i.checked=!1),i.removeAttribute(f)))}},y=new WeakMap,N=new WeakMap,E=(i,A,p,f)=>{var l,j,W;let n=0,x=0;if(A)for(;n<A.length;n++){let u=A[n];if(u.r){let m=y.get(u.r);(!m||!I(m.m,u.m))&&(m={c:C(u.r(s,u.m)),m:u.m,r:u.r}),N.set(u.r,m),A.splice(n,1,...D(m.c)),n--;continue}let G=!1;if(p)for(let m=n-x;m<p.length;m++){let g=p[m];if(g.t&&u.t===g.t||!g.t&&!u.t){G=!0,n!==m+x&&(i.insertBefore(i.childNodes[m+x],i.childNodes[n]),p.splice(n-x,0,...p.splice(m,1))),u.t?(c(i.childNodes[n],u.a,g.a),E(i.childNodes[n],u.c,g.c,g)):g!==u&&(i.childNodes[n].textContent=u);break}}if(!G){let m;if(u.t){m=document.createElement(u.t),u.a&&c(m,u.a),u.c&&E(m,u.c);let g=(h,F,v)=>{v&&(!F||F.t)?h.insertAdjacentElement(v,m):h.parentNode.insertBefore(m,h)};n===0?g(i,f,"afterbegin"):((l=p==null?void 0:p.length)!=null?l:0)+x>n?g(i.childNodes[n]):g(i,f,"beforeend")}else{let g=(h,F,v)=>{v&&(!F||F.t)?h.insertAdjacentText(v,u):h.parentNode.insertBefore(document.createTextNode(u),h)};n===0?g(i,f,"afterbegin"):((j=p==null?void 0:p.length)!=null?j:0)+x>n?g(i.childNodes[n]):g(i,f,"beforeend")}x++}}let b=((W=p==null?void 0:p.length)!=null?W:0)+x;if(b>=n)for(let u=b-1;u>=n;u--)i.childNodes[u].remove()},T=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof r=="string")try{r=JSON.parse(r)}catch(i){r=void 0}r!=null||(r=U(T));let M=!0,k=!1,O=()=>{if(M&&!k&&d){k=!0,d=!1;let i=C(t(s));if(E(T,i,r),r=i,y=N,N=new WeakMap,k=!1,d)throw new Error("update during render")}};return O(),[a,()=>{if(M){M=!1;for(let i=T.childNodes.length-1;i>=0;i--)T.childNodes[i].remove()}},s]};export{X as conditional,ae as factory,me as fctory,ge as identifier,xe as match,ke as memo,Ge as mount,Te as nde,L as node};
//# sourceMappingURL=staark.min.js.map
