var k=function(e){return Array.isArray(e)?e:[e]};var $=(e,t,o)=>e?k(t):k(o!=null?o:[]);var E=Symbol();var L=(e,t,o)=>((typeof t!="object"||t._===E||Array.isArray(t))&&(o=t,t=void 0),{_:E,a:t,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var ce=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,i=>"-"+i)).toUpperCase();return e[t]=(i,f)=>L(o,i,f)}});var O="]",Q="[",V=".",Z="=",J="#",w="'",D='"';var H=e=>{let t=e.length,o=0,i="",f={},a="",c=!0,d=3,x=()=>{if(a){switch(d){case 0:f[a]=c===!0?!0:c,c=!0;break;case 1:if(!f.class){f.class=a;break}f.class+=" "+a;break;case 2:f.id=a;break;case 3:i=a;break}a=""}},s,b,j=()=>{for(b=0;o<t;){if(s=e[o],o++,s===Z){c="",s=e[o];let h=s===D,R=s===w;for((h||R)&&(c+=s,o++);o<t;){if(s=e[o],h&&s===D||R&&s===w){c+=s,o++;break}else if(!h&&!R&&s===O)break;c+=s,o++}for((c[0]===D&&c[c.length-1]===D||c[0]===w&&c[c.length-1]===w)&&(c=c.substring(1,c.length-1));o<t&&(s=e[o],o++,s!==O););break}else if(s===Q){b++;continue}else if(s===O){if(b--,b<0)break;continue}a+=s}x()};for(;o<t;){if(s=e[o],o++,s===J){x(),d=2;continue}else if(s===V){x(),d=1;continue}else if(s===Q){x(),d=0,j();continue}a+=s}return[i,f]};var me=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,i=>"-"+i)).toUpperCase();return e[t]=(i,f)=>{let a;if(i){let[c,d]=H(i);a=d}return L(o,a,f)}}});var le=(e,t)=>t&&e in t&&t[e]?k(t[e]):[];var Ce=(e,t)=>({_:E,r:e,m:t});var ke=(e,t)=>{let[o,i]=H(e);return{_:E,a:i,c:t?Array.isArray(t)?t:[t]:[],t:o.toUpperCase()}};var Le=e=>({_:E,c:Array.isArray(e)?e.join(""):""+e});var I=e=>{if(typeof e=="object")if(Array.isArray(e)){let t=[];for(let o=0;o<e.length;o++)t.push(I(e[o]));e=t}else{let t={};for(let o in e)t[o]=I(e[o]);e=t}return e};var U=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e==null||t===null||t===void 0||e.prototype!==t.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(t).length?!1:o.every(i=>U(e[i],t[i]))};var q=e=>{var o;let t=[];for(let i=0;i<e.childNodes.length;i++){let f=e.childNodes[i];if(f instanceof Text)t.push((o=f.textContent)!=null?o:"");else{let a={};for(let c=0;c<f.attributes.length;c++){let d=f.attributes[c];a[d.name]=d.value}t.push(L(f.nodeName,a,q(f)))}}return t};var S=(e,t)=>{let o=new WeakMap,i=a=>{if(o.has(a)){let c=o.get(a);o.delete(c);for(let d in c.proxy)typeof c.proxy[d]=="object"&&i(c.proxy[d]);c.revoke()}},f=a=>{if(o.has(a))return o.get(a);for(let d in a)a[d]&&typeof a[d]=="object"&&(a[d]=f(a[d]));let c=Proxy.revocable(a,{deleteProperty:(d,x)=>{if(Reflect.has(d,x)){i(d);let s=Reflect.deleteProperty(d,x);return s&&t(),s}return!0},set:(d,x,s)=>{let b=d[x];return b!==s&&(typeof b=="object"&&i(b),s&&typeof s=="object"&&(s=f(s)),d[x]=s,t()),!0}});return o.set(c,a),c.proxy};return f(e)};var K=/[A-Z]+(?![a-z])|[A-Z]/g,W=(e,t)=>(t?"-":"")+e,Ge=(e,t,o,i)=>{let f=0,a=(n,N,u)=>{if(N)for(let p in N){let r=N[p];if(r){let A=typeof r;if(A==="function"){let C=N[p]=l=>{f++;try{r(l)}catch(T){}f--,P()};n.addEventListener(p,C);continue}else{if(p==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let C="";for(let l in r)r[l]&&(C+=" "+l);r=C}}else if(p==="style"){if(typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let C="";for(let l in r){let T=r[l];l=l.replace(K,W).toLowerCase(),Array.isArray(T)?C+=";"+l+":"+T.join(" "):T&&(C+=";"+l+":"+T)}r=C}}else{if(A==="boolean"){if(!r){n.removeAttribute(p);continue}r="true"}else A!=="string"&&(r=r.toString());p==="value"&&n.value!==r?n.value=r:p==="checked"&&(n.checked=N[p])}n.setAttribute(p,r)}}}if(u)for(let p in u)typeof u[p]=="function"?n.removeEventListener(p,u[p]):(!N||!(p in N)||!N[p])&&(p==="value"?n.value="":p==="checked"&&(n.checked=!1),n.removeAttribute(p))},c=[],d=[],x=n=>{let N=c.find(u=>u.r===n.r&&U(u.m,n.m));return N||(N={c:k(n.r(j,n.m)),m:n.m,r:n.r}),d.includes(N)||d.push(N),I(N.c)},s=(n,N,u,p)=>{var l,T,z;let r=0,A=0;if(N)for(;r<N.length;r++){let y=N[r];if(y.r){let m=x(y);N.splice(r,1,...m),r--;continue}let G=!1;if(u)for(let m=r-A;m<u.length;m++){let g=u[m];if(g.t&&y.t===g.t||!g.t&&!y.t){G=!0,r!==m+A&&(n.insertBefore(n.childNodes[m+A],n.childNodes[r]),u.splice(r-A,0,...u.splice(m,1))),y.t?(a(n.childNodes[r],y.a,g.a),s(n.childNodes[r],y.c,g.c,g)):n.childNodes[r].textContent=typeof y=="string"?y:y.c;break}}if(!G){let m;if(y.t){m=document.createElement(y.t),y.a&&a(m,y.a),y.c&&s(m,y.c);let g=(M,F,_)=>{_&&(!F||F.t)?M.insertAdjacentElement(_,m):M.parentNode.insertBefore(m,M)};r===0?g(n,p,"afterbegin"):((l=u==null?void 0:u.length)!=null?l:0)+A>r?g(n.childNodes[r]):g(n,p,"beforeend")}else{m=typeof y=="string"?y:y.c;let g=(M,F,_)=>{_&&(!F||F.t)?M.insertAdjacentText(_,m):M.parentNode.insertBefore(document.createTextNode(m),M.nextSibling)};r===0?g(n,p,"afterbegin"):((T=u==null?void 0:u.length)!=null?T:0)+A>r?g(n.childNodes[r]):g(n,p,"beforeend")}A++}}let C=((z=u==null?void 0:u.length)!=null?z:0)+A;if(C>=r)for(let y=C-1;y>=r;y--)n.childNodes[y].remove()};typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let b=!0,j=Object.getPrototypeOf(o)===Proxy.prototype?o:S(o,()=>{b=!0,requestAnimationFrame(P)}),h=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof i=="string")try{i=JSON.parse(i)}catch(n){i=void 0}i!=null||(i=q(h));let R=!0,v=!1,P=()=>{if(R&&!v&&b&&f<=0){v=!0,b=!1;let n=k(t(j));if(s(h,n,i),i=n,c=d,d=[],v=!1,b)throw new Error("update during render")}};return P(),[()=>{b=!0,requestAnimationFrame(P)},()=>{if(R){R=!1;for(let n=h.childNodes.length-1;n>=0;n--)h.childNodes[n].remove()}},j]};export{$ as conditional,ce as factory,me as fctory,le as match,Ce as memo,Ge as mount,ke as nde,L as node,Le as text};
//# sourceMappingURL=staark.min.js.map
