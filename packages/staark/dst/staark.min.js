var x=Symbol();var T=(e,t,o)=>((typeof t!="object"||t._===x||Array.isArray(t))&&(o=t,t=void 0),{_:x,a:t,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var Y=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,l=>"-"+l)).toUpperCase();return e[t]=(l,y)=>T(o,l,y)}});var w="]",H="[",D=".",I="=",v="#",M="'",j='"';var F=e=>{let t=e.length,o=0,l="",y={},s="",a=!0,p=3,b=()=>{if(s){switch(p){case 0:y[s]=a===!0?!0:a,a=!0;break;case 1:if(!y.class){y.class=s;break}y.class+=" "+s;break;case 2:y.id=s;break;case 3:l=s;break}s=""}},i,m,L=()=>{for(m=0;o<t;){if(i=e[o],o++,i===I){a="",i=e[o];let C=i===j,g=i===M;for((C||g)&&(a+=i,o++);o<t;){if(i=e[o],C&&i===j||g&&i===M){a+=i,o++;break}else if(!C&&!g&&i===w)break;a+=i,o++}for((a[0]===j&&a[a.length-1]===j||a[0]===M&&a[a.length-1]===M)&&(a=a.substring(1,a.length-1));o<t&&(i=e[o],o++,i!==w););break}else if(i===H){m++;continue}else if(i===w){if(m--,m<0)break;continue}s+=i}b()};for(;o<t;){if(i=e[o],o++,i===v){b(),p=2;continue}else if(i===D){b(),p=1;continue}else if(i===H){b(),p=0,L();continue}s+=i}return[l,y]};var re=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,l=>"-"+l)).toUpperCase();return e[t]=(l,y)=>{let s;if(l){let[a,p]=F(l);s=p}return T(o,s,y)}}});var ie=(e,t)=>({_:x,r:e,m:t});var O=function(e){return Array.isArray(e)?e:[e]};var R=e=>{if(typeof e=="object")if(Array.isArray(e)){let t=[];for(let o=0;o<e.length;o++)t.push(R(e[o]));e=t}else{let t={};for(let o in e)t[o]=R(e[o]);e=t}return e};var P=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e==null||t===null||t===void 0||e.prototype!==t.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(t).length?!1:o.every(l=>P(e[l],t[l]))};var U=(e,t)=>{let o=new WeakMap,l=s=>{if(o.has(s)){let a=o.get(s);o.delete(a);for(let p in a.proxy)typeof a.proxy[p]=="object"&&l(a.proxy[p]);a.revoke()}},y=s=>{if(o.has(s))return o.get(s);for(let p in s)s[p]&&typeof s[p]=="object"&&(s[p]=y(s[p]));let a=Proxy.revocable(s,{deleteProperty:(p,b)=>{if(Reflect.has(p,b)){l(p);let i=Reflect.deleteProperty(p,b);return i&&t(),i}return!0},set:(p,b,i)=>{let m=p[b];return m!==i&&(typeof m=="object"&&l(m),i&&typeof i=="object"&&(i=y(i)),p[b]=i,t()),!0}});return o.set(a,s),a.proxy};return y(e)};var G=/[A-Z]+(?![a-z])|[A-Z]/g,S=(e,t)=>(t?"-":"")+e,me=(e,t,o)=>{o||(o={});let l=!0,y=!1,s,a=()=>{if(l&&(l=!1,s))for(let r=s.childNodes.length-1;r>=0;r--)s.childNodes[r].remove()};if(s=typeof e=="string"?document.querySelector(e):e,!s)throw new Error("No mount");a(),l=!0,s||(s=document.createElement("div"),document.body.appendChild(s));let p=0,b=(r,u=null,N=null)=>{if(u)for(let n in u){let c=u[n];if(c!=null){let d=typeof c;if(d==="function"){let A=u[n]=f=>{p++,c(f),p--,E()};r.addEventListener(n,A);continue}else{if(d==="boolean"?c=c?"true":"false":d!=="string"&&(c=c.toString()),n==="class"){if(typeof c=="object")if(Array.isArray(c))c=c.join(" ");else{let A="";for(let f in c)c[f]&&(A+=" "+f);c=A}}else if(n==="style"){if(typeof c=="object")if(Array.isArray(c))c=c.join(";");else{let A="";for(let f in c){let h=c[f];f=f.replace(G,S).toLowerCase(),Array.isArray(h)?A+=";"+f+":"+h.join(" "):c&&(A+=";"+f+":"+c)}c=A}}else n==="value"&&r.value!==c?r.value=c:n==="checked"&&(r.checked=u[n]);r.setAttribute(n,c)}}}if(N)for(let n in N)typeof N[n]=="function"?r.removeEventListener(n,N[n]):(!u||!(n in u)||u[n]===null||u[n]===void 0)&&(n==="value"?r.value="":n==="checked"&&(r.checked=!1),r.removeAttribute(n))},i=[],m=[],L=r=>{let u=i.find(N=>N.r===r.r&&P(N.m,r.m));return u||(u={c:O(r.r(_,r.m)),m:r.m,r:r.r}),m.includes(u)||m.push(u),R(u.c)},C=(r,u=null,N=null)=>{let n=0,c=0;if(u)for(;n<u.length;n++){let d=u[n];if(d.r){let f=L(d);u.splice(n,1,...f),n--;continue}let A=!1;if(N)for(let f=n-c;f<N.length;f++){let h=N[f];if(h.t&&d.t===h.t||!h.t&&!d.t){A=!0,n!==f&&(r.insertBefore(r.childNodes[f+c],r.childNodes[n]),k.splice(n-c,0,...k.splice(f,1))),d.t?(b(r.childNodes[n],d.a,h.a),C(r.childNodes[n],d.c,h.c)):r.childNodes[n].textContent=typeof d=="string"?d:d.c;break}}if(!A)if(d.t){let f=document.createElement(d.t);d.a&&b(f,d.a),d.c&&C(f,d.c),r.childNodes.length>n?r.childNodes[n].insertAdjacentElement("afterend",f):r.insertAdjacentElement("beforeend",f),c++}else{let f=typeof d=="string"?d:d.c;r.childNodes.length>n?r.childNodes[n].insertAdjacentText("afterend",f):r.insertAdjacentText("beforeend",f),c++}}if(r.childNodes.length>=n)for(let d=r.childNodes.length-1;d>=n;d--)r.childNodes[d].remove()},g=!0,_=Object.getPrototypeOf(o)===Proxy.prototype?o:U(o,()=>{g=!0,requestAnimationFrame(E)}),k=[],E=()=>{if(l&&!y&&g&&p<=0){y=!0,g=!1;let r=O(t(_));if(C(s,r,k),k=r,i=m,m=[],y=!1,g)throw new Error("update during render")}};return E(),[()=>{g=!0,requestAnimationFrame(E)},a,_]};var xe=(e,t)=>{let[o,l]=F(e);return{_:x,a:l,c:t?Array.isArray(t)?t:[t]:[],t:o.toUpperCase()}};var ke=e=>({_:x,c:Array.isArray(e)?e.join(""):""+e});export{Y as factory,re as fctory,ie as memo,me as mount,xe as nde,T as node,ke as text};
//# sourceMappingURL=staark.min.js.map
