var P=e=>O(e)||[],O=e=>e?Array.isArray(e)?e:[e]:void 0;var I=(e,o,r)=>{let n=e?o:r;return typeof n=="function"&&(n=n()),P(n)};var w=(e,o,r)=>(o&&(typeof o!="object"||o._==="n"||Array.isArray(o))&&(r=o,o=void 0),{_:"n",a:o,c:O(r),t:e});var z=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let r=o[0].toLowerCase()+o.substring(1).replace(/([A-Z])/g,n=>"-"+n.toLowerCase());return e[o]=(n,i)=>w(r,n,i)}});var T={attribute:0,class:1,id:2,type:3},Q=e=>{let o=e.length,r=0,n="",i={},p="",s=!0,x=T.type,g=()=>{if(p){switch(x){case T.attribute:i[p]=s===!0?!0:s,s=!0;break;case T.class:if(!i.class){i.class=p;break}i.class+=" "+p;break;case T.id:i.id=p;break;case T.type:n=p;break}p=""}},a,N,L=()=>{for(N=0;r<o;){if(a=e[r],r++,a==="="){s="",a=e[r];let k=a==='"',_=a==="'";for((k||_)&&(s+=a,r++);r<o;){if(a=e[r],k&&a==='"'||_&&a==="'"){s+=a,r++;break}else if(!k&&!_&&a==="]")break;s+=a,r++}for((s[0]==='"'&&s[s.length-1]==='"'||s[0]==="'"&&s[s.length-1]==="'")&&(s=s.substring(1,s.length-1));r<o&&(a=e[r],r++,a!=="]"););break}else if(a==="["){N++;continue}else if(a==="]"){if(N--,N<0)break;continue}p+=a}g()};for(;r<o;){if(a=e[r],r++,a==="#"){g(),x=T.id;continue}else if(a==="."){g(),x=T.class;continue}else if(a==="["){g(),x=T.attribute,L();continue}p+=a}return[n,i]};var X=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let r=o[0].toLowerCase()+o.substring(1).replace(/([A-Z])/g,n=>"-"+n.toLowerCase());return e[o]=(n,i)=>{let p;if(n){let[s,x]=Q(n);p=x}return w(r,p,i)}}});var C=0,$=e=>e+"-"+C++;var oe=(e,o,r)=>{let n;return o&&e in o&&o[e]?n=o[e]:n=r,typeof n=="function"&&(n=n()),P(n)};var ne=(e,o)=>({_:"n",r:e,m:o});var pe=(e,o)=>{let[r,n]=Q(e);return{_:"n",a:n,c:O(o),t:r}};var j=e=>{if(typeof e=="object"){let o=Array.isArray(e)?[]:{};for(let r in e)o[r]=j(e[r]);return o}return e};var R=(e,o)=>{if(e===o)return!0;if(!e||!o||typeof e!="object"||typeof o!="object")return e===o;if(e instanceof Date)return o instanceof Date&&e.getTime()===o.getTime();let r=Object.keys(e);return r.length===Object.keys(o).length&&r.every(n=>R(e[n],o[n]))};var S=e=>{var r;let o=[];for(let n of e.childNodes)if(n instanceof Text)o.push((r=n.textContent)!=null?r:"");else{let i={};for(let p of n.attributes)i[p.name]=p.value;o.push(w(n.nodeName,i,S(n)))}return o};var B=(e,o)=>{let r={deleteProperty:(i,p)=>{if(Reflect.has(i,p)){let s=Reflect.deleteProperty(i,p);return s&&o(),s}return!0},set:(i,p,s)=>(i[p]!==s&&(s&&typeof s=="object"&&(s=n(s)),i[p]=s,o()),!0)},n=i=>{for(let p in i)i[p]&&typeof i[p]=="object"&&(i[p]=n(i[p]));return new Proxy(i,r)};return n(e)};var Te=(e,o,r,n)=>{typeof r=="string"&&(r=JSON.parse(r)),r||(r={});let i=null,p=()=>(i||(i=Promise.resolve().then(D)),i),s=Object.getPrototypeOf(r)===Proxy.prototype?r:B(r,p),x=(c,d,l)=>{if(d)for(let m in d){let f=d[m];if(f){let h=typeof f;if(h==="function"){let t=l==null?void 0:l[m];if((t==null?void 0:t.f)===f)d[m]=t;else{t&&c.removeEventListener(m,t);let u=d[m]=y=>{f(y,s)};c.addEventListener(m,u),u.f=f}}else if(m==="class"){if(typeof f=="object")if(Array.isArray(f))f=f.join(" ");else{let t="";for(let u in f)f[u]&&(t+=" "+u);f=t}c.className=f}else if(m==="style"&&typeof f=="object"){for(let t in f){let u=f[t];t.includes("-",1)?c.style.setProperty(t,u):c.style[t]=u}if(l&&l[m]&&typeof l[m]=="object"&&!Array.isArray(l[m]))for(let t in l[m])f[t]||(t.includes("-",1)?c.style.removeProperty(t):c.style[t]=null)}else f===!0?f="true":h!=="string"&&(f=f.toString()),c.setAttribute(m,f),m==="value"&&(c.value=f)}}if(l)for(let m in l){let f=l[m];(!d||!d[m])&&(typeof f=="function"?c.removeEventListener(m,l[m]):m==="class"?c.className="":m==="style"?c.style.cssText="":m==="value"?c.value="":c.removeAttribute(m))}},g=new WeakMap,a=new WeakMap,N=(c,d,l,m)=>{let f=0,h=0;if(d)for(;f<d.length;f++){let t=d[f];if(t.r){let y=g.get(t.r);(!y||!R(y.m,t.m))&&(y={c:O(t.r(s,t.m)),m:t.m,r:t.r}),a.set(t.r,y),d.splice(f,1,...j(y.c)),f--;continue}let u=!1;if(l)for(let y=f-h;y<l.length;y++){let E=l[y];if(E.t&&t.t===E.t||!E.t&&!t.t){u=!0,f!==y+h&&(c.insertBefore(c.childNodes[y+h],c.childNodes[f]),l.splice(f-h,0,l.splice(y,1)[0])),t.t?(x(c.childNodes[f],t.a,E.a),N(c.childNodes[f],t.c,E.c,m||t.t==="SVG"||t.t==="svg")):E!==t&&(c.childNodes[f].textContent=t);break}}if(!u){let y;if(t.t){let E=m||t.t==="SVG"||t.t==="svg";E?y=document.createElementNS("http://www.w3.org/2000/svg",t.t):y=document.createElement(t.t),x(y,t.a,void 0,E),N(y,t.c,void 0,E)}else y=document.createTextNode(t);c.insertBefore(y,c.childNodes[f]),h++}}if(l){let t=l.length+h;if(t>=f)for(let u=t-1;u>=f;u--)c.childNodes[u].remove()}},L=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch(c){n=null}n||(n=S(L));let k=!0,_=!1,D=()=>{if(k&&!_&&i){_=!0,i=null;let c=O(o(s));N(L,c,n),n=c,g=a,a=new WeakMap,_=!1}};return p(),D(),[p,()=>{if(k){k=!1;for(let c=L.childNodes.length-1;c>=0;c--)L.childNodes[c].remove()}},s]};export{I as conditional,z as factory,X as fctory,$ as identifier,oe as match,ne as memo,Te as mount,pe as nde,w as node};
