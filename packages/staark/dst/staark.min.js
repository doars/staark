var k=e=>{var t;return(t=C(e))!=null?t:[]},C=e=>e?Array.isArray(e)?e:[e]:void 0;var V=(e,t,n)=>{let o=e?t:n;return typeof o=="function"&&(o=o()),k(o)};var T="n";var R=(e,t,n)=>((typeof t!="object"||t._===T||Array.isArray(t))&&(n=t,t=void 0),{_:T,a:t,c:C(n),t:e.toUpperCase()});var $=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let n=(t[0]+t.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[t]=(o,i)=>R(n,o,i)}});var v="]",P="[",D=".",H="=",G="#",E="'",F='"';var L=e=>{let t=e.length,n=0,o="",i={},d="",s=!0,l=3,x=()=>{if(d){switch(l){case 0:i[d]=s===!0?!0:s,s=!0;break;case 1:if(!i.class){i.class=d;break}i.class+=" "+d;break;case 2:i.id=d;break;case 3:o=d;break}d=""}},u,b,h=()=>{for(b=0;n<t;){if(u=e[n],n++,u===H){s="",u=e[n];let A=u===F,M=u===E;for((A||M)&&(s+=u,n++);n<t;){if(u=e[n],A&&u===F||M&&u===E){s+=u,n++;break}else if(!A&&!M&&u===v)break;s+=u,n++}for((s[0]===F&&s[s.length-1]===F||s[0]===E&&s[s.length-1]===E)&&(s=s.substring(1,s.length-1));n<t&&(u=e[n],n++,u!==v););break}else if(u===P){b++;continue}else if(u===v){if(b--,b<0)break;continue}d+=u}x()};for(;n<t;){if(u=e[n],n++,u===G){x(),l=2;continue}else if(u===D){x(),l=1;continue}else if(u===P){x(),l=0,h();continue}d+=u}return[o,i]};var ce=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let n=(t[0]+t.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[t]=(o,i)=>{let d;if(o){let[s,l]=L(o);d=l}return R(n,d,i)}}});var Q=0,de=e=>e+"-"+Q++;var Ne=(e,t,n)=>{let o;return t&&e in t&&t[e]?o=t[e]:o=n,typeof o=="function"&&(o=o()),k(o)};var ye=(e,t)=>({_:T,r:e,m:t});var Ae=(e,t)=>{let[n,o]=L(e);return{_:T,a:o,c:C(t),t:n.toUpperCase()}};var w=e=>{if(typeof e=="object"){let t=Array.isArray(e)?[]:{};for(let n in e)t[n]=w(e[n]);return t}return e};var _=(e,t)=>{if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return e===t;if(e instanceof Date)return t instanceof Date&&e.getTime()===t.getTime();let n=Object.keys(e);return n.length===Object.keys(t).length&&n.every(o=>_(e[o],t[o]))};var U=e=>{var n;let t=[];for(let o of e.childNodes)if(o instanceof Text)t.push((n=o.textContent)!=null?n:"");else{let i=o,d={};for(let s of i.attributes)d[s.name]=s.value;t.push(R(o.nodeName,d,U(o)))}return t};var j=(e,t)=>{let n={deleteProperty:(i,d)=>{if(Reflect.has(i,d)){let s=Reflect.deleteProperty(i,d);return s&&t(),s}return!0},set:(i,d,s)=>(i[d]!==s&&(s&&typeof s=="object"&&(s=o(s)),i[d]=s,t()),!0)},o=i=>{for(let d in i)i[d]&&typeof i[d]=="object"&&(i[d]=o(i[d]));return new Proxy(i,n)};return o(e)};var Pe=(e,t,n,o)=>{typeof n=="string"&&(n=JSON.parse(n)),n||(n={});let i=null,d=()=>(i||(i=Promise.resolve().then(O)),i),s=Object.getPrototypeOf(n)===Proxy.prototype?n:j(n,d),l=(c,y,m)=>{if(y)for(let r in y){let a=y[r];if(a){let N=typeof a;if(N==="function"){let p=m==null?void 0:m[r];if((p==null?void 0:p.f)!==a){p&&c.removeEventListener(r,p);let f=y[r]=g=>{a(g,s)};f.f=a,c.addEventListener(r,f)}}else if(r==="class"){if(typeof a=="object")if(Array.isArray(a))a=a.join(" ");else{let p="";for(let f in a)a[f]&&(p+=" "+f);a=p}c.className=a}else if(r==="style"&&typeof a=="object"){for(let p in a){let f=a[p];p.includes("-",1)?c.style.setProperty(p,f):c.style[p]=f}if(m&&m[r]&&typeof m[r]=="object"&&!Array.isArray(m[r]))for(let p in m[r])p in a||(p.includes("-")?c.style.removeProperty(p):delete c.style[p])}else a===!0?a="true":N!=="string"&&(a=a.toString()),c.setAttribute(r,a)}}if(m)for(let r in m){let a=m[r];(!y||!y[r])&&(typeof a=="function"?c.removeEventListener(r,m[r]):r==="class"?c.className="":r==="style"?c.style.cssText="":r==="value"?c.value="":c.removeAttribute(r))}},x=new WeakMap,u=new WeakMap,b=(c,y,m)=>{let r=0,a=0;if(y)for(;r<y.length;r++){let N=y[r];if(N.r){let f=x.get(N.r);(!f||!_(f.m,N.m))&&(f={c:C(N.r(s,N.m)),m:N.m,r:N.r}),u.set(N.r,f),y.splice(r,1,...w(f.c)),r--;continue}let p=!1;if(m)for(let f=r-a;f<m.length;f++){let g=m[f];if(g.t&&N.t===g.t||!g.t&&!N.t){p=!0,r!==f+a&&(c.insertBefore(c.childNodes[f+a],c.childNodes[r]),m.splice(r-a,0,m.splice(f,1)[0])),N.t?(l(c.childNodes[r],N.a,g.a),b(c.childNodes[r],N.c,g.c)):g!==N&&(c.childNodes[r].textContent=N);break}}if(!p){let f;N.t?(f=document.createElement(N.t),l(f,N.a),b(f,N.c)):f=document.createTextNode(N),c.insertBefore(f,c.childNodes[r]),a++}}if(m){let N=m.length+a;if(N>=r)for(let p=N-1;p>=r;p--)c.childNodes[p].remove()}},h=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof o=="string")try{o=JSON.parse(o)}catch(c){o=null}o||(o=U(h));let A=!0,M=!1,O=()=>{if(A&&!M&&i){M=!0,i=null;let c=C(t(s));b(h,c,o),o=c,x=u,u=new WeakMap,M=!1}};return d(),O(),[d,()=>{if(A){A=!1;for(let c=h.childNodes.length-1;c>=0;c--)h.childNodes[c].remove()}},s]};export{V as conditional,$ as factory,ce as fctory,de as identifier,Ne as match,ye as memo,Pe as mount,Ae as nde,R as node};
//# sourceMappingURL=staark.min.js.map
