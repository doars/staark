var E=Symbol();var M=(e,t,o)=>((typeof t!="object"||t._===E||Array.isArray(t))&&(o=t,t=void 0),{_:E,a:t,c:o?Array.isArray(o)?o:[o]:[],t:e.toUpperCase()});var ne=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,i=>"-"+i)).toUpperCase();return e[t]=(i,y)=>M(o,i,y)}});var O="]",Q="[",V=".",Z="=",J="#",_="'",w='"';var P=e=>{let t=e.length,o=0,i="",y={},c="",a=!0,f=3,A=()=>{if(c){switch(f){case 0:y[c]=a===!0?!0:a,a=!0;break;case 1:if(!y.class){y.class=c;break}y.class+=" "+c;break;case 2:y.id=c;break;case 3:i=c;break}c=""}},s,b,F=()=>{for(b=0;o<t;){if(s=e[o],o++,s===Z){a="",s=e[o];let k=s===w,h=s===_;for((k||h)&&(a+=s,o++);o<t;){if(s=e[o],k&&s===w||h&&s===_){a+=s,o++;break}else if(!k&&!h&&s===O)break;a+=s,o++}for((a[0]===w&&a[a.length-1]===w||a[0]===_&&a[a.length-1]===_)&&(a=a.substring(1,a.length-1));o<t&&(s=e[o],o++,s!==O););break}else if(s===Q){b++;continue}else if(s===O){if(b--,b<0)break;continue}c+=s}A()};for(;o<t;){if(s=e[o],o++,s===J){A(),f=2;continue}else if(s===V){A(),f=1;continue}else if(s===Q){A(),f=0,F();continue}c+=s}return[i,y]};var pe=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,i=>"-"+i)).toUpperCase();return e[t]=(i,y)=>{let c;if(i){let[a,f]=P(i);c=f}return M(o,c,y)}}});var Ne=(e,t)=>({_:E,r:e,m:t});var le=(e,t)=>{let[o,i]=P(e);return{_:E,a:i,c:t?Array.isArray(t)?t:[t]:[],t:o.toUpperCase()}};var Ce=e=>({_:E,c:Array.isArray(e)?e.join(""):""+e});var U=function(e){return Array.isArray(e)?e:[e]};var D=e=>{if(typeof e=="object")if(Array.isArray(e)){let t=[];for(let o=0;o<e.length;o++)t.push(D(e[o]));e=t}else{let t={};for(let o in e)t[o]=D(e[o]);e=t}return e};var v=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e==null||t===null||t===void 0||e.prototype!==t.prototype)return!1;let o=Object.keys(e);return o.length!==Object.keys(t).length?!1:o.every(i=>v(e[i],t[i]))};var q=e=>{var o;let t=[];for(let i=0;i<e.childNodes.length;i++)if(e instanceof Text)t.push((o=e.textContent)!=null?o:"");else{let y={};for(let c=0;c<e.attributes.length;c++){let a=e.attributes[c];y[a.name]=a.value}t.push(M(e.nodeName,y,q(e)))}return t};var S=(e,t)=>{let o=new WeakMap,i=c=>{if(o.has(c)){let a=o.get(c);o.delete(a);for(let f in a.proxy)typeof a.proxy[f]=="object"&&i(a.proxy[f]);a.revoke()}},y=c=>{if(o.has(c))return o.get(c);for(let f in c)c[f]&&typeof c[f]=="object"&&(c[f]=y(c[f]));let a=Proxy.revocable(c,{deleteProperty:(f,A)=>{if(Reflect.has(f,A)){i(f);let s=Reflect.deleteProperty(f,A);return s&&t(),s}return!0},set:(f,A,s)=>{let b=f[A];return b!==s&&(typeof b=="object"&&i(b),s&&typeof s=="object"&&(s=y(s)),f[A]=s,t()),!0}});return o.set(a,c),a.proxy};return y(e)};var K=/[A-Z]+(?![a-z])|[A-Z]/g,W=(e,t)=>(t?"-":"")+e,He=(e,t,o,i)=>{let y=0,c=(r,N,d)=>{if(N)for(let p in N){let n=N[p];if(n){let g=typeof n;if(g==="function"){let C=N[p]=x=>{y++;try{n(x)}catch(T){}y--,L()};r.addEventListener(p,C);continue}else{if(p==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let C="";for(let x in n)n[x]&&(C+=" "+x);n=C}}else if(p==="style"){if(typeof n=="object")if(Array.isArray(n))n=n.join(";");else{let C="";for(let x in n){let T=n[x];x=x.replace(K,W).toLowerCase(),Array.isArray(T)?C+=";"+x+":"+T.join(" "):T&&(C+=";"+x+":"+T)}n=C}}else g==="boolean"?n=n?"true":"false":g!=="string"&&(n=n.toString()),p==="value"&&r.value!==n?r.value=n:p==="checked"&&(r.checked=N[p]);r.setAttribute(p,n)}}}if(d)for(let p in d)typeof d[p]=="function"?r.removeEventListener(p,d[p]):(!N||!(p in N)||!N[p])&&(p==="value"?r.value="":p==="checked"&&(r.checked=!1),r.removeAttribute(p))},a=[],f=[],A=r=>{let N=a.find(d=>d.r===r.r&&v(d.m,r.m));return N||(N={c:U(r.r(F,r.m)),m:r.m,r:r.r}),f.includes(N)||f.push(N),D(N.c)},s=(r,N,d,p)=>{var x,T,z;let n=0,g=0;if(N)for(;n<N.length;n++){let u=N[n];if(u.r){let m=A(u);N.splice(n,1,...m),n--;continue}let G=!1;if(d)for(let m=n-g;m<d.length;m++){let l=d[m];if(l.t&&u.t===l.t||!l.t&&!u.t){G=!0,n!==m&&(r.insertBefore(r.childNodes[m+g],r.childNodes[n]),d.splice(n-g,0,...d.splice(m,1))),u.t?(c(r.childNodes[n],u.a,l.a),s(r.childNodes[n],u.c,l.c,l)):r.childNodes[n].textContent=typeof u=="string"?u:u.c;break}}if(!G){let m;if(u.t){m=document.createElement(u.t),u.a&&c(m,u.a),u.c&&s(m,u.c);let l=(R,j,H)=>{!j||j.t?R.insertAdjacentElement(H,m):R.parentNode.insertBefore(m,R)};n===0?l(r,p,"afterbegin"):((x=d==null?void 0:d.length)!=null?x:0)+g>n?l(r.childNodes[n],d[n+g],"beforebegin"):l(r,p,"beforeend"),g++}else{m=typeof u=="string"?u:u.c;let l=(R,j,H)=>{!j||j.t?R.insertAdjacentText(H,m):R.parentNode.insertBefore(document.createTextNode(m),R.nextSibling)};n===0?l(r,p,"afterbegin"):((T=d==null?void 0:d.length)!=null?T:0)+g>n?l(r.childNodes[n],d[n+g],"beforebegin"):l(r,p,"beforeend"),g++}}}let C=((z=d==null?void 0:d.length)!=null?z:0)+g;if(C>=n)for(let u=C-1;u>=n;u--)r.childNodes[u].remove()};typeof o=="string"&&(o=JSON.parse(o)),o!=null||(o={});let b=!0,F=Object.getPrototypeOf(o)===Proxy.prototype?o:S(o,()=>{b=!0,requestAnimationFrame(L)}),k=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof i=="string")try{i=JSON.parse(i)}catch(r){i=void 0}i!=null||(i=q(k));let h=!0,I=!1,L=()=>{if(h&&!I&&b&&y<=0){I=!0,b=!1;let r=U(t(F));if(s(k,r,i),i=r,a=f,f=[],I=!1,b)throw new Error("update during render")}};return L(),[()=>{b=!0,requestAnimationFrame(L)},()=>{if(h){h=!1;for(let r=k.childNodes.length-1;r>=0;r--)k.childNodes[r].remove()}},F]};export{ne as factory,pe as fctory,Ne as memo,He as mount,le as nde,M as node,Ce as text};
//# sourceMappingURL=staark.min.js.map
