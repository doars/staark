var _=e=>k(e)||[],k=e=>e?Array.isArray(e)?e:[e]:void 0;var Z=(e,r,o)=>{let t=e?r:o;return typeof t=="function"&&(t=t()),_(t)};var O="n";var P=(e,r,o)=>((typeof r!="object"||r._===O||Array.isArray(r))&&(o=r,r=void 0),{_:O,a:r,c:k(o),t:e.toUpperCase()});var Y=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let o=(r[0]+r.substring(1).replace(/([A-Z])/g,t=>"-"+t)).toUpperCase();return e[r]=(t,i)=>P(o,t,i)}});var R="]",z="[",W=".",C="=",H="#",b="'",w='"',g={attribute:0,class:1,id:2,type:3},L=e=>{let r=e.length,o=0,t="",i={},p="",f=!0,x=g.type,T=()=>{if(p){switch(x){case g.attribute:i[p]=f===!0?!0:f,f=!0;break;case g.class:if(!i.class){i.class=p;break}i.class+=" "+p;break;case g.id:i.id=p;break;case g.type:t=p;break}p=""}},y,h,U=()=>{for(h=0;o<r;){if(y=e[o],o++,y===C){f="",y=e[o];let j=y===w,E=y===b;for((j||E)&&(f+=y,o++);o<r;){if(y=e[o],j&&y===w||E&&y===b){f+=y,o++;break}else if(!j&&!E&&y===R)break;f+=y,o++}for((f[0]===w&&f[f.length-1]===w||f[0]===b&&f[f.length-1]===b)&&(f=f.substring(1,f.length-1));o<r&&(y=e[o],o++,y!==R););break}else if(y===z){h++;continue}else if(y===R){if(h--,h<0)break;continue}p+=y}T()};for(;o<r;){if(y=e[o],o++,y===H){T(),x=g.id;continue}else if(y===W){T(),x=g.class;continue}else if(y===z){T(),x=g.attribute,U();continue}p+=y}return[t,i]};var oe=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let o=(r[0]+r.substring(1).replace(/([A-Z])/g,t=>"-"+t)).toUpperCase();return e[r]=(t,i)=>{let p;if(t){let[f,x]=L(t);p=x}return P(o,p,i)}}});var J=0,ne=e=>e+"-"+J++;var se=(e,r,o)=>{let t;return r&&e in r&&r[e]?t=r[e]:t=o,typeof t=="function"&&(t=t()),_(t)};var ae=(e,r)=>({_:O,r:e,m:r});var de=(e,r)=>{let[o,t]=L(e);return{_:O,a:t,c:k(r),t:o.toUpperCase()}};var M=e=>{if(typeof e=="object"){let r=Array.isArray(e)?[]:{};for(let o in e)r[o]=M(e[o]);return r}return e};var D=(e,r)=>{if(e===r)return!0;if(!e||!r||typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();let o=Object.keys(e);return o.length===Object.keys(r).length&&o.every(t=>D(e[t],r[t]))};var Q=e=>{var o;let r=[];for(let t of e.childNodes)if(t instanceof Text)r.push((o=t.textContent)!=null?o:"");else{let i={};for(let p of t.attributes)i[p.name]=p.value;r.push(P(t.nodeName,i,Q(t)))}return r};var I=(e,r)=>{let o={deleteProperty:(i,p)=>{if(Reflect.has(i,p)){let f=Reflect.deleteProperty(i,p);return f&&r(),f}return!0},set:(i,p,f)=>(i[p]!==f&&(f&&typeof f=="object"&&(f=t(f)),i[p]=f,r()),!0)},t=i=>{for(let p in i)i[p]&&typeof i[p]=="object"&&(i[p]=t(i[p]));return new Proxy(i,o)};return t(e)};var _e=(e,r,o,t)=>{typeof o=="string"&&(o=JSON.parse(o)),o||(o={});let i=null,p=()=>(i||(i=Promise.resolve().then(q)),i),f=Object.getPrototypeOf(o)===Proxy.prototype?o:I(o,p),x=(s,d,u)=>{if(d)for(let n in d){let c=d[n];if(c){let m=typeof c;if(m==="function"){let l=u==null?void 0:u[n];if((l==null?void 0:l.f)!==c){l&&s.removeEventListener(n,l);let a=d[n]=N=>{c(N,f)};a.f=c,s.addEventListener(n,a)}}else if(n==="class"){if(typeof c=="object")if(Array.isArray(c))c=c.join(" ");else{let l="";for(let a in c)c[a]&&(l+=" "+a);c=l}s.className=c}else if(n==="style"&&typeof c=="object"){for(let l in c){let a=c[l];l.includes("-",1)?s.style.setProperty(l,a):s.style[l]=a}if(u&&u[n]&&typeof u[n]=="object"&&!Array.isArray(u[n]))for(let l in u[n])c[l]||(l.includes("-",1)?s.style.removeProperty(l):s.style[l]=null)}else c===!0?c="true":m!=="string"&&(c=c.toString()),s.setAttribute(n,c)}}if(u)for(let n in u){let c=u[n];(!d||!d[n])&&(typeof c=="function"?s.removeEventListener(n,u[n]):n==="class"?s.className="":n==="style"?s.style.cssText="":n==="value"?s.value="":s.removeAttribute(n))}},T=new WeakMap,y=new WeakMap,h=(s,d,u)=>{let n=0,c=0;if(d)for(;n<d.length;n++){let m=d[n];if(m.r){let a=T.get(m.r);(!a||!D(a.m,m.m))&&(a={c:k(m.r(f,m.m)),m:m.m,r:m.r}),y.set(m.r,a),d.splice(n,1,...M(a.c)),n--;continue}let l=!1;if(u)for(let a=n-c;a<u.length;a++){let N=u[a];if(N.t&&m.t===N.t||!N.t&&!m.t){l=!0,n!==a+c&&(s.insertBefore(s.childNodes[a+c],s.childNodes[n]),u.splice(n-c,0,u.splice(a,1)[0])),m.t?(x(s.childNodes[n],m.a,N.a),h(s.childNodes[n],m.c,N.c)):N!==m&&(s.childNodes[n].textContent=m);break}}if(!l){let a;m.t?(a=document.createElement(m.t),x(a,m.a),h(a,m.c)):a=document.createTextNode(m),s.insertBefore(a,s.childNodes[n]),c++}}if(u){let m=u.length+c;if(m>=n)for(let l=m-1;l>=n;l--)s.childNodes[l].remove()}},U=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof t=="string")try{t=JSON.parse(t)}catch(s){t=null}t||(t=Q(U));let j=!0,E=!1,q=()=>{if(j&&!E&&i){E=!0,i=null;let s=k(r(f));h(U,s,t),t=s,T=y,y=new WeakMap,E=!1}};return p(),q(),[p,()=>{if(j){j=!1;for(let s=U.childNodes.length-1;s>=0;s--)U.childNodes[s].remove()}},f]};export{Z as conditional,Y as factory,oe as fctory,ne as identifier,se as match,ae as memo,_e as mount,de as nde,P as node};
