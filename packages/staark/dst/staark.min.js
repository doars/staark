var P=t=>{var o;return(o=E(t))!=null?o:[]},E=t=>t?Array.isArray(t)?t:[t]:void 0;var $=(t,o,e)=>{let r=t?o:e;return typeof r=="function"&&(r=r()),P(r)};var T="n";var F=(t,o,e)=>((typeof o!="object"||o._===T||Array.isArray(o))&&(e=o,o=void 0),{_:T,a:o,c:E(e),t:t.toUpperCase()});var de=new Proxy({},{get:(t,o)=>{if(t[o])return t[o];let e=(o[0]+o.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[o]=(r,u)=>F(e,r,u)}});var O="]",z="[",J=".",K="=",B="#",w="'",_='"';var U=t=>{let o=t.length,e=0,r="",u={},i="",s=!0,N=3,m=()=>{if(i){switch(N){case 0:u[i]=s===!0?!0:s,s=!0;break;case 1:if(!u.class){u.class=i;break}u.class+=" "+i;break;case 2:u.id=i;break;case 3:r=i;break}i=""}},f,C,h=()=>{for(C=0;e<o;){if(f=t[e],e++,f===K){s="",f=t[e];let M=f===_,k=f===w;for((M||k)&&(s+=f,e++);e<o;){if(f=t[e],M&&f===_||k&&f===w){s+=f,e++;break}else if(!M&&!k&&f===O)break;s+=f,e++}for((s[0]===_&&s[s.length-1]===_||s[0]===w&&s[s.length-1]===w)&&(s=s.substring(1,s.length-1));e<o&&(f=t[e],e++,f!==O););break}else if(f===z){C++;continue}else if(f===O){if(C--,C<0)break;continue}i+=f}m()};for(;e<o;){if(f=t[e],e++,f===B){m(),N=2;continue}else if(f===J){m(),N=1;continue}else if(f===z){m(),N=0,h();continue}i+=f}return[r,u]};var ge=new Proxy({},{get:(t,o)=>{if(t[o])return t[o];let e=(o[0]+o.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[o]=(r,u)=>{let i;if(r){let[s,N]=U(r);i=N}return F(e,i,u)}}});var Y=0,Ae=t=>t+"-"+Y++;var Ee=(t,o)=>{let e;return o&&t in o&&o[t]&&(e=o[t],typeof e=="function"&&(e=e())),P(e)};var Re=(t,o)=>({_:T,r:t,m:o});var je=(t,o)=>{let[e,r]=U(t);return{_:T,a:r,c:E(o),t:e.toUpperCase()}};var D=t=>{if(typeof t=="object"){let o=Array.isArray(t)?[]:{};for(let e in t)o[e]=D(t[e]);return o}return t};var H=(t,o)=>{if(t===o)return!0;if(!t||!o||typeof t!="object"||typeof o!="object")return t===o;if(t instanceof Date)return o instanceof Date&&t.getTime()===o.getTime();let e=Object.keys(t);return e.length===Object.keys(o).length&&e.every(r=>H(t[r],o[r]))};var I=t=>{var e;let o=[];for(let r of t.childNodes)if(r instanceof Text)o.push((e=r.textContent)!=null?e:"");else{let u=r,i={};for(let s of u.attributes)i[s.name]=s.value;o.push(F(r.nodeName,i,I(r)))}return o};var Z=(t,o)=>{let e=new WeakMap,r={deleteProperty:(i,s)=>{if(Reflect.has(i,s)){let N=i[s];typeof N=="object"&&N&&e.has(N)&&e.get(N).revoke();let m=Reflect.deleteProperty(i,s);return m&&o(),m}return!0},set:(i,s,N)=>{let m=i[s];return m!==N&&(typeof m=="object"&&m&&e.has(m)&&e.get(m).revoke(),i[s]=typeof N=="object"&&N?e.has(N)?e.get(N).proxy:u(N):N,o()),!0}},u=i=>{if(e.has(i))return e.get(i).proxy;for(let N in i){let m=i[N];m&&typeof m=="object"&&(i[N]=u(m))}let s=Proxy.revocable(i,r);return e.set(i,s),s.proxy};return u(t)};var q=/[A-Z]+(?![a-z])|[A-Z]/g,V=(t,o)=>(o?"-":"")+t,qe=(t,o,e,r)=>{typeof e=="string"&&(e=JSON.parse(e)),e!=null||(e={});let u=null,i=()=>(u||(u=Promise.resolve().then(W)),u),s=Object.getPrototypeOf(e)===Proxy.prototype?e:Z(e,i),N=(c,A,a)=>{if(A)for(let p in A){let n=A[p];if(n){let x=typeof n;if(x==="function"){let y=a==null?void 0:a[p];if((y==null?void 0:y.f)!==n.f){y&&c.removeEventListener(p,y);let l=A[p]=j=>{n(j,s)};l.f=n,c.addEventListener(p,l)}}else if(p==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let y="";for(let l in n)n[l]&&(y+=" "+l);n=y}c.className=n}else if(p==="style"&&typeof n=="object"){for(let y in n){let l=n[y];y=y.replace(q,V).toLowerCase(),Array.isArray(l)&&(l=l.join(" ")),c.style.setProperty(y,l)}if(a&&a[p]&&typeof a[p]=="object"&&!Array.isArray(a[p]))for(let y in a[p])y in n||(y=y.replace(q,V).toLowerCase(),c.style.removeProperty(y))}else n===!0?n="true":x!=="string"&&(n=n.toString()),c.setAttribute(p,n)}}if(a)for(let p in a){let n=a[p];(!A||!A[p])&&(typeof n=="function"?c.removeEventListener(p,a[p]):p==="class"?c.className="":p==="style"?c.style.cssText="":c.removeAttribute(p))}},m=new WeakMap,f=new WeakMap,C=(c,A,a,p)=>{var l,j,G;let n=0,x=0;if(A)for(;n<A.length;n++){let d=A[n];if(d.r){let b=m.get(d.r);(!b||!H(b.m,d.m))&&(b={c:E(d.r(s,d.m)),m:d.m,r:d.r}),f.set(d.r,b),A.splice(n,1,...D(b.c)),n--;continue}let Q=!1;if(a)for(let b=n-x;b<a.length;b++){let g=a[b];if(g.t&&d.t===g.t||!g.t&&!d.t){Q=!0,n!==b+x&&(c.insertBefore(c.childNodes[b+x],c.childNodes[n]),a.splice(n-x,0,...a.splice(b,1))),d.t?(N(c.childNodes[n],d.a,g.a),C(c.childNodes[n],d.c,g.c,g)):g!==d&&(c.childNodes[n].textContent=d);break}}if(!Q){let b;if(d.t){b=document.createElement(d.t),d.a&&N(b,d.a),d.c&&C(b,d.c);let g=(R,L,v)=>{v&&(!L||L.t)?R.insertAdjacentElement(v,b):R.parentNode.insertBefore(b,R)};n===0?g(c,p,"afterbegin"):((l=a==null?void 0:a.length)!=null?l:0)+x>n?g(c.childNodes[n]):g(c,p,"beforeend")}else{let g=(R,L,v)=>{v&&(!L||L.t)?R.insertAdjacentText(v,d):R.parentNode.insertBefore(document.createTextNode(d),R)};n===0?g(c,p,"afterbegin"):((j=a==null?void 0:a.length)!=null?j:0)+x>n?g(c.childNodes[n]):g(c,p,"beforeend")}x++}}let y=((G=a==null?void 0:a.length)!=null?G:0)+x;if(y>=n)for(let d=y-1;d>=n;d--)c.childNodes[d].remove()},h=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof r=="string")try{r=JSON.parse(r)}catch(c){r=void 0}r!=null||(r=I(h));let M=!0,k=!1,W=()=>{if(M&&!k&&u){k=!0,u=null;let c=E(o(s));C(h,c,r),r=c,m=f,f=new WeakMap,k=!1}};return i(),W(),[i,()=>{if(M){M=!1;for(let c=h.childNodes.length-1;c>=0;c--)h.childNodes[c].remove()}},s]};export{$ as conditional,de as factory,ge as fctory,Ae as identifier,Ee as match,Re as memo,qe as mount,je as nde,F as node};
//# sourceMappingURL=staark.min.js.map
