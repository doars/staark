"use strict";(()=>{var q=Object.defineProperty,H=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var v=(t,e,r)=>e in t?q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T=(t,e)=>{for(var r in e||(e={}))S.call(e,r)&&v(t,r,e[r]);if(L)for(var r of L(e))F.call(e,r)&&v(t,r,e[r]);return t},R=(t,e)=>H(t,D(e));var w=function(t,e){let r=window;for(let o=0;o<t.length-1;o++)(typeof r[t[o]]!="object"||!Array.isArray(r[t[o]]))&&(r[t[o]]={}),r=r[t[o]];r[t[t.length-1]]=e};var b=Symbol();var u=(t,e,r)=>((typeof e!="object"||e._===b||Array.isArray(e))&&(r=e,e=void 0),{_:b,a:e,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var fe=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,a)=>u(r,o,a)}});var k="]",M="[",z=".",G="=",V="#",g="'",N='"';var E=t=>{let e=t.length,r=0,o="",a={},s="",i=!0,d=3,l=()=>{if(s){switch(d){case 0:a[s]=i===!0?!0:i,i=!0;break;case 1:if(!a.class){a.class=s;break}a.class+=" "+s;break;case 2:a.id=s;break;case 3:o=s;break}s=""}},n,c,f=()=>{for(c=0;r<e;){if(n=t[r],r++,n===G){i="",n=t[r];let p=n===N,y=n===g;for((p||y)&&(i+=n,r++);r<e;){if(n=t[r],p&&n===N||y&&n===g){i+=n,r++;break}else if(!p&&!y&&n===k)break;i+=n,r++}for((i[0]===N&&i[i.length-1]===N||i[0]===g&&i[i.length-1]===g)&&(i=i.substring(1,i.length-1));r<e&&(n=t[r],r++,n!==k););break}else if(n===M){c++;continue}else if(n===k){if(c--,c<0)break;continue}s+=n}l()};for(;r<e;){if(n=t[r],r++,n===V){l(),d=2;continue}else if(n===z){l(),d=1;continue}else if(n===M){l(),d=0,f();continue}s+=n}return[o,a]};var Ne=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,a)=>{let s;if(o){let[i,d]=E(o);s=d}return u(r,s,a)}}});var j="[]",I=t=>{t.multiple&&t.name&&!t.name.endsWith(j)&&(t.name+=j)};var O=Symbol(),m=(t,e,r)=>((typeof e!="object"||e._===O||Array.isArray(e))&&(r=e,e=void 0),{_:O,a:e,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var Be=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,a)=>m(r,o,a)}}),C="]",_="[",Z=".",K="=",J="#",h="'",x='"',W=t=>{let e=t.length,r=0,o="",a={},s="",i=!0,d=3,l=()=>{if(s){switch(d){case 0:a[s]=i===!0?!0:i,i=!0;break;case 1:if(!a.class){a.class=s;break}a.class+=" "+s;break;case 2:a.id=s;break;case 3:o=s;break}s=""}},n,c,f=()=>{for(c=0;r<e;){if(n=t[r],r++,n===K){i="",n=t[r];let p=n===x,y=n===h;for((p||y)&&(i+=n,r++);r<e;){if(n=t[r],p&&n===x||y&&n===h){i+=n,r++;break}else if(!p&&!y&&n===C)break;i+=n,r++}for((i[0]===x&&i[i.length-1]===x||i[0]===h&&i[i.length-1]===h)&&(i=i.substring(1,i.length-1));r<e&&(n=t[r],r++,n!==C););break}else if(n===_){c++;continue}else if(n===C){if(c--,c<0)break;continue}s+=n}l()};for(;r<e;){if(n=t[r],r++,n===J){l(),d=2;continue}else if(n===Z){l(),d=1;continue}else if(n===_){l(),d=0,f();continue}s+=n}return[o,a]},et=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,a)=>{let s;if(o){let[i,d]=W(o);s=d}return m(r,s,a)}}}),X=0,P=()=>"-"+X++;var Y=" staark-component-input";var A=(t,e,r)=>{t=Object.assign({value:e.value||""},t),e.class=(e.class||"")+Y,e.type||(e.type="text"),e.value=t.value,I(e);let o=e.change;e.change=s=>{t.value=s.target.value,o&&o(s)},typeof r=="string"&&(r={label:r}),r&&!r.append&&(e.type==="checkbox"||e.type==="radio")&&(r.append=!0);let a=[m("input",e)];if(r){e.id||(e.id="auto-id"+P());let s={for:e.id};(e.type==="checkbox"||e.type==="radio")&&(s.tabindex=0,s.click=d=>{d.target.previousSibling.focus()});let i=m("label",s,r.label);r&&r.append?a.push(i):a.unshift(i)}return a};var U=(t,e,r)=>{var i,d,l;t=Object.assign({query:e.searchValue,selected:e.selected?[...e.selected]:[]},t);let o=[],a={appendLabel:!0,multiple:e.multiple,name:e.name,type:e.multiple?"checkbox":"radio",change:n=>{n.target.focus();let c=n.target;if(c.checked)e.multiple?t.selected.indexOf(c.value)<0&&t.selected.push(c.value):t.selected=[c.value];else{let f=t.selected.indexOf(c.value);f>=0&&t.selected.splice(f,1)}e.selectedChange&&e.selectedChange([...t.selected])}};for(let n=0;n<r.length;n++){let c=r[n];if(t.query&&(c.label&&c.label.indexOf(t.query)<0||c.value.indexOf(t.query)<0))continue;let f=R(T({},a),{value:c.value});t.selected.indexOf(c.value)>=0&&(f.checked=!0),c.id&&(f.id=c.id),o.push(...A(f,(i=c.label)!=null?i:c.value))}if(e.selectNoneLabel&&t.selected.length>0&&o.unshift(u("button",{click:()=>{t.selected=[],e.selectedChange&&e.selectedChange([...t.selected])},type:"button"},e.selectNoneLabel)),e.selectAllLabel&&t.selected.length!==r.length&&o.unshift(u("button",{click:()=>{let n=[];for(let c of r)t.selected.push(c.value);t.selected=n,e.selectedChange&&e.selectedChange(n)},type:"button"},e.selectAllLabel)),e.search&&(typeof e.search=="boolean"||r.length>=e.search)){t.query&&o.unshift(u("button",{click:c=>{c.target.previousSibling.focus(),t.query=null,e.searchChange&&e.searchChange(t.query)},type:"button"},(d=e.searchResetLabel)!=null?d:"\xD7"));let n={type:"search",value:t.query,keyup:c=>{t.query=c.target.value,e.searchChange&&e.searchChange(t.query)}};e.searchPlaceholder&&(n.placeholder=e.searchPlaceholder),o.unshift(...A(n,e.searchLabel))}if(o=[u("div",{},o)],e.preview){let n={readonly:!0,tabindex:-1,type:"text"},c=[];for(let f of r)t.selected.indexOf(f.value)>=0&&c.push((l=f.label)!=null?l:f.value);n.value=c.join(", "),o.unshift(...A(n,e.previewLabel))}e.legend&&o.unshift(u("legend",{click:n=>{n.target.parentNode.focus()}},e.legend));let s={tabindex:0};return e.class&&(s.class=e.class),u("fieldset",s,o)};w(["staark","components"],{inputList:U});})();
//# sourceMappingURL=staark-components.iife.min.js.map
