(()=>{var K=(m,A)=>{let x=window;for(let q=0;q<m.length-1;q++){if(typeof x[m[q]]!=="object"||!Array.isArray(x[m[q]]))x[m[q]]={};x=x[m[q]]}x[m[m.length-1]]=A};var C=(m)=>{if(m&&typeof m==="object"){let A=Array.isArray(m)?[]:{};for(let x in m)A[x]=C(m[x]);return A}return m};var H=(m,A,x)=>{let q=m;for(let I=0;I<A.length-1;I++){let B=A[I];if(!(B in q))q[B]={};q=q[B]}q[A[A.length-1]]=C(x)},L=(m,A)=>{let x=m;for(let q=0;q<A.length-1;q++)if(x=x[A[q]],!x)return;if(Array.isArray(x))x.splice(parseInt(A[A.length-1]),1);else delete x[A[A.length-1]]},E=(m,A,x=[])=>{let q=[];for(let I in m){let B=[...x,I];if(!(I in A))q.unshift({type:"delete",path:B,old:C(m[I])});else if(typeof m[I]==="object"&&typeof A[I]==="object")q.unshift(...E(m[I],A[I],B));else if(m[I]!==A[I])q.unshift({type:"set",path:B,old:C(m[I]),new:C(A[I])})}for(let I in A)if(!(I in m))q.unshift({type:"set",path:[...x,I],new:C(A[I])});return q},F=(m,A)=>{for(let x of A)if(x.type==="set")H(m,x.path,x.new);else if(x.type==="delete")L(m,x.path);return m},G=(m,A)=>{for(let x of A)if(x.type==="set")if(x.old===void 0)L(m,x.path);else H(m,x.path,x.old);else if(x.type==="delete")H(m,x.path,x.old);return m};var M=function(m,A){m=C(m),A=Object.assign({maximumHistory:50},A);let x=[],q=[];return{get:()=>{return C(m)},set:(I)=>{I=C(I);let B=E(m,I);if(B.length>0){if(x.push(B),A.maximumHistory&&x.length>A.maximumHistory)for(let J=x.length-A.maximumHistory;J>0;J--)x.shift();q.splice(0)}return m=I,C(m)},undo:()=>{if(x.length>0){let I=x.pop();if(I){if(q.push(I),A.maximumHistory&&q.length>A.maximumHistory)for(let B=q.length-A.maximumHistory;B>0;B--)q.shift();m=G(m,I)}}return C(m)},redo:()=>{if(q.length>0){let I=q.pop();if(I){if(x.push(I),A.maximumHistory&&x.length>A.maximumHistory)for(let B=x.length-A.maximumHistory;B>0;B--)x.shift();m=F(m,I)}}return C(m)}}};K(["tiedliene"],{cloneRecursive:C,determineDiff:E,applyDiff:F,revertDiff:G,manageState:M});})();

//# debugId=6D4D2F1007D9A35C64756E2164756E21
