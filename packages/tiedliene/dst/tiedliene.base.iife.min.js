(()=>{var c=(t,n)=>{let e=window;for(let i=0;i<t.length-1;i++)(typeof e[t[i]]!="object"||!Array.isArray(e[t[i]]))&&(e[t[i]]={}),e=e[t[i]];e[t[t.length-1]]=n};var f=t=>{if(typeof t=="object"){let n=Array.isArray(t)?[]:{};for(let e in t)n[e]=f(t[e]);return n}return t};var s=(t,n,e)=>{let i=t;for(let o=0;o<n.length-1;o++){let r=n[o];r in i||(i[r]={}),i=i[r]}i[n[n.length-1]]=f(e)},y=(t,n)=>{let e=t;for(let i=0;i<n.length-1;i++)if(e=e[n[i]],!e)return;Array.isArray(e)?e.splice(parseInt(n[n.length-1]),1):delete e[n[n.length-1]]},l=(t,n,e=[])=>{let i=[];for(let o in t){let r=[...e,o];o in n?typeof t[o]=="object"&&typeof n[o]=="object"?i.unshift(...l(t[o],n[o],r)):t[o]!==n[o]&&i.unshift({type:"set",path:r,old:f(t[o]),new:f(n[o])}):i.unshift({type:"delete",path:r,old:f(t[o])})}for(let o in n)o in t||i.unshift({type:"set",path:[...e,o],new:f(n[o])});return i},p=(t,n)=>{for(let e of n)e.type==="set"?s(t,e.path,e.new):e.type==="delete"&&y(t,e.path);return t},d=(t,n)=>{for(let e of n)e.type==="set"?e.old===void 0?y(t,e.path):s(t,e.path,e.old):e.type==="delete"&&s(t,e.path,e.old);return t};c(["tiedliene"],{determineDiff:l,applyDiff:p,revertDiff:d});})();
