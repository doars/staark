(()=>{var I=(m,w)=>{let i=window;for(let D=0;D<m.length-1;D++){if(typeof i[m[D]]!=="object"||!Array.isArray(i[m[D]]))i[m[D]]={};i=i[m[D]]}i[m[m.length-1]]=w};var j=(m)=>{if(typeof m==="object"){let w=Array.isArray(m)?[]:{};for(let i in m)w[i]=j(m[i]);return w}return m};var A=(m,w,i)=>{let D=m;for(let x=0;x<w.length-1;x++){let o=w[x];if(!(o in D))D[o]={};D=D[o]}D[w[w.length-1]]=j(i)},q=(m,w)=>{let i=m;for(let D=0;D<w.length-1;D++)if(i=i[w[D]],!i)return;if(Array.isArray(i))i.splice(parseInt(w[w.length-1]),1);else delete i[w[w.length-1]]},C=(m,w,i=[])=>{let D=[];for(let x in m){let o=[...i,x];if(!(x in w))D.unshift({type:"delete",path:o,old:j(m[x])});else if(typeof m[x]==="object"&&typeof w[x]==="object")D.unshift(...C(m[x],w[x],o));else if(m[x]!==w[x])D.unshift({type:"set",path:o,old:j(m[x]),new:j(w[x])})}for(let x in w)if(!(x in m))D.unshift({type:"set",path:[...i,x],new:j(w[x])});return D},z=(m,w)=>{for(let i of w)if(i.type==="set")A(m,i.path,i.new);else if(i.type==="delete")q(m,i.path);return m},B=(m,w)=>{for(let i of w)if(i.type==="set")if(i.old===void 0)q(m,i.path);else A(m,i.path,i.old);else if(i.type==="delete")A(m,i.path,i.old);return m};I(["tiedliene"],{determineDiff:C,applyDiff:z,revertDiff:B});})();
