"use strict";(()=>{var Q=Object.defineProperty;var V=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var E=(e,s,r)=>s in e?Q(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,x=(e,s)=>{for(var r in s||(s={}))$.call(s,r)&&E(e,r,s[r]);if(V)for(var r of V(s))J.call(s,r)&&E(e,r,s[r]);return e};var b=(e,s,r)=>new Promise((p,u)=>{var a=t=>{try{n(r.next(t))}catch(m){u(m)}},i=t=>{try{n(r.throw(t))}catch(m){u(m)}},n=t=>t.done?p(t.value):Promise.resolve(t.value).then(a,i);n((r=r.apply(e,s)).next())});var F=function(e,s){let r=window;for(let p=0;p<e.length-1;p++)(typeof r[e[p]]!="object"||!Array.isArray(r[e[p]]))&&(r[e[p]]={}),r=r[e[p]];r[e[e.length-1]]=s};var C=e=>{if(typeof e=="object")if(Array.isArray(e)){let s=[];for(let r=0;r<e.length;r++)s.push(C(e[r]));e=s}else{let s={};for(let r in e)s[r]=C(e[r]);e=s}return e};var j=e=>b(void 0,null,function*(){return e>0?new Promise(s=>setTimeout(s,e)):null});var I=e=>e.split(";")[0].trim().toLowerCase(),Z=e=>{let s=e.match(/\.([^./?]+)(?:[?#]|$)/);return s?s[1].toLowerCase():null},Y=function(e,s,r){let p=s.get("Content-Type");if(p)return I(p);if(r&&r.Accept){let a=r.Accept.split(",");for(let i of a)if(i.trim()!=="*/*")return I(i)}let u=Z(e);return u||""};var G={method:"get",retryCodes:[429,503,504],retryDelay:500},L=e=>{e=x(x({},G),C(e));let s=0,r=0,p=0,u=null,a=t=>b(void 0,null,function*(){let m=Date.now(),h=t-(m-s);s=m+(h>0?h:0),yield j(h)}),i=t=>new Promise(m=>{u&&clearTimeout(u),u=setTimeout(m,t)}),n=t=>b(void 0,null,function*(){if(t.maxRequests!==void 0&&p>=t.maxRequests)return[new Error("Maximum request limit reached"),null,null];p++;let m={cache:t.cache,credentials:t.credentials,headers:t.headers,method:t.method,mode:t.mode,redirect:t.redirect,body:t.body?JSON.stringify(t.body):void 0},h=(t.domain||"")+(t.path||"");if(t.queryParams&&(h+="?"+new URLSearchParams(t.queryParams).toString()),t.timeout){let l=t.abort||new AbortController;m.signal=l.signal,setTimeout(()=>l.abort(),t.timeout)}let o=()=>b(void 0,null,function*(){var g;let l=yield((g=t.fetch)!=null?g:fetch)(h,m);if(!l.ok)return[new Error("Invalid response"),l,null];try{let y,T=!1,O=t.type||Y(h,l.headers,t.headers);if(t.parsers){for(let R of t.parsers)if(T=R.types.includes(O),T){y=yield R.parser(l,t,O);break}}if(!T)switch(O.toLowerCase()){case"arraybuffer":y=yield l.arrayBuffer();break;case"blob":y=yield l.blob();break;case"formdata":y=yield l.formData();break;case"text/plain":case"text":case"txt":y=yield l.text();break;case"text/html-partial":case"html-partial":y=yield l.text();let R=document.createElement("template");R.innerHTML=y,y=R.content.childNodes;break;case"text/html":case"html":y=yield l.text(),y=new DOMParser().parseFromString(y,"text/html");break;case"application/json":case"text/json":case"json":y=yield l.json();break;case"image/svg+xml":case"svg":y=yield l.text(),y=new DOMParser().parseFromString(y,"image/svg+xml");break;case"application/xml":case"text/xml":case"xml":y=yield l.text(),y=new DOMParser().parseFromString(y,"application/xml");break}return[null,l,y]}catch(y){return[y||new Error("Thrown parsing error is falsy"),l,null]}}),f=()=>b(void 0,null,function*(){var T;let l=0,g=t.retryAttempts||0,y=t.retryDelay||0;for(;l<g;){let[O,R,A]=yield o();if(!O)return[O,R,A];if(!((T=t.retryCodes)!=null&&T.includes(R.status||200)))return[new Error("Invalid status code"),R,A];if(l++,l>=g)return[new Error("Too many retry attempts"),R,A];let P=y*Math.pow(2,l-1),D=R.headers.get("Retry-After");if(D){let N=parseInt(D,10);if(!isNaN(N))P=Math.max(P,N*1e3);else{let S=new Date(D).getTime();if(!isNaN(S)){let _=Date.now();P=Math.max(P,S-_)}}}yield j(P)}return o()}),[d,c,w]=yield f();return c.ok?[d,c,w]:[new Error(c.statusText),c,w]});return t=>b(void 0,null,function*(){let m=x(x({},e),C(t));e.headers&&(m.headers=x(x({},e.headers),m.headers)),m.debounce&&(yield i(m.debounce)),m.delay&&(yield j(m.delay)),m.throttle&&(yield a(m.throttle)),m.maxConcurrency&&r>=m.maxConcurrency&&(yield new Promise(o=>{let f=null,d=()=>{r>=m.maxConcurrency?f=requestAnimationFrame(d):(f&&clearInterval(f),o(null))};f=requestAnimationFrame(d)})),r++;let h=yield n(m);return r--,h})};var k={},M=(e={})=>(p,...u)=>b(void 0,[p,...u],function*(s,r={}){var m,h;if(r.cache==="no-store")return yield fetch(s,r);let a=(m=e.name)!=null?m:"vroagn-cache",i=null;k[a]?i=k[a]:i=k[a]=yield caches.open(a);let n=()=>b(void 0,null,function*(){let o=yield fetch(s,r),f=o.headers.get("Cache-Control"),d=(f==null?void 0:f.includes("no-store"))||!1;if(o.status===200&&!d){let c=o.clone(),w=new Headers(c.headers);w.set("date",new Date().toUTCString());let l=new Response(c.body,{status:c.status,statusText:c.statusText,headers:w});yield i.put(s,l)}return o});if(r.cache)switch(r.cache){case"reload":return yield i.delete(s),yield n();case"no-cache":{let o=yield i.match(s);if(o){let f=o.headers.get("Cache-Control");if(f&&f.includes("no-cache"))return yield i.delete(s),yield n()}return yield n()}case"force-cache":{let o=yield i.match(s);return o||(yield n())}case"only-if-cached":{let o=yield i.match(s);if(!o)throw new Error("Request failed because no cached response is available");return o}default:break}let t=yield i.match(s);if(t){let o=t.headers.get("Cache-Control"),f=t.headers.get("Expires");if(o||f){if(o){let d=o.includes("no-store"),c=o.includes("no-cache"),w=o.match(/max-age=(\d+)/),l=w?parseInt(w[1]):null;if(d||c)return yield i.delete(s),n();if(l!==null){let g=new Date(t.headers.get("date")||0).getTime();if((Date.now()-g)/1e3>l)return yield i.delete(s),n()}}if(f){let d=new Date(f).getTime();if(Date.now()>d)return yield i.delete(s),n()}}else{let d=t.headers.get("date");if(d){let c=new Date(d).getTime();if(Date.now()-c>((h=e.ttl)!=null?h:36e5))return yield i.delete(s),n()}}return t}return n()});var H=["tsv","text/tab-separated-values"],z=e=>({types:(e==null?void 0:e.types)||["csv","text/csv",...H],parser:(s,r,p)=>b(void 0,null,function*(){let u=x({columnDelimiter:H.includes(p)?"	":",",rowDelimiter:"\n",escapeCharacter:'"'},e),a=yield s.text(),i=[],n=[],t="",m=!1;for(let h=0;h<a.length;h++){let o=a[h],f=a[h+1];o===u.escapeCharacter?f===u.escapeCharacter&&m?(t+=u.escapeCharacter,h++):m=!m:o===u.columnDelimiter&&!m?(n.push(t),t=""):o===u.rowDelimiter&&!m?(n.push(t),t="",i.push(n),n=[]):t+=o}if(t&&(n.push(t),t=""),n.length>0&&i.push(n),u.hasHeaders){let h=i[0];return i.slice(1).map(o=>h.reduce((f,d,c)=>(f[d]=o[c]||"",f),{}))}return i})});var K=(e={})=>({types:e.types||["ini"],parser:(s,r)=>b(void 0,null,function*(){let p=yield s.text(),u={},a=p.split(/\r?\n/).map(n=>n.trim()),i="";for(let n of a)if(!(n===""||n.startsWith(";")||n.startsWith("#")))if(n.startsWith("[")&&n.endsWith("]"))i=n.slice(1,-1).trim(),u[i]||(u[i]={});else{let[t,...m]=n.split("="),h=m.join("=").trim();i===""?(u.global||(u.global={}),u.global[t.trim()]=h):u[i][t.trim()]=h}return u})});var W=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e==="true"||e==="false"?e==="true":isNaN(Number(e))?e.match(/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/)?new Date(e):e:Number(e),X=e=>{let s={},r="",p="",u=!1,a="",i=!1;for(let n=1;n<e.length-1;n++){let t=e[n];!u&&(t==='"'||t==="'")?(u=!0,a=t):u&&t===a?u=!1:!u&&t==="="?i=!0:!u&&t===","?(s[r.trim()]=W(p.trim()),r="",p="",i=!1):i?p+=t:r+=t}return r&&(s[r.trim()]=W(p.trim())),s},U=(e={})=>({types:e.types||["toml","application/toml"],parser:(s,r)=>b(void 0,null,function*(){let p=yield s.text(),u={},a=u,i=null,n=null,t=null,m=p.split(/\r?\n/);for(let h=0;h<m.length;h++){let o=m[h].trim();if(!(o===""||o.startsWith("#"))){if(n!==null){o.endsWith(t)?(n+=o.slice(0,-t.length),a[Object.keys(a).pop()]=n,n=null,t=null):n+=o+"\n";continue}if(o.startsWith("[")&&o.endsWith("]")){let f=o.slice(1,-1).trim();a=u;let d=f.split(".");for(let c of d)a[c]||(a[c]={}),a=a[c];i=null}else if(o.startsWith("[[")&&o.endsWith("]]")){let d=o.slice(2,-2).trim().split("."),c=u;for(let g=0;g<d.length-1;g++)c[d[g]]||(c[d[g]]={}),c=c[d[g]];let w=d[d.length-1];c[w]||(c[w]=[]);let l={};c[w].push(l),a=l,i=null}else{let[f,...d]=o.split("="),c=d.join("=").trim();c.startsWith('"""')||c.startsWith("'''")?(t=c.slice(0,3),n=c.slice(3),c.endsWith(t)&&(a[f.trim()]=n.slice(0,-3),n=null,t=null)):c.startsWith("{")&&c.endsWith("}")?a[f.trim()]=X(c):c.startsWith("[")&&!c.endsWith("]")?(i=[],c=c.slice(1).trim()):i!==null?c.endsWith("]")?(i.push(W(c.slice(0,-1).trim())),a[f.trim()]=i,i=null):i.push(W(c)):a[f.trim()]=W(c)}}}return u})});var q=(e,s)=>{if(e==="null"||e==="~")return null;if(e==="true")return!0;if(e==="false")return!1;if(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);if(!isNaN(Number(e)))return Number(e);if(e.startsWith("[")&&e.endsWith("]"))return e.slice(1,-1).split(",").map(r=>q(r.trim(),s));if(e.startsWith("*")){let r=e.slice(1).trim();return s[r]}if(e.includes("!!")){let[r,p]=e.split(" ");switch(r){case"!!int":return parseInt(p);case"!!float":return parseFloat(p);case"!!str":return p;case"!!bool":return p.toLowerCase()==="true";default:return p}}return e},B=(e={})=>({types:e.types||["yaml","application/yaml","text/yaml"],parser:(s,r)=>b(void 0,null,function*(){let p=(yield s.text()).split("\n"),u={},a=u,i=[u],n=0,t=null,m=[],h={};for(let o=0;o<p.length;o++){let f=p[o].trimEnd();if(f.trim().startsWith("#"))continue;let d=f.search(/\S/);if(t!==null)if(d>n){m.push(f.trim());continue}else a[t]=m.join("\n"),t=null,m=[];if(d>n)i.push(a),a=a[Object.keys(a).pop()];else if(d<n)for(;d<n;)i.pop(),a=i[i.length-1],n-=e.indentSize||2;if(n=d,f.trim()==="-"){if(!Array.isArray(a)){let g=Object.keys(a).pop();a[g]=[],a=a[g]}a.push({}),a=a[a.length-1];continue}let c=f.indexOf(":");if(c===-1)continue;let w=f.slice(0,c).trim(),l=f.slice(c+1).trim();if(l.startsWith("&")){let g=l.slice(1).split(" ")[0];l=l.slice(g.length+2).trim();let y=q(l,h);h[g]=y,a[w]=y}else if(l.startsWith("*")){let g=l.slice(1).trim();a[w]=h[g]}else l==="|"||l===">"?(t=w,n+=e.indentSize||2):l?a[w]=q(l,h):a[w]={}}return u})});F(["vroagn"],{create:L,cacheFetch:M,csvParser:z,iniParser:K,tomlParser:U,yamlParser:B});})();
//# sourceMappingURL=vroagn.iife.min.js.map
