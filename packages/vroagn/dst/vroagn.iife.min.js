"use strict";(()=>{var K=Object.defineProperty;var N=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var S=(e,n,r)=>n in e?K(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,w=(e,n)=>{for(var r in n||(n={}))Q.call(n,r)&&S(e,r,n[r]);if(N)for(var r of N(n))$.call(n,r)&&S(e,r,n[r]);return e};var g=(e,n,r)=>new Promise((f,o)=>{var s=t=>{try{i(r.next(t))}catch(l){o(l)}},a=t=>{try{i(r.throw(t))}catch(l){o(l)}},i=t=>t.done?f(t.value):Promise.resolve(t.value).then(s,a);i((r=r.apply(e,n)).next())});var E=function(e,n){let r=window;for(let f=0;f<e.length-1;f++)(typeof r[e[f]]!="object"||!Array.isArray(r[e[f]]))&&(r[e[f]]={}),r=r[e[f]];r[e[e.length-1]]=n};var q=e=>{if(typeof e=="object")if(Array.isArray(e)){let n=[];for(let r=0;r<e.length;r++)n.push(q(e[r]));e=n}else{let n={};for(let r in e)n[r]=q(e[r]);e=n}return e};var W=e=>g(void 0,null,function*(){return e>0?new Promise(n=>setTimeout(n,e)):null});var Y=e=>e.split(";")[0].trim().toLowerCase(),B=e=>{let n=e.match(/\.([^./?]+)(?:[?#]|$)/);return n?n[1].toLowerCase():null},I=function(e,n,r){let f=n.get("Content-Type");if(f)return Y(f);if(r&&r.Accept){let s=r.Accept.split(",");for(let a of s)if(a.trim()!=="*/*")return Y(a)}let o=B(e);return o||""};var J={method:"get",retryCodes:[429,503,504],retryDelay:500},F=e=>{e=w(w({},J),q(e));let n=0,r=0,f=0,o=null,s=t=>g(void 0,null,function*(){let l=Date.now(),p=t-(l-n);n=l+(p>0?p:0),yield W(p)}),a=t=>new Promise(l=>{o&&clearTimeout(o),o=setTimeout(l,t)}),i=t=>g(void 0,null,function*(){if(t.maxRequests!==void 0&&f>=t.maxRequests)return[new Error("Maximum request limit reached"),null,null];f++;let l={cache:t.cache,credentials:t.credentials,headers:t.headers,method:t.method,mode:t.mode,redirect:t.redirect,body:t.body?JSON.stringify(t.body):void 0},p=(t.domain||"")+(t.path||"");if(t.queryParams&&(p+="?"+new URLSearchParams(t.queryParams).toString()),t.timeout){let c=t.abort||new AbortController;l.signal=c.signal,setTimeout(()=>c.abort(),t.timeout)}let d=()=>g(void 0,null,function*(){let c=yield fetch(p,l);if(!c.ok)return[new Error("Invalid response"),c,null];try{let m,x=!1,O=t.type||I(p,c.headers,t.headers);if(t.responseParsers){for(let R of t.responseParsers)if(x=R.types.includes(O),x){m=yield R.parser(c,t);break}}if(!x)switch(O.toLowerCase()){case"arraybuffer":m=yield c.arrayBuffer();break;case"blob":m=yield c.blob();break;case"formdata":m=yield c.formData();break;case"text/plain":case"text":case"txt":m=yield c.text();break;case"text/html-partial":case"html-partial":m=yield c.text();let R=document.createElement("template");R.innerHTML=m,m=R.content.childNodes[0];break;case"text/html":case"html":m=yield c.text(),m=new DOMParser().parseFromString(m,"text/html");break;case"application/json":case"text/json":case"json":m=yield c.json();break;case"image/svg+xml":case"svg":m=yield c.text(),m=new DOMParser().parseFromString(m,"image/svg+xml");break;case"application/xml":case"text/xml":case"xml":m=yield c.text(),m=new DOMParser().parseFromString(m,"application/xml");break}return[null,c,m]}catch(m){return[m||new Error("Thrown parsing error is falsy"),c,null]}}),y=()=>g(void 0,null,function*(){var O;let c=0,m=t.retryAttempts||0,x=t.retryDelay||0;for(;c<m;){let[R,P,C]=yield d();if(!R)return[R,P,C];if(!((O=t.retryCodes)!=null&&O.includes(P.status||200)))return[new Error("Invalid status code"),P,C];if(c++,c>=m)return[new Error("Too many retry attempts"),P,C];let T=x*Math.pow(2,c-1),k=P.headers.get("Retry-After");if(k){let D=parseInt(k,10);if(!isNaN(D))T=Math.max(T,D*1e3);else{let V=new Date(k).getTime();if(!isNaN(V)){let H=Date.now();T=Math.max(T,V-H)}}}yield W(T)}return d()}),[h,u,b]=yield y();return u.ok?[h,u,b]:[new Error(u.statusText),u,b]});return t=>g(void 0,null,function*(){let l=w(w({},e),q(t));e.headers&&(l.headers=w(w({},e.headers),l.headers)),l.debounce&&(yield a(l.debounce)),l.delay&&(yield W(l.delay)),l.throttle&&(yield s(l.throttle)),l.maxConcurrency&&r>=l.maxConcurrency&&(yield new Promise(d=>{let y=null,h=()=>{r>=l.maxConcurrency?y=requestAnimationFrame(h):(y&&clearInterval(y),d(null))};y=requestAnimationFrame(h)})),r++;let p=yield i(l);return r--,p})};var M=e=>(e=w({columnDelimiter:",",rowDelimiter:"\n",escapeCharacter:'"'},e),{types:e.types||["csv","text/csv"],parser:(n,r)=>g(void 0,null,function*(){let f=yield n.text(),o=[],s=[],a="",i=!1;for(let t=0;t<f.length;t++){let l=f[t],p=f[t+1];l===e.escapeCharacter?p===e.escapeCharacter&&i?(a+=e.escapeCharacter,t++):i=!i:l===e.columnDelimiter&&!i?(s.push(a),a=""):l===e.rowDelimiter&&!i?(s.push(a),a="",o.push(s),s=[]):a+=l}if(a&&(s.push(a),a=""),s.length>0&&o.push(s),e.hasHeaders){let t=o[0];return o.slice(1).map(l=>t.reduce((p,d,y)=>(p[d]=l[y]||"",p),{}))}return o})});var L=(e={})=>({types:e.types||["ini"],parser:(n,r)=>g(void 0,null,function*(){let f=yield n.text(),o={},s=f.split(/\r?\n/).map(i=>i.trim()),a="";for(let i of s)if(!(i===""||i.startsWith(";")||i.startsWith("#")))if(i.startsWith("[")&&i.endsWith("]"))a=i.slice(1,-1).trim(),o[a]||(o[a]={});else{let[t,...l]=i.split("="),p=l.join("=").trim();a===""?(o.global||(o.global={}),o.global[t.trim()]=p):o[a][t.trim()]=p}return o})});var j=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e==="true"||e==="false"?e==="true":isNaN(Number(e))?e.match(/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/)?new Date(e):e:Number(e),Z=e=>{let n={},r="",f="",o=!1,s="",a=!1;for(let i=1;i<e.length-1;i++){let t=e[i];!o&&(t==='"'||t==="'")?(o=!0,s=t):o&&t===s?o=!1:!o&&t==="="?a=!0:!o&&t===","?(n[r.trim()]=j(f.trim()),r="",f="",a=!1):a?f+=t:r+=t}return r&&(n[r.trim()]=j(f.trim())),n},z=(e={})=>({types:e.types||["toml","application/toml"],parser:(n,r)=>g(void 0,null,function*(){let f=yield n.text(),o={},s=o,a=null,i=null,t=null,l=f.split(/\r?\n/);for(let p=0;p<l.length;p++){let d=l[p].trim();if(!(d===""||d.startsWith("#"))){if(i!==null){d.endsWith(t)?(i+=d.slice(0,-t.length),s[Object.keys(s).pop()]=i,i=null,t=null):i+=d+"\n";continue}if(d.startsWith("[")&&d.endsWith("]")){let y=d.slice(1,-1).trim();s=o;let h=y.split(".");for(let u of h)s[u]||(s[u]={}),s=s[u];a=null}else if(d.startsWith("[[")&&d.endsWith("]]")){let h=d.slice(2,-2).trim().split("."),u=o;for(let m=0;m<h.length-1;m++)u[h[m]]||(u[h[m]]={}),u=u[h[m]];let b=h[h.length-1];u[b]||(u[b]=[]);let c={};u[b].push(c),s=c,a=null}else{let[y,...h]=d.split("="),u=h.join("=").trim();u.startsWith('"""')||u.startsWith("'''")?(t=u.slice(0,3),i=u.slice(3),u.endsWith(t)&&(s[y.trim()]=i.slice(0,-3),i=null,t=null)):u.startsWith("{")&&u.endsWith("}")?s[y.trim()]=Z(u):u.startsWith("[")&&!u.endsWith("]")?(a=[],u=u.slice(1).trim()):a!==null?u.endsWith("]")?(a.push(j(u.slice(0,-1).trim())),s[y.trim()]=a,a=null):a.push(j(u)):s[y.trim()]=j(u)}}}return o})});var A=(e,n)=>{if(e==="null"||e==="~")return null;if(e==="true")return!0;if(e==="false")return!1;if(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);if(!isNaN(Number(e)))return Number(e);if(e.startsWith("[")&&e.endsWith("]"))return e.slice(1,-1).split(",").map(r=>A(r.trim(),n));if(e.startsWith("*")){let r=e.slice(1).trim();return n[r]}if(e.includes("!!")){let[r,f]=e.split(" ");switch(r){case"!!int":return parseInt(f);case"!!float":return parseFloat(f);case"!!str":return f;case"!!bool":return f.toLowerCase()==="true";default:return f}}return e},U=(e={})=>({types:e.types||["yaml","application/yaml","text/yaml"],parser:(n,r)=>g(void 0,null,function*(){let f=(yield n.text()).split("\n"),o={},s=o,a=[o],i=0,t=null,l=[],p={};for(let d=0;d<f.length;d++){let y=f[d].trimEnd();if(y.trim().startsWith("#"))continue;let h=y.search(/\S/);if(t!==null)if(h>i){l.push(y.trim());continue}else s[t]=l.join("\n"),t=null,l=[];if(h>i)a.push(s),s=s[Object.keys(s).pop()];else if(h<i)for(;h<i;)a.pop(),s=a[a.length-1],i-=e.indentSize||2;if(i=h,y.trim()==="-"){if(!Array.isArray(s)){let m=Object.keys(s).pop();s[m]=[],s=s[m]}s.push({}),s=s[s.length-1];continue}let u=y.indexOf(":");if(u===-1)continue;let b=y.slice(0,u).trim(),c=y.slice(u+1).trim();if(c.startsWith("&")){let m=c.slice(1).split(" ")[0];c=c.slice(m.length+2).trim();let x=A(c,p);p[m]=x,s[b]=x}else if(c.startsWith("*")){let m=c.slice(1).trim();s[b]=p[m]}else c==="|"||c===">"?(t=b,i+=e.indentSize||2):c?s[b]=A(c,p):s[b]={}}return o})});E(["vroagn"],{create:F,csvParser:M,iniParser:L,tomlParser:z,yamlParser:U});})();
//# sourceMappingURL=vroagn.iife.min.js.map
