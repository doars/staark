"use strict";(()=>{var Y=Object.defineProperty;var j=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var W=(e,i,s)=>i in e?Y(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s,w=(e,i)=>{for(var s in i||(i={}))I.call(i,s)&&W(e,s,i[s]);if(j)for(var s of j(i))F.call(i,s)&&W(e,s,i[s]);return e};var g=(e,i,s)=>new Promise((u,m)=>{var n=t=>{try{l(s.next(t))}catch(c){m(c)}},o=t=>{try{l(s.throw(t))}catch(c){m(c)}},l=t=>t.done?u(t.value):Promise.resolve(t.value).then(n,o);l((s=s.apply(e,i)).next())});var q=function(e,i){let s=window;for(let u=0;u<e.length-1;u++)(typeof s[e[u]]!="object"||!Array.isArray(s[e[u]]))&&(s[e[u]]={}),s=s[e[u]];s[e[e.length-1]]=i};var R=e=>{if(typeof e=="object")if(Array.isArray(e)){let i=[];for(let s=0;s<e.length;s++)i.push(R(e[s]));e=i}else{let i={};for(let s in e)i[s]=R(e[s]);e=i}return e};var O=e=>g(void 0,null,function*(){return e>0?new Promise(i=>setTimeout(i,e)):null});var C=e=>e.split(";")[0].trim().toLowerCase(),L=e=>{let i=e.match(/\.([^./?]+)(?:[?#]|$)/);return i?i[1].toLowerCase():null},k=function(e,i,s){let u=i.get("Content-Type");if(u)return C(u);if(s&&s.Accept){let n=s.Accept.split(",");for(let o of n)if(o.trim()!=="*/*")return C(o)}let m=L(e);return m||""};var E={method:"get",retryCodes:[429,503,504],retryDelay:500},V=e=>{e=w(w({},E),R(e));let i=0,s=0,u=0,m=null,n=t=>g(void 0,null,function*(){let c=Date.now(),p=t-(c-i);i=c+(p>0?p:0),yield O(p)}),o=t=>new Promise(c=>{m&&clearTimeout(m),m=setTimeout(c,t)}),l=t=>g(void 0,null,function*(){let c={cache:t.cache,credentials:t.credentials,headers:t.headers,method:t.method,mode:t.mode,redirect:t.redirect,body:t.body?JSON.stringify(t.body):void 0},p=(t.domain||"")+(t.path||"");if(t.queryParams&&(p+="?"+new URLSearchParams(t.queryParams).toString()),t.timeout){let a=t.abort||new AbortController;c.signal=a.signal,setTimeout(()=>a.abort(),t.timeout)}let f=()=>g(void 0,null,function*(){let a=yield fetch(p,c),r,b=!1,y=t.type||k(p,a.headers,t.headers);if(t.responseParsers){for(let d of t.responseParsers)if(b=d.types.includes(y),b){r=yield d.parser(a,t);break}}if(!b)switch(y.toLowerCase()){case"arraybuffer":r=yield a.arrayBuffer();break;case"blob":r=yield a.blob();break;case"formdata":r=yield a.formData();break;case"text/plain":case"text":case"txt":r=yield a.text();break;case"text/html-partial":case"html-partial":r=yield a.text();let d=document.createElement("template");d.innerHTML=r,r=d.content.childNodes[0];break;case"text/html":case"html":r=yield a.text(),r=new DOMParser().parseFromString(r,"text/html");break;case"application/json":case"text/json":case"json":r=yield a.json();break;case"image/svg+xml":case"svg":r=yield a.text(),r=new DOMParser().parseFromString(r,"image/svg+xml");break;case"application/xml":case"text/xml":case"xml":r=yield a.text(),r=new DOMParser().parseFromString(r,"application/xml");break}return[a,r]}),h=()=>g(void 0,null,function*(){let a=0,r=t.retryAttempts||0,b=t.retryDelay||0;for(;a<r;)try{return yield f()}catch(y){if(a++,a>=r)throw y;yield O(b*Math.pow(2,a-1))}return f()});try{let[a,r]=yield h();if(!a.ok)throw new Error(a.statusText);return[a,r]}catch(a){throw a}});return t=>g(void 0,null,function*(){let c=w(w({},e),R(t));e.headers&&(c.headers=w(w({},e.headers),c.headers)),c.debounce&&(yield o(c.debounce)),c.delay&&(yield O(c.delay)),c.throttle&&(yield n(c.throttle)),c.maxConcurrency&&s>=c.maxConcurrency&&(yield new Promise(p=>{let f=null,h=()=>{s>=c.maxConcurrency?f=requestAnimationFrame(h):(f&&clearInterval(f),p(null))};f=requestAnimationFrame(h)})),s++;try{return yield l(c)}finally{s--}})};var A=e=>(e=w({columnDelimiter:",",rowDelimiter:"\n",escapeCharacter:'"'},e),{types:e.types||["csv","text/csv"],parser:(i,s)=>g(void 0,null,function*(){let u=yield i.text(),m=[],n=[],o="",l=!1;for(let t=0;t<u.length;t++){let c=u[t],p=u[t+1];c===e.escapeCharacter?p===e.escapeCharacter&&l?(o+=e.escapeCharacter,t++):l=!l:c===e.columnDelimiter&&!l?(n.push(o),o=""):c===e.rowDelimiter&&!l?(n.push(o),o="",m.push(n),n=[]):o+=c}if(o&&(n.push(o),o=""),n.length>0&&m.push(n),e.hasHeaders){let t=m[0];return m.slice(1).map(c=>t.reduce((p,f,h)=>(p[f]=c[h]||"",p),{}))}return m})});var D=(e={})=>({types:e.types||["ini"],parser:(i,s)=>g(void 0,null,function*(){let u=yield i.text(),m={},n=u.split(/\r?\n/).map(l=>l.trim()),o="";for(let l of n)if(!(l===""||l.startsWith(";")||l.startsWith("#")))if(l.startsWith("[")&&l.endsWith("]"))o=l.slice(1,-1).trim(),m[o]||(m[o]={});else{let[t,...c]=l.split("="),p=c.join("=").trim();o===""?(m.global||(m.global={}),m.global[t.trim()]=p):m[o][t.trim()]=p}return m})});var x=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e==="true"||e==="false"?e==="true":isNaN(Number(e))?e.match(/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/)?new Date(e):e:Number(e),M=e=>{let i={},s="",u="",m=!1,n="",o=!1;for(let l=1;l<e.length-1;l++){let t=e[l];!m&&(t==='"'||t==="'")?(m=!0,n=t):m&&t===n?m=!1:!m&&t==="="?o=!0:!m&&t===","?(i[s.trim()]=x(u.trim()),s="",u="",o=!1):o?u+=t:s+=t}return s&&(i[s.trim()]=x(u.trim())),i},S=(e={})=>({types:e.types||["toml","application/toml"],parser:(i,s)=>g(void 0,null,function*(){let u=yield i.text(),m={},n=m,o=null,l=null,t=null,c=u.split(/\r?\n/);for(let p=0;p<c.length;p++){let f=c[p].trim();if(!(f===""||f.startsWith("#"))){if(l!==null){f.endsWith(t)?(l+=f.slice(0,-t.length),n[Object.keys(n).pop()]=l,l=null,t=null):l+=f+"\n";continue}if(f.startsWith("[")&&f.endsWith("]")){let h=f.slice(1,-1).trim();n=m;let a=h.split(".");for(let r of a)n[r]||(n[r]={}),n=n[r];o=null}else if(f.startsWith("[[")&&f.endsWith("]]")){let a=f.slice(2,-2).trim().split("."),r=m;for(let d=0;d<a.length-1;d++)r[a[d]]||(r[a[d]]={}),r=r[a[d]];let b=a[a.length-1];r[b]||(r[b]=[]);let y={};r[b].push(y),n=y,o=null}else{let[h,...a]=f.split("="),r=a.join("=").trim();r.startsWith('"""')||r.startsWith("'''")?(t=r.slice(0,3),l=r.slice(3),r.endsWith(t)&&(n[h.trim()]=l.slice(0,-3),l=null,t=null)):r.startsWith("{")&&r.endsWith("}")?n[h.trim()]=M(r):r.startsWith("[")&&!r.endsWith("]")?(o=[],r=r.slice(1).trim()):o!==null?r.endsWith("]")?(o.push(x(r.slice(0,-1).trim())),n[h.trim()]=o,o=null):o.push(x(r)):n[h.trim()]=x(r)}}}return m})});var P=(e,i)=>{if(e==="null"||e==="~")return null;if(e==="true")return!0;if(e==="false")return!1;if(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);if(!isNaN(Number(e)))return Number(e);if(e.startsWith("[")&&e.endsWith("]"))return e.slice(1,-1).split(",").map(s=>P(s.trim(),i));if(e.startsWith("*")){let s=e.slice(1).trim();return i[s]}if(e.includes("!!")){let[s,u]=e.split(" ");switch(s){case"!!int":return parseInt(u);case"!!float":return parseFloat(u);case"!!str":return u;case"!!bool":return u.toLowerCase()==="true";default:return u}}return e},N=(e={})=>({types:e.types||["yaml","application/yaml","text/yaml"],parser:(i,s)=>g(void 0,null,function*(){let u=(yield i.text()).split("\n"),m={},n=m,o=[m],l=0,t=null,c=[],p={};for(let f=0;f<u.length;f++){let h=u[f].trimEnd();if(h.trim().startsWith("#"))continue;let a=h.search(/\S/);if(t!==null)if(a>l){c.push(h.trim());continue}else n[t]=c.join("\n"),t=null,c=[];if(a>l)o.push(n),n=n[Object.keys(n).pop()];else if(a<l)for(;a<l;)o.pop(),n=o[o.length-1],l-=e.indentSize||2;if(l=a,h.trim()==="-"){if(!Array.isArray(n)){let d=Object.keys(n).pop();n[d]=[],n=n[d]}n.push({}),n=n[n.length-1];continue}let r=h.indexOf(":");if(r===-1)continue;let b=h.slice(0,r).trim(),y=h.slice(r+1).trim();if(y.startsWith("&")){let d=y.slice(1).split(" ")[0];y=y.slice(d.length+2).trim();let T=P(y,p);p[d]=T,n[b]=T}else if(y.startsWith("*")){let d=y.slice(1).trim();n[b]=p[d]}else y==="|"||y===">"?(t=b,l+=e.indentSize||2):y?n[b]=P(y,p):n[b]={}}return m})});q(["vroagn"],{create:V,csvParser:A,iniParser:D,tomlParser:S,yamlParser:N});})();
//# sourceMappingURL=vroagn.iife.min.js.map
