"use strict";(()=>{var Q=Object.defineProperty;var N=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var S=(e,n,r)=>n in e?Q(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,x=(e,n)=>{for(var r in n||(n={}))$.call(n,r)&&S(e,r,n[r]);if(N)for(var r of N(n))B.call(n,r)&&S(e,r,n[r]);return e};var b=(e,n,r)=>new Promise((m,a)=>{var s=t=>{try{i(r.next(t))}catch(l){a(l)}},u=t=>{try{i(r.throw(t))}catch(l){a(l)}},i=t=>t.done?m(t.value):Promise.resolve(t.value).then(s,u);i((r=r.apply(e,n)).next())});var E=function(e,n){let r=window;for(let m=0;m<e.length-1;m++)(typeof r[e[m]]!="object"||!Array.isArray(r[e[m]]))&&(r[e[m]]={}),r=r[e[m]];r[e[e.length-1]]=n};var q=e=>{if(typeof e=="object")if(Array.isArray(e)){let n=[];for(let r=0;r<e.length;r++)n.push(q(e[r]));e=n}else{let n={};for(let r in e)n[r]=q(e[r]);e=n}return e};var W=e=>b(void 0,null,function*(){return e>0?new Promise(n=>setTimeout(n,e)):null});var Y=e=>e.split(";")[0].trim().toLowerCase(),J=e=>{let n=e.match(/\.([^./?]+)(?:[?#]|$)/);return n?n[1].toLowerCase():null},I=function(e,n,r){let m=n.get("Content-Type");if(m)return Y(m);if(r&&r.Accept){let s=r.Accept.split(",");for(let u of s)if(u.trim()!=="*/*")return Y(u)}let a=J(e);return a||""};var Z={method:"get",retryCodes:[429,503,504],retryDelay:500},F=e=>{e=x(x({},Z),q(e));let n=0,r=0,m=0,a=null,s=t=>b(void 0,null,function*(){let l=Date.now(),p=t-(l-n);n=l+(p>0?p:0),yield W(p)}),u=t=>new Promise(l=>{a&&clearTimeout(a),a=setTimeout(l,t)}),i=t=>b(void 0,null,function*(){if(t.maxRequests!==void 0&&m>=t.maxRequests)return[new Error("Maximum request limit reached"),null,null];m++;let l={cache:t.cache,credentials:t.credentials,headers:t.headers,method:t.method,mode:t.mode,redirect:t.redirect,body:t.body?JSON.stringify(t.body):void 0},p=(t.domain||"")+(t.path||"");if(t.queryParams&&(p+="?"+new URLSearchParams(t.queryParams).toString()),t.timeout){let c=t.abort||new AbortController;l.signal=c.signal,setTimeout(()=>c.abort(),t.timeout)}let f=()=>b(void 0,null,function*(){var g;let c=yield((g=t.fetch)!=null?g:fetch)(p,l);if(!c.ok)return[new Error("Invalid response"),c,null];try{let h,O=!1,T=t.type||I(p,c.headers,t.headers);if(t.parsers){for(let R of t.parsers)if(O=R.types.includes(T),O){h=yield R.parser(c,t,T);break}}if(!O)switch(T.toLowerCase()){case"arraybuffer":h=yield c.arrayBuffer();break;case"blob":h=yield c.blob();break;case"formdata":h=yield c.formData();break;case"text/plain":case"text":case"txt":h=yield c.text();break;case"text/html-partial":case"html-partial":h=yield c.text();let R=document.createElement("template");R.innerHTML=h,h=R.content.childNodes;break;case"text/html":case"html":h=yield c.text(),h=new DOMParser().parseFromString(h,"text/html");break;case"application/json":case"text/json":case"json":h=yield c.json();break;case"image/svg+xml":case"svg":h=yield c.text(),h=new DOMParser().parseFromString(h,"image/svg+xml");break;case"application/xml":case"text/xml":case"xml":h=yield c.text(),h=new DOMParser().parseFromString(h,"application/xml");break}return[null,c,h]}catch(h){return[h||new Error("Thrown parsing error is falsy"),c,null]}}),y=()=>b(void 0,null,function*(){var O;let c=0,g=t.retryAttempts||0,h=t.retryDelay||0;for(;c<g;){let[T,R,C]=yield f();if(!T)return[T,R,C];if(!((O=t.retryCodes)!=null&&O.includes(R.status||200)))return[new Error("Invalid status code"),R,C];if(c++,c>=g)return[new Error("Too many retry attempts"),R,C];let P=h*Math.pow(2,c-1),k=R.headers.get("Retry-After");if(k){let D=parseInt(k,10);if(!isNaN(D))P=Math.max(P,D*1e3);else{let V=new Date(k).getTime();if(!isNaN(V)){let K=Date.now();P=Math.max(P,V-K)}}}yield W(P)}return f()}),[d,o,w]=yield y();return o.ok?[d,o,w]:[new Error(o.statusText),o,w]});return t=>b(void 0,null,function*(){let l=x(x({},e),q(t));e.headers&&(l.headers=x(x({},e.headers),l.headers)),l.debounce&&(yield u(l.debounce)),l.delay&&(yield W(l.delay)),l.throttle&&(yield s(l.throttle)),l.maxConcurrency&&r>=l.maxConcurrency&&(yield new Promise(f=>{let y=null,d=()=>{r>=l.maxConcurrency?y=requestAnimationFrame(d):(y&&clearInterval(y),f(null))};y=requestAnimationFrame(d)})),r++;let p=yield i(l);return r--,p})};var M=["tsv","text/tab-separated-values"],L=e=>({types:(e==null?void 0:e.types)||["csv","text/csv",...M],parser:(n,r,m)=>b(void 0,null,function*(){let a=x({columnDelimiter:M.includes(m)?"	":",",rowDelimiter:"\n",escapeCharacter:'"'},e),s=yield n.text(),u=[],i=[],t="",l=!1;for(let p=0;p<s.length;p++){let f=s[p],y=s[p+1];f===a.escapeCharacter?y===a.escapeCharacter&&l?(t+=a.escapeCharacter,p++):l=!l:f===a.columnDelimiter&&!l?(i.push(t),t=""):f===a.rowDelimiter&&!l?(i.push(t),t="",u.push(i),i=[]):t+=f}if(t&&(i.push(t),t=""),i.length>0&&u.push(i),a.hasHeaders){let p=u[0];return u.slice(1).map(f=>p.reduce((y,d,o)=>(y[d]=f[o]||"",y),{}))}return u})});var z=(e={})=>({types:e.types||["ini"],parser:(n,r)=>b(void 0,null,function*(){let m=yield n.text(),a={},s=m.split(/\r?\n/).map(i=>i.trim()),u="";for(let i of s)if(!(i===""||i.startsWith(";")||i.startsWith("#")))if(i.startsWith("[")&&i.endsWith("]"))u=i.slice(1,-1).trim(),a[u]||(a[u]={});else{let[t,...l]=i.split("="),p=l.join("=").trim();u===""?(a.global||(a.global={}),a.global[t.trim()]=p):a[u][t.trim()]=p}return a})});var j=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e==="true"||e==="false"?e==="true":isNaN(Number(e))?e.match(/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(.\d+)?(Z|[+-]\d{2}:\d{2})?)?$/)?new Date(e):e:Number(e),_=e=>{let n={},r="",m="",a=!1,s="",u=!1;for(let i=1;i<e.length-1;i++){let t=e[i];!a&&(t==='"'||t==="'")?(a=!0,s=t):a&&t===s?a=!1:!a&&t==="="?u=!0:!a&&t===","?(n[r.trim()]=j(m.trim()),r="",m="",u=!1):u?m+=t:r+=t}return r&&(n[r.trim()]=j(m.trim())),n},U=(e={})=>({types:e.types||["toml","application/toml"],parser:(n,r)=>b(void 0,null,function*(){let m=yield n.text(),a={},s=a,u=null,i=null,t=null,l=m.split(/\r?\n/);for(let p=0;p<l.length;p++){let f=l[p].trim();if(!(f===""||f.startsWith("#"))){if(i!==null){f.endsWith(t)?(i+=f.slice(0,-t.length),s[Object.keys(s).pop()]=i,i=null,t=null):i+=f+"\n";continue}if(f.startsWith("[")&&f.endsWith("]")){let y=f.slice(1,-1).trim();s=a;let d=y.split(".");for(let o of d)s[o]||(s[o]={}),s=s[o];u=null}else if(f.startsWith("[[")&&f.endsWith("]]")){let d=f.slice(2,-2).trim().split("."),o=a;for(let g=0;g<d.length-1;g++)o[d[g]]||(o[d[g]]={}),o=o[d[g]];let w=d[d.length-1];o[w]||(o[w]=[]);let c={};o[w].push(c),s=c,u=null}else{let[y,...d]=f.split("="),o=d.join("=").trim();o.startsWith('"""')||o.startsWith("'''")?(t=o.slice(0,3),i=o.slice(3),o.endsWith(t)&&(s[y.trim()]=i.slice(0,-3),i=null,t=null)):o.startsWith("{")&&o.endsWith("}")?s[y.trim()]=_(o):o.startsWith("[")&&!o.endsWith("]")?(u=[],o=o.slice(1).trim()):u!==null?o.endsWith("]")?(u.push(j(o.slice(0,-1).trim())),s[y.trim()]=u,u=null):u.push(j(o)):s[y.trim()]=j(o)}}}return a})});var A=(e,n)=>{if(e==="null"||e==="~")return null;if(e==="true")return!0;if(e==="false")return!1;if(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);if(!isNaN(Number(e)))return Number(e);if(e.startsWith("[")&&e.endsWith("]"))return e.slice(1,-1).split(",").map(r=>A(r.trim(),n));if(e.startsWith("*")){let r=e.slice(1).trim();return n[r]}if(e.includes("!!")){let[r,m]=e.split(" ");switch(r){case"!!int":return parseInt(m);case"!!float":return parseFloat(m);case"!!str":return m;case"!!bool":return m.toLowerCase()==="true";default:return m}}return e},H=(e={})=>({types:e.types||["yaml","application/yaml","text/yaml"],parser:(n,r)=>b(void 0,null,function*(){let m=(yield n.text()).split("\n"),a={},s=a,u=[a],i=0,t=null,l=[],p={};for(let f=0;f<m.length;f++){let y=m[f].trimEnd();if(y.trim().startsWith("#"))continue;let d=y.search(/\S/);if(t!==null)if(d>i){l.push(y.trim());continue}else s[t]=l.join("\n"),t=null,l=[];if(d>i)u.push(s),s=s[Object.keys(s).pop()];else if(d<i)for(;d<i;)u.pop(),s=u[u.length-1],i-=e.indentSize||2;if(i=d,y.trim()==="-"){if(!Array.isArray(s)){let g=Object.keys(s).pop();s[g]=[],s=s[g]}s.push({}),s=s[s.length-1];continue}let o=y.indexOf(":");if(o===-1)continue;let w=y.slice(0,o).trim(),c=y.slice(o+1).trim();if(c.startsWith("&")){let g=c.slice(1).split(" ")[0];c=c.slice(g.length+2).trim();let h=A(c,p);p[g]=h,s[w]=h}else if(c.startsWith("*")){let g=c.slice(1).trim();s[w]=p[g]}else c==="|"||c===">"?(t=w,i+=e.indentSize||2):c?s[w]=A(c,p):s[w]={}}return a})});E(["vroagn"],{create:F,csvParser:L,iniParser:z,tomlParser:U,yamlParser:H});})();
//# sourceMappingURL=vroagn.iife.min.js.map
