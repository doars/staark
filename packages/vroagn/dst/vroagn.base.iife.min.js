"use strict";(()=>{var D=Object.defineProperty;var P=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var q=(e,n,t)=>n in e?D(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,y=(e,n)=>{for(var t in n||(n={}))S.call(n,t)&&q(e,t,n[t]);if(P)for(var t of P(n))F.call(n,t)&&q(e,t,n[t]);return e};var m=(e,n,t)=>new Promise((c,i)=>{var f=r=>{try{p(t.next(r))}catch(a){i(a)}},d=r=>{try{p(t.throw(r))}catch(a){i(a)}},p=r=>r.done?c(r.value):Promise.resolve(r.value).then(f,d);p((t=t.apply(e,n)).next())});var A=function(e,n){let t=window;for(let c=0;c<e.length-1;c++)(typeof t[e[c]]!="object"||!Array.isArray(t[e[c]]))&&(t[e[c]]={}),t=t[e[c]];t[e[e.length-1]]=n};var h=e=>{if(typeof e=="object")if(Array.isArray(e)){let n=[];for(let t=0;t<e.length;t++)n.push(h(e[t]));e=n}else{let n={};for(let t in e)n[t]=h(e[t]);e=n}return e};var R=e=>m(void 0,null,function*(){return e>0?new Promise(n=>setTimeout(n,e)):null});var T=e=>e.split(";")[0].trim().toLowerCase(),O=e=>{let n=e.match(/\.([^./?]+)(?:[?#]|$)/);return n?n[1].toLowerCase():null},C=function(e,n,t){let c=n.get("Content-Type");if(c)return T(c);if(t&&t.Accept){let f=t.Accept.split(",");for(let d of f)if(d.trim()!=="*/*")return T(d)}let i=O(e);return i||""};var j={method:"get",retryCodes:[429,503,504],retryDelay:500},k=e=>{e=y(y({},j),h(e));let n=0,t=0,c=0,i=null,f=r=>m(void 0,null,function*(){let a=Date.now(),l=r-(a-n);n=a+(l>0?l:0),yield R(l)}),d=r=>new Promise(a=>{i&&clearTimeout(i),i=setTimeout(a,r)}),p=r=>m(void 0,null,function*(){let a={cache:r.cache,credentials:r.credentials,headers:r.headers,method:r.method,mode:r.mode,redirect:r.redirect,body:r.body?JSON.stringify(r.body):void 0},l=(r.domain||"")+(r.path||"");if(r.queryParams&&(l+="?"+new URLSearchParams(r.queryParams).toString()),r.timeout){let s=r.abort||new AbortController;a.signal=s.signal,setTimeout(()=>s.abort(),r.timeout)}let u=()=>m(void 0,null,function*(){let s=yield fetch(l,a),o,b=!1,x=r.type||C(l,s.headers,r.headers);if(r.responseParsers){for(let w of r.responseParsers)if(b=w.types.includes(x),b){o=yield w.parser(s,r);break}}if(!b)switch(x.toLowerCase()){case"arraybuffer":o=yield s.arrayBuffer();break;case"blob":o=yield s.blob();break;case"formdata":o=yield s.formData();break;case"text/plain":case"text":case"txt":o=yield s.text();break;case"text/html-partial":case"html-partial":o=yield s.text();let w=document.createElement("template");w.innerHTML=o,o=w.content.childNodes[0];break;case"text/html":case"html":o=yield s.text(),o=new DOMParser().parseFromString(o,"text/html");break;case"application/json":case"text/json":case"json":o=yield s.json();break;case"image/svg+xml":case"svg":o=yield s.text(),o=new DOMParser().parseFromString(o,"image/svg+xml");break;case"application/xml":case"text/xml":case"xml":o=yield s.text(),o=new DOMParser().parseFromString(o,"application/xml");break}return[s,o]}),g=()=>m(void 0,null,function*(){let s=0,o=r.retryAttempts||0,b=r.retryDelay||0;for(;s<o;)try{return yield u()}catch(x){if(s++,s>=o)throw x;yield R(b*Math.pow(2,s-1))}return u()});try{let[s,o]=yield g();if(!s.ok)throw new Error(s.statusText);return[s,o]}catch(s){throw s}});return r=>m(void 0,null,function*(){let a=y(y({},e),h(r));e.headers&&(a.headers=y(y({},e.headers),a.headers)),a.debounce&&(yield d(a.debounce)),a.delay&&(yield R(a.delay)),a.throttle&&(yield f(a.throttle)),a.maxConcurrency&&t>=a.maxConcurrency&&(yield new Promise(l=>{let u=null,g=()=>{t>=a.maxConcurrency?u=requestAnimationFrame(g):(u&&clearInterval(u),l(null))};u=requestAnimationFrame(g)})),t++;try{return yield p(a)}finally{t--}})};A(["vroagn"],{create:k});})();
//# sourceMappingURL=vroagn.base.iife.min.js.map
