(()=>{var h=(g,G)=>{let B=window;for(let J=0;J<g.length-1;J++){if(typeof B[g[J]]!=="object"||!Array.isArray(B[g[J]]))B[g[J]]={};B=B[g[J]]}B[g[g.length-1]]=G};var D=(g)=>{if(typeof g==="object"){let G=Array.isArray(g)?[]:{};for(let B in g)G[B]=D(g[B]);return G}return g};var P=async(g)=>{if(g>0)return new Promise((G)=>setTimeout(G,g));return null};var F=(g)=>g.split(";")[0].trim().toLowerCase(),m=(g)=>{let G=g.match(/\.([^./?]+)(?:[?#]|$)/);return G?G[1].toLowerCase():null},A=(g,G,B)=>{let J=G.get("Content-Type");if(J)return F(J);if(B){if(B.Accept){let _=B.Accept.split(",");for(let Z of _)if(Z.trim()!=="*/*")return F(Z)}}let N=m(g);if(N)return N;return""};var H={method:"get",retryCodes:[429,503,504],retryDelay:500},S=(g)=>{g={...H,...D(g)};let G=0,B=0,J=0,N=null,_=async(f)=>{let I=Date.now(),M=f-(I-G);G=I+(M>0?M:0),await P(M)},Z=(f)=>{return new Promise((I)=>{if(N)clearTimeout(N);N=setTimeout(I,f)})},V=async(f)=>{if(f.maxRequests!==void 0&&J>=f.maxRequests)return[Error("Maximum request limit reached"),null,null];J++;let I={cache:f.cache,credentials:f.credentials,headers:f.headers,method:f.method,mode:f.mode,redirect:f.redirect,body:f.body?JSON.stringify(f.body):void 0},M=(f.domain||"")+(f.path||"");if(f.queryParams)M+="?"+new URLSearchParams(f.queryParams).toString();if(f.timeout){let w=f.abort||new AbortController;I.signal=w.signal,setTimeout(()=>w.abort(),f.timeout)}let $=async()=>{let w=await(f.fetch??fetch)(M,I);if(!w.ok)return[Error("Invalid response"),w,null];try{let j,X=!1,W=f.type||A(M,w.headers,f.headers);if(f.parsers){for(let K of f.parsers)if(X=K.types.includes(W),X){j=await K.parser(w,f,W);break}}if(!X)switch(W.toLowerCase()){case"arraybuffer":j=await w.arrayBuffer();break;case"blob":j=await w.blob();break;case"formdata":j=await w.formData();break;case"text/plain":case"text":case"txt":j=await w.text();break;case"text/html-partial":case"html-partial":j=await w.text();let K=document.createElement("template");K.innerHTML=j,j=K.content.childNodes;break;case"text/html":case"html":j=await w.text(),j=new DOMParser().parseFromString(j,"text/html");break;case"application/json":case"text/json":case"json":j=await w.json();break;case"image/svg+xml":case"svg":j=await w.text(),j=new DOMParser().parseFromString(j,"image/svg+xml");break;case"application/xml":case"text/xml":case"xml":j=await w.text(),j=new DOMParser().parseFromString(j,"application/xml");break}return[null,w,j]}catch(j){return[j||Error("Thrown parsing error is falsy"),w,null]}},Q=async()=>{let w=0,j=f.retryAttempts||0,X=f.retryDelay||0;while(w<j){let[W,K,z]=await $();if(!W)return[W,K,z];if(!f.retryCodes?.includes(K.status||200))return[Error("Invalid status code"),K,z];if(w++,w>=j)return[Error("Too many retry attempts"),K,z];let Y=X*Math.pow(2,w-1),C=K.headers.get("Retry-After");if(C){let L=parseInt(C,10);if(!isNaN(L))Y=Math.max(Y,L*1000);else{let U=new Date(C).getTime();if(!isNaN(U)){let E=Date.now();Y=Math.max(Y,U-E)}}}await P(Y)}return $()},[b,k,x]=await Q();if(!k.ok)return[Error(k.statusText),k,x];return[b,k,x]};return async(f)=>{let I={...g,...D(f)};if(g.headers)I.headers={...g.headers,...I.headers};if(I.debounce)await Z(I.debounce);if(I.delay)await P(I.delay);if(I.throttle)await _(I.throttle);if(I.maxConcurrency&&B>=I.maxConcurrency)await new Promise(($)=>{let Q=null,b=()=>{if(B>=I.maxConcurrency)Q=requestAnimationFrame(b);else{if(Q)clearInterval(Q);$(null)}};Q=requestAnimationFrame(b)});B++;let M=await V(I);return B--,M}};h(["vroagn"],{create:S});})();

//# debugId=308FBECF74FF93F764756E2164756E21
