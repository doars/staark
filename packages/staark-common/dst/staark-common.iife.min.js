"use strict";(()=>{var z=Object.defineProperty;var a=(t,e)=>{for(var r in e)z(t,r,{get:e[r],enumerable:!0})};var L=function(t,e){let r=window;for(let o=0;o<t.length-1;o++)(typeof r[t[o]]!="object"||!Array.isArray(r[t[o]]))&&(r[t[o]]={}),r=r[t[o]];r[t[t.length-1]]=e};var A={};a(A,{arrayify:()=>q});var q=function(t){return Array.isArray(t)?t:[t]};var C={};a(C,{suffixNameIfMultiple:()=>H});var O="[]",H=t=>{t.multiple&&t.name&&!t.name.endsWith(O)&&(t.name+=O)};var k={};a(k,{cloneRecursive:()=>x});var x=t=>{if(typeof t=="object")if(Array.isArray(t)){let e=[];for(let r=0;r<t.length;r++)e.push(x(t[r]));t=e}else{let e={};for(let r in t)e[r]=x(t[r]);t=e}return t};var T={};a(T,{equalRecursive:()=>D});var D=(t,e)=>{if(t===e)return!0;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!t||!e||typeof t!="object"&&typeof e!="object")return t===e;if(t==null||e===null||e===void 0||t.prototype!==e.prototype)return!1;let r=Object.keys(t);return r.length!==Object.keys(e).length?!1:r.every(o=>D(t[o],e[o]))};var _={};a(_,{childrenToNodes:()=>I});var F={};a(F,{node:()=>m});var h={};a(h,{marker:()=>d});var d=Symbol();var m=(t,e,r)=>((typeof e!="object"||e._===d||Array.isArray(e))&&(r=e,e=void 0),{_:d,a:e,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var I=t=>{var r;let e=[];for(let o=0;o<t.childNodes.length;o++)if(t instanceof Text)e.push((r=t.textContent)!=null?r:"");else{let c={};for(let s=0;s<t.attributes.length;s++){let i=t.attributes[s];c[i.name]=i.value}e.push(m(t.nodeName,c,I(t)))}return e};var E={};a(E,{factory:()=>K});var K=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,c)=>m(r,o,c)}});var w={};a(w,{fctory:()=>X});var R="]",Q="[",Z=".",G="=",W="#",y="'",u='"';var N=t=>{let e=t.length,r=0,o="",c={},s="",i=!0,f=3,p=()=>{if(s){switch(f){case 0:c[s]=i===!0?!0:i,i=!0;break;case 1:if(!c.class){c.class=s;break}c.class+=" "+s;break;case 2:c.id=s;break;case 3:o=s;break}s=""}},n,b,P=()=>{for(b=0;r<e;){if(n=t[r],r++,n===G){i="",n=t[r];let l=n===u,g=n===y;for((l||g)&&(i+=n,r++);r<e;){if(n=t[r],l&&n===u||g&&n===y){i+=n,r++;break}else if(!l&&!g&&n===R)break;i+=n,r++}for((i[0]===u&&i[i.length-1]===u||i[0]===y&&i[i.length-1]===y)&&(i=i.substring(1,i.length-1));r<e&&(n=t[r],r++,n!==R););break}else if(n===Q){b++;continue}else if(n===R){if(b--,b<0)break;continue}s+=n}p()};for(;r<e;){if(n=t[r],r++,n===W){p(),f=2;continue}else if(n===Z){p(),f=1;continue}else if(n===Q){p(),f=0,P();continue}s+=n}return[o,c]};var X=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,c)=>{let s;if(o){let[i,f]=N(o);s=f}return m(r,s,c)}}});var M={};a(M,{uniqueIdentifier:()=>V});var J=0,V=()=>"-"+J++;var U={};a(U,{memo:()=>Y});var Y=(t,e)=>({_:d,r:t,m:e});var j={};a(j,{nde:()=>$});var $=(t,e)=>{let[r,o]=N(t);return{_:d,a:o,c:e?Array.isArray(e)?e:[e]:[],t:r.toUpperCase()}};var S={};a(S,{text:()=>B});var B=t=>({_:d,c:Array.isArray(t)?t.join(""):""+t});L(["staark","common"],{array:A,attribute:C,clone:k,compare:T,element:_,factory:E,fctory:w,identifier:M,marker:h,memo:U,nde:j,node:F,text:S});})();
//# sourceMappingURL=staark-common.iife.min.js.map
