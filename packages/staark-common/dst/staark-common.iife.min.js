"use strict";(()=>{var K=Object.defineProperty;var d=(e,t)=>{for(var o in t)K(e,o,{get:t[o],enumerable:!0})};var Q=function(e,t){let o=window;for(let n=0;n<e.length-1;n++)(typeof o[e[n]]!="object"||!Array.isArray(o[e[n]]))&&(o[e[n]]={}),o=o[e[n]];o[e[e.length-1]]=t};var x={};d(x,{arrayify:()=>N,arrayifyOrUndefined:()=>u});var N=e=>{var t;return(t=u(e))!=null?t:[]},u=e=>e?Array.isArray(e)?e:[e]:void 0;var T={};d(T,{suffixNameIfMultiple:()=>Z});var S="[]",Z=e=>{e.multiple&&e.name&&!e.name.endsWith(S)&&(e.name+=S)};var k={};d(k,{cloneRecursive:()=>I});var I=e=>{if(typeof e=="object"){let t=Array.isArray(e)?[]:{};for(let o in e)t[o]=I(e[o]);return t}return e};var h={};d(h,{equalRecursive:()=>P});var P=(e,t)=>{if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return e===t;if(e instanceof Date)return t instanceof Date&&e.getTime()===t.getTime();let o=Object.keys(e);return o.length===Object.keys(t).length&&o.every(n=>P(e[n],t[n]))};var F={};d(F,{conditional:()=>q});var q=(e,t,o)=>{let n=e?t:o;return typeof n=="function"&&(n=n()),N(n)};var E={};d(E,{childrenToNodes:()=>z});var _={};d(_,{node:()=>f});var R={};d(R,{marker:()=>a});var a="n";var f=(e,t,o)=>((typeof t!="object"||t._===a||Array.isArray(t))&&(o=t,t=void 0),{_:a,a:t,c:u(o),t:e.toUpperCase()});var z=e=>{var o;let t=[];for(let n of e.childNodes)if(n instanceof Text)t.push((o=n.textContent)!=null?o:"");else{let c=n,s={};for(let i of c.attributes)s[i.name]=i.value;t.push(f(n.nodeName,s,z(n)))}return t};var U={};d(U,{factory:()=>G});var G=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,c)=>f(o,n,c)}});var L={};d(L,{fctory:()=>V});var w="]",v="[",W=".",X="=",J="#",y="'",b='"';var C=e=>{let t=e.length,o=0,n="",c={},s="",i=!0,m=3,p=()=>{if(s){switch(m){case 0:c[s]=i===!0?!0:i,i=!0;break;case 1:if(!c.class){c.class=s;break}c.class+=" "+s;break;case 2:c.id=s;break;case 3:n=s;break}s=""}},r,l,H=()=>{for(l=0;o<t;){if(r=e[o],o++,r===X){i="",r=e[o];let g=r===b,A=r===y;for((g||A)&&(i+=r,o++);o<t;){if(r=e[o],g&&r===b||A&&r===y){i+=r,o++;break}else if(!g&&!A&&r===w)break;i+=r,o++}for((i[0]===b&&i[i.length-1]===b||i[0]===y&&i[i.length-1]===y)&&(i=i.substring(1,i.length-1));o<t&&(r=e[o],o++,r!==w););break}else if(r===v){l++;continue}else if(r===w){if(l--,l<0)break;continue}s+=r}p()};for(;o<t;){if(r=e[o],o++,r===J){p(),m=2;continue}else if(r===W){p(),m=1;continue}else if(r===v){p(),m=0,H();continue}s+=r}return[n,c]};var V=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,c)=>{let s;if(n){let[i,m]=C(n);s=m}return f(o,s,c)}}});var M={};d(M,{identifier:()=>$});var Y=0,$=e=>e+"-"+Y++;var O={};d(O,{match:()=>B});var B=(e,t,o)=>{let n;return t&&e in t&&t[e]?n=t[e]:n=o,typeof n=="function"&&(n=n()),N(n)};var j={};d(j,{memo:()=>ee});var ee=(e,t)=>({_:a,r:e,m:t});var D={};d(D,{nde:()=>te});var te=(e,t)=>{let[o,n]=C(e);return{_:a,a:n,c:u(t),t:o.toUpperCase()}};Q(["staark","common"],{array:x,attribute:T,clone:k,compare:h,conditional:F,element:E,factory:U,fctory:L,identifier:M,marker:R,match:O,memo:j,nde:D,node:_});})();
//# sourceMappingURL=staark-common.iife.min.js.map
