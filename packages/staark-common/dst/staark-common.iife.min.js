"use strict";(()=>{var z=Object.defineProperty;var a=(t,e)=>{for(var o in e)z(t,o,{get:e[o],enumerable:!0})};var O=function(t,e){let o=window;for(let r=0;r<t.length-1;r++)(typeof o[t[r]]!="object"||!Array.isArray(o[t[r]]))&&(o[t[r]]={}),o=o[t[r]];o[t[t.length-1]]=e};var A={};a(A,{arrayify:()=>q});var q=function(t){return Array.isArray(t)?t:[t]};var C={};a(C,{suffixNameIfMultiple:()=>H});var D="[]",H=t=>{t.multiple&&t.name&&!t.name.endsWith(D)&&(t.name+=D)};var k={};a(k,{cloneRecursive:()=>x});var x=t=>{if(typeof t=="object")if(Array.isArray(t)){let e=[];for(let o=0;o<t.length;o++)e.push(x(t[o]));t=e}else{let e={};for(let o in t)e[o]=x(t[o]);t=e}return t};var h={};a(h,{equalRecursive:()=>I});var I=(t,e)=>{if(t===e)return!0;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!t||!e||typeof t!="object"&&typeof e!="object")return t===e;if(t==null||e===null||e===void 0||t.prototype!==e.prototype)return!1;let o=Object.keys(t);return o.length!==Object.keys(e).length?!1:o.every(r=>I(t[r],e[r]))};var E={};a(E,{childrenToNodes:()=>K,toNode:()=>_});var F={};a(F,{node:()=>m});var T={};a(T,{marker:()=>d});var d=Symbol();var m=(t,e,o)=>((typeof e!="object"||e._===d||Array.isArray(e))&&(o=e,e=void 0),{_:d,a:e,c:o?Array.isArray(o)?o:[o]:[],t:t.toUpperCase()});var _=t=>{var r;if(t instanceof Text)return(r=t.textContent)!=null?r:"";let e={};for(let i=0;i<t.attributes.length;i++){let c=t.attributes[i];e[c.name]=c.value}let o=[];for(let i=0;i<t.childNodes.length;i++)o.push(_(t.childNodes[i]));return m(t.nodeName,e,o)},K=t=>{let e=[];for(let o=0;o<t.childNodes.length;o++)e.push(_(t.childNodes[o]));return e};var R={};a(R,{factory:()=>Z});var Z=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,i)=>m(o,r,i)}});var M={};a(M,{fctory:()=>J});var w="]",Q="[",G=".",W="=",X="#",y="'",u='"';var N=t=>{let e=t.length,o=0,r="",i={},c="",s=!0,f=3,p=()=>{if(c){switch(f){case 0:i[c]=s===!0?!0:s,s=!0;break;case 1:if(!i.class){i.class=c;break}i.class+=" "+c;break;case 2:i.id=c;break;case 3:r=c;break}c=""}},n,b,P=()=>{for(b=0;o<e;){if(n=t[o],o++,n===W){s="",n=t[o];let l=n===u,g=n===y;for((l||g)&&(s+=n,o++);o<e;){if(n=t[o],l&&n===u||g&&n===y){s+=n,o++;break}else if(!l&&!g&&n===w)break;s+=n,o++}for((s[0]===u&&s[s.length-1]===u||s[0]===y&&s[s.length-1]===y)&&(s=s.substring(1,s.length-1));o<e&&(n=t[o],o++,n!==w););break}else if(n===Q){b++;continue}else if(n===w){if(b--,b<0)break;continue}c+=n}p()};for(;o<e;){if(n=t[o],o++,n===X){p(),f=2;continue}else if(n===G){p(),f=1;continue}else if(n===Q){p(),f=0,P();continue}c+=n}return[r,i]};var J=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,i)=>{let c;if(r){let[s,f]=N(r);c=f}return m(o,c,i)}}});var U={};a(U,{uniqueIdentifier:()=>Y});var V=0,Y=()=>"-"+V++;var j={};a(j,{memo:()=>$});var $=(t,e)=>({_:d,r:t,m:e});var S={};a(S,{nde:()=>B});var B=(t,e)=>{let[o,r]=N(t);return{_:d,a:r,c:e?Array.isArray(e)?e:[e]:[],t:o.toUpperCase()}};var L={};a(L,{text:()=>v});var v=t=>({_:d,c:Array.isArray(t)?t.join(""):""+t});O(["staark","common"],{array:A,attribute:C,clone:k,compare:h,element:E,factory:R,fctory:M,identifier:U,marker:T,memo:j,nde:S,node:F,text:L});})();
//# sourceMappingURL=staark-common.iife.min.js.map
