"use strict";(()=>{var K=Object.defineProperty;var a=(t,e)=>{for(var o in e)K(t,o,{get:e[o],enumerable:!0})};var S=function(t,e){let o=window;for(let r=0;r<t.length-1;r++)(typeof o[t[r]]!="object"||!Array.isArray(o[t[r]]))&&(o[t[r]]={}),o=o[t[r]];o[t[t.length-1]]=e};var C={};a(C,{arrayify:()=>u});var u=t=>Array.isArray(t)?t:[t];var x={};a(x,{suffixNameIfMultiple:()=>Z});var D="[]",Z=t=>{t.multiple&&t.name&&!t.name.endsWith(D)&&(t.name+=D)};var k={};a(k,{cloneRecursive:()=>Q});var Q=t=>{if(typeof t=="object"){let e=Array.isArray(t)?[]:{};for(let o in t)e[o]=Q(t[o]);return e}return t};var h={};a(h,{equalRecursive:()=>I});var I=(t,e)=>{if(t===e)return!0;if(!t||!e||typeof t!="object"||typeof e!="object")return t===e;if(t instanceof Date)return e instanceof Date&&t.getTime()===e.getTime();let o=Object.keys(t);return o.length===Object.keys(e).length&&o.every(r=>I(t[r],e[r]))};var T={};a(T,{conditional:()=>q});var q=(t,e,o)=>{let r=t?e:o;return typeof r=="function"&&(r=r()),r?u(r):[]};var _={};a(_,{childrenToNodes:()=>P});var R={};a(R,{node:()=>f});var F={};a(F,{marker:()=>m});var m="n";var f=(t,e,o)=>((typeof e!="object"||e._===m||Array.isArray(e))&&(o=e,e=void 0),{_:m,a:e,c:o?Array.isArray(o)?o:[o]:[],t:t.toUpperCase()});var P=t=>{var o;let e=[];for(let r=0;r<t.childNodes.length;r++){let s=t.childNodes[r];if(s instanceof Text)e.push((o=s.textContent)!=null?o:"");else{let c={};for(let i=0;i<s.attributes.length;i++){let d=s.attributes[i];c[d.name]=d.value}e.push(f(s.nodeName,c,P(s)))}}return e};var E={};a(E,{factory:()=>G});var G=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,s)=>f(o,r,s)}});var L={};a(L,{fctory:()=>J});var w="]",z="[",W=".",X="=",v="#",p="'",y='"';var l=t=>{let e=t.length,o=0,r="",s={},c="",i=!0,d=3,b=()=>{if(c){switch(d){case 0:s[c]=i===!0?!0:i,i=!0;break;case 1:if(!s.class){s.class=c;break}s.class+=" "+c;break;case 2:s.id=c;break;case 3:r=c;break}c=""}},n,N,H=()=>{for(N=0;o<e;){if(n=t[o],o++,n===X){i="",n=t[o];let A=n===y,g=n===p;for((A||g)&&(i+=n,o++);o<e;){if(n=t[o],A&&n===y||g&&n===p){i+=n,o++;break}else if(!A&&!g&&n===w)break;i+=n,o++}for((i[0]===y&&i[i.length-1]===y||i[0]===p&&i[i.length-1]===p)&&(i=i.substring(1,i.length-1));o<e&&(n=t[o],o++,n!==w););break}else if(n===z){N++;continue}else if(n===w){if(N--,N<0)break;continue}c+=n}b()};for(;o<e;){if(n=t[o],o++,n===v){b(),d=2;continue}else if(n===W){b(),d=1;continue}else if(n===z){b(),d=0,H();continue}c+=n}return[r,s]};var J=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,s)=>{let c;if(r){let[i,d]=l(r);c=d}return f(o,c,s)}}});var M={};a(M,{identifier:()=>Y});var V=0,Y=t=>t+"-"+V++;var U={};a(U,{match:()=>$});var $=(t,e)=>{if(e&&t in e&&e[t]){let o=e[t];return typeof o=="function"&&(o=o(),!o)?[]:u(o)}return[]};var j={};a(j,{memo:()=>B});var B=(t,e)=>({_:m,r:t,m:e});var O={};a(O,{nde:()=>tt});var tt=(t,e)=>{let[o,r]=l(t);return{_:m,a:r,c:e?Array.isArray(e)?e:[e]:[],t:o.toUpperCase()}};S(["staark","common"],{array:C,attribute:x,clone:k,compare:h,conditional:T,element:_,factory:E,fctory:L,identifier:M,marker:F,match:U,memo:j,nde:O,node:R});})();
//# sourceMappingURL=staark-common.iife.min.js.map
