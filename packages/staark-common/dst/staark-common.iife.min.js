"use strict";(()=>{var K=Object.defineProperty;var c=(t,e)=>{for(var o in e)K(t,o,{get:e[o],enumerable:!0})};var D=function(t,e){let o=window;for(let n=0;n<t.length-1;n++)(typeof o[t[n]]!="object"||!Array.isArray(o[t[n]]))&&(o[t[n]]={}),o=o[t[n]];o[t[t.length-1]]=e};var x={};c(x,{arrayify:()=>b,arrayifyOrUndefined:()=>u});var b=t=>{var e;return(e=u(t))!=null?e:[]},u=t=>t?Array.isArray(t)?t:[t]:void 0;var T={};c(T,{suffixNameIfMultiple:()=>Z});var Q="[]",Z=t=>{t.multiple&&t.name&&!t.name.endsWith(Q)&&(t.name+=Q)};var k={};c(k,{cloneRecursive:()=>I});var I=t=>{if(typeof t=="object"){let e=Array.isArray(t)?[]:{};for(let o in t)e[o]=I(t[o]);return e}return t};var h={};c(h,{equalRecursive:()=>P});var P=(t,e)=>{if(t===e)return!0;if(!t||!e||typeof t!="object"||typeof e!="object")return t===e;if(t instanceof Date)return e instanceof Date&&t.getTime()===e.getTime();let o=Object.keys(t);return o.length===Object.keys(e).length&&o.every(n=>P(t[n],e[n]))};var F={};c(F,{conditional:()=>q});var q=(t,e,o)=>{let n=t?e:o;return typeof n=="function"&&(n=n()),b(n)};var E={};c(E,{childrenToNodes:()=>z});var _={};c(_,{node:()=>f});var R={};c(R,{marker:()=>a});var a="n";var f=(t,e,o)=>((typeof e!="object"||e._===a||Array.isArray(e))&&(o=e,e=void 0),{_:a,a:e,c:u(o),t:t.toUpperCase()});var z=t=>{var o;let e=[];for(let n of t.childNodes)if(n instanceof Text)e.push((o=n.textContent)!=null?o:"");else{let d=n,s={};for(let i of d.attributes)s[i.name]=i.value;e.push(f(n.nodeName,s,z(n)))}return e};var U={};c(U,{factory:()=>G});var G=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return t[e]=(n,d)=>f(o,n,d)}});var L={};c(L,{fctory:()=>V});var w="]",v="[",W=".",X="=",J="#",l="'",y='"';var A=t=>{let e=t.length,o=0,n="",d={},s="",i=!0,m=3,N=()=>{if(s){switch(m){case 0:d[s]=i===!0?!0:i,i=!0;break;case 1:if(!d.class){d.class=s;break}d.class+=" "+s;break;case 2:d.id=s;break;case 3:n=s;break}s=""}},r,p,H=()=>{for(p=0;o<e;){if(r=t[o],o++,r===X){i="",r=t[o];let g=r===y,C=r===l;for((g||C)&&(i+=r,o++);o<e;){if(r=t[o],g&&r===y||C&&r===l){i+=r,o++;break}else if(!g&&!C&&r===w)break;i+=r,o++}for((i[0]===y&&i[i.length-1]===y||i[0]===l&&i[i.length-1]===l)&&(i=i.substring(1,i.length-1));o<e&&(r=t[o],o++,r!==w););break}else if(r===v){p++;continue}else if(r===w){if(p--,p<0)break;continue}s+=r}N()};for(;o<e;){if(r=t[o],o++,r===J){N(),m=2;continue}else if(r===W){N(),m=1;continue}else if(r===v){N(),m=0,H();continue}s+=r}return[n,d]};var V=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return t[e]=(n,d)=>{let s;if(n){let[i,m]=A(n);s=m}return f(o,s,d)}}});var M={};c(M,{identifier:()=>$});var Y=0,$=t=>t+"-"+Y++;var O={};c(O,{match:()=>B});var B=(t,e,o)=>{let n;return e&&t in e&&e[t]?n=e[t]:n=o,typeof n=="function"&&(n=n()),b(n)};var j={};c(j,{memo:()=>tt});var tt=(t,e)=>({_:a,r:t,m:e});var S={};c(S,{nde:()=>et});var et=(t,e)=>{let[o,n]=A(t);return{_:a,a:n,c:u(e),t:o.toUpperCase()}};D(["staark","common"],{array:x,attribute:T,clone:k,compare:h,conditional:F,element:E,factory:U,fctory:L,identifier:M,marker:R,match:O,memo:j,nde:S,node:_});})();
//# sourceMappingURL=staark-common.iife.min.js.map
