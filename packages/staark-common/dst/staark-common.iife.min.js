"use strict";(()=>{var H=Object.defineProperty;var a=(t,e)=>{for(var r in e)H(t,r,{get:e[r],enumerable:!0})};var D=function(t,e){let r=window;for(let o=0;o<t.length-1;o++)(typeof r[t[o]]!="object"||!Array.isArray(r[t[o]]))&&(r[t[o]]={}),r=r[t[o]];r[t[t.length-1]]=e};var C={};a(C,{arrayify:()=>y});var y=function(t){return Array.isArray(t)?t:[t]};var x={};a(x,{suffixNameIfMultiple:()=>K});var I="[]",K=t=>{t.multiple&&t.name&&!t.name.endsWith(I)&&(t.name+=I)};var T={};a(T,{cloneRecursive:()=>k});var k=t=>{if(typeof t=="object")if(Array.isArray(t)){let e=[];for(let r=0;r<t.length;r++)e.push(k(t[r]));t=e}else{let e={};for(let r in t)e[r]=k(t[r]);t=e}return t};var h={};a(h,{equalRecursive:()=>Q});var Q=(t,e)=>{if(t===e)return!0;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!t||!e||typeof t!="object"&&typeof e!="object")return t===e;if(t==null||e===null||e===void 0||t.prototype!==e.prototype)return!1;let r=Object.keys(t);return r.length!==Object.keys(e).length?!1:r.every(o=>Q(t[o],e[o]))};var _={};a(_,{conditional:()=>Z});var Z=(t,e,r)=>t?y(e):y(r!=null?r:[]);var R={};a(R,{childrenToNodes:()=>P});var F={};a(F,{node:()=>f});var E={};a(E,{marker:()=>d});var d=Symbol();var f=(t,e,r)=>((typeof e!="object"||e._===d||Array.isArray(e))&&(r=e,e=void 0),{_:d,a:e,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var P=t=>{var r;let e=[];for(let o=0;o<t.childNodes.length;o++){let s=t.childNodes[o];if(s instanceof Text)e.push((r=s.textContent)!=null?r:"");else{let c={};for(let i=0;i<s.attributes.length;i++){let m=s.attributes[i];c[m.name]=m.value}e.push(f(s.nodeName,c,P(s)))}}return e};var w={};a(w,{factory:()=>G});var G=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,s)=>f(r,o,s)}});var U={};a(U,{fctory:()=>V});var M="]",z="[",W=".",X="=",J="#",u="'",N='"';var l=t=>{let e=t.length,r=0,o="",s={},c="",i=!0,m=3,p=()=>{if(c){switch(m){case 0:s[c]=i===!0?!0:i,i=!0;break;case 1:if(!s.class){s.class=c;break}s.class+=" "+c;break;case 2:s.id=c;break;case 3:o=c;break}c=""}},n,b,q=()=>{for(b=0;r<e;){if(n=t[r],r++,n===X){i="",n=t[r];let A=n===N,g=n===u;for((A||g)&&(i+=n,r++);r<e;){if(n=t[r],A&&n===N||g&&n===u){i+=n,r++;break}else if(!A&&!g&&n===M)break;i+=n,r++}for((i[0]===N&&i[i.length-1]===N||i[0]===u&&i[i.length-1]===u)&&(i=i.substring(1,i.length-1));r<e&&(n=t[r],r++,n!==M););break}else if(n===z){b++;continue}else if(n===M){if(b--,b<0)break;continue}c+=n}p()};for(;r<e;){if(n=t[r],r++,n===J){p(),m=2;continue}else if(n===W){p(),m=1;continue}else if(n===z){p(),m=0,q();continue}c+=n}return[o,s]};var V=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,s)=>{let c;if(o){let[i,m]=l(o);c=m}return f(r,c,s)}}});var j={};a(j,{uniqueIdentifier:()=>$});var Y=0,$=()=>"-"+Y++;var S={};a(S,{memo:()=>B});var B=(t,e)=>({_:d,r:t,m:e});var L={};a(L,{nde:()=>v});var v=(t,e)=>{let[r,o]=l(t);return{_:d,a:o,c:e?Array.isArray(e)?e:[e]:[],t:r.toUpperCase()}};var O={};a(O,{text:()=>tt});var tt=t=>({_:d,c:Array.isArray(t)?t.join(""):""+t});D(["staark","common"],{array:C,attribute:x,clone:T,compare:h,conditional:_,element:R,factory:w,fctory:U,identifier:j,marker:E,memo:S,nde:L,node:F,text:O});})();
//# sourceMappingURL=staark-common.iife.min.js.map
