"use strict";(()=>{var Z=Object.defineProperty;var c=(t,e)=>{for(var o in e)Z(t,o,{get:e[o],enumerable:!0})};var D=function(t,e){let o=window;for(let r=0;r<t.length-1;r++)(typeof o[t[r]]!="object"||!Array.isArray(o[t[r]]))&&(o[t[r]]={}),o=o[t[r]];o[t[t.length-1]]=e};var x={};c(x,{arrayify:()=>b,arrayifyOrUndefined:()=>u});var b=t=>{var e;return(e=u(t))!=null?e:[]},u=t=>t?Array.isArray(t)?t:[t]:void 0;var k={};c(k,{suffixNameIfMultiple:()=>q});var Q="[]",q=t=>{t.multiple&&t.name&&!t.name.endsWith(Q)&&(t.name+=Q)};var T={};c(T,{cloneRecursive:()=>I});var I=t=>{if(typeof t=="object"){let e=Array.isArray(t)?[]:{};for(let o in t)e[o]=I(t[o]);return e}return t};var h={};c(h,{equalRecursive:()=>P});var P=(t,e)=>{if(t===e)return!0;if(!t||!e||typeof t!="object"||typeof e!="object")return t===e;if(t instanceof Date)return e instanceof Date&&t.getTime()===e.getTime();let o=Object.keys(t);return o.length===Object.keys(e).length&&o.every(r=>P(t[r],e[r]))};var F={};c(F,{conditional:()=>v});var v=(t,e,o)=>{let r=t?e:o;return typeof r=="function"&&(r=r()),b(r)};var E={};c(E,{childrenToNodes:()=>z});var _={};c(_,{node:()=>f});var R={};c(R,{marker:()=>a});var a="n";var f=(t,e,o)=>((typeof e!="object"||e._===a||Array.isArray(e))&&(o=e,e=void 0),{_:a,a:e,c:u(o),t:t.toUpperCase()});var z=t=>{var o;let e=[];for(let r of t.childNodes)if(r instanceof Text)e.push((o=r.textContent)!=null?o:"");else{let d=r,s={};for(let i of d.attributes)s[i.name]=i.value;e.push(f(r.nodeName,s,z(r)))}return e};var U={};c(U,{factory:()=>G});var G=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,d)=>f(o,r,d)}});var L={};c(L,{fctory:()=>V});var w="]",H="[",W=".",X="=",J="#",y="'",l='"';var A=t=>{let e=t.length,o=0,r="",d={},s="",i=!0,m=3,N=()=>{if(s){switch(m){case 0:d[s]=i===!0?!0:i,i=!0;break;case 1:if(!d.class){d.class=s;break}d.class+=" "+s;break;case 2:d.id=s;break;case 3:r=s;break}s=""}},n,p,K=()=>{for(p=0;o<e;){if(n=t[o],o++,n===X){i="",n=t[o];let g=n===l,C=n===y;for((g||C)&&(i+=n,o++);o<e;){if(n=t[o],g&&n===l||C&&n===y){i+=n,o++;break}else if(!g&&!C&&n===w)break;i+=n,o++}for((i[0]===l&&i[i.length-1]===l||i[0]===y&&i[i.length-1]===y)&&(i=i.substring(1,i.length-1));o<e&&(n=t[o],o++,n!==w););break}else if(n===H){p++;continue}else if(n===w){if(p--,p<0)break;continue}s+=n}N()};for(;o<e;){if(n=t[o],o++,n===J){N(),m=2;continue}else if(n===W){N(),m=1;continue}else if(n===H){N(),m=0,K();continue}s+=n}return[r,d]};var V=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,d)=>{let s;if(r){let[i,m]=A(r);s=m}return f(o,s,d)}}});var M={};c(M,{identifier:()=>$});var Y=0,$=t=>t+"-"+Y++;var O={};c(O,{match:()=>B});var B=(t,e,o)=>{let r;return e&&t in e&&e[t]?r=e[t]:r=o,typeof r=="function"&&(r=r()),b(r)};var j={};c(j,{memo:()=>tt});var tt=(t,e)=>({_:a,r:t,m:e});var S={};c(S,{nde:()=>et});var et=(t,e)=>{let[o,r]=A(t);return{_:a,a:r,c:u(e),t:o.toUpperCase()}};D(["staark","common"],{array:x,attribute:k,clone:T,compare:h,conditional:F,element:E,factory:U,fctory:L,identifier:M,marker:R,match:O,memo:j,nde:S,node:_});})();
//# sourceMappingURL=staark-common.iife.min.js.map
