"use strict";(()=>{var K=Object.defineProperty;var c=(t,e)=>{for(var o in e)K(t,o,{get:e[o],enumerable:!0})};var I=function(t,e){let o=window;for(let r=0;r<t.length-1;r++)(typeof o[t[r]]!="object"||!Array.isArray(o[t[r]]))&&(o[t[r]]={}),o=o[t[r]];o[t[t.length-1]]=e};var C={};c(C,{arrayify:()=>b});var b=function(t){return Array.isArray(t)?t:[t]};var x={};c(x,{suffixNameIfMultiple:()=>Z});var Q="[]",Z=t=>{t.multiple&&t.name&&!t.name.endsWith(Q)&&(t.name+=Q)};var h={};c(h,{cloneRecursive:()=>k});var k=t=>{if(typeof t=="object")if(Array.isArray(t)){let e=[];for(let o=0;o<t.length;o++)e.push(k(t[o]));t=e}else{let e={};for(let o in t)e[o]=k(t[o]);t=e}return t};var T={};c(T,{equalRecursive:()=>P});var P=(t,e)=>{if(t===e)return!0;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!t||!e||typeof t!="object"&&typeof e!="object")return t===e;if(t==null||e===null||e===void 0||t.prototype!==e.prototype)return!1;let o=Object.keys(t);return o.length!==Object.keys(e).length?!1:o.every(r=>P(t[r],e[r]))};var F={};c(F,{conditional:()=>G});var G=(t,e,o)=>{let r=t?e:o;return typeof r=="function"&&(r=r()),r?b(r):[]};var E={};c(E,{childrenToNodes:()=>z});var _={};c(_,{node:()=>m});var R={};c(R,{marker:()=>d});var d=Symbol();var m=(t,e,o)=>((typeof e!="object"||e._===d||Array.isArray(e))&&(o=e,e=void 0),{_:d,a:e,c:o?Array.isArray(o)?o:[o]:[],t:t.toUpperCase()});var z=t=>{let e=[];for(let o=0;o<t.childNodes.length;o++){let r=t.childNodes[o];if(r instanceof Text)e.push(r.textContent??"");else{let a={};for(let s=0;s<r.attributes.length;s++){let i=r.attributes[s];a[i.name]=i.value}e.push(m(r.nodeName,a,z(r)))}}return e};var w={};c(w,{factory:()=>W});var W=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,a)=>m(o,r,a)}});var U={};c(U,{fctory:()=>Y});var M="]",q="[",X=".",J="=",V="#",y="'",N='"';var l=t=>{let e=t.length,o=0,r="",a={},s="",i=!0,f=3,p=()=>{if(s){switch(f){case 0:a[s]=i===!0?!0:i,i=!0;break;case 1:if(!a.class){a.class=s;break}a.class+=" "+s;break;case 2:a.id=s;break;case 3:r=s;break}s=""}},n,u,H=()=>{for(u=0;o<e;){if(n=t[o],o++,n===J){i="",n=t[o];let A=n===N,g=n===y;for((A||g)&&(i+=n,o++);o<e;){if(n=t[o],A&&n===N||g&&n===y){i+=n,o++;break}else if(!A&&!g&&n===M)break;i+=n,o++}for((i[0]===N&&i[i.length-1]===N||i[0]===y&&i[i.length-1]===y)&&(i=i.substring(1,i.length-1));o<e&&(n=t[o],o++,n!==M););break}else if(n===q){u++;continue}else if(n===M){if(u--,u<0)break;continue}s+=n}p()};for(;o<e;){if(n=t[o],o++,n===V){p(),f=2;continue}else if(n===X){p(),f=1;continue}else if(n===q){p(),f=0,H();continue}s+=n}return[r,a]};var Y=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,a)=>{let s;if(r){let[i,f]=l(r);s=f}return m(o,s,a)}}});var j={};c(j,{uniqueIdentifier:()=>B});var $=0,B=()=>"-"+$++;var S={};c(S,{match:()=>v});var v=(t,e)=>{if(e&&t in e&&e[t]){let o=e[t];return typeof o=="function"&&(o=o(),!o)?[]:b(o)}return[]};var L={};c(L,{memo:()=>tt});var tt=(t,e)=>({_:d,r:t,m:e});var O={};c(O,{nde:()=>et});var et=(t,e)=>{let[o,r]=l(t);return{_:d,a:r,c:e?Array.isArray(e)?e:[e]:[],t:o.toUpperCase()}};var D={};c(D,{text:()=>ot});var ot=t=>({_:d,c:Array.isArray(t)?t.join(""):""+t});I(["staark","common"],{array:C,attribute:x,clone:h,compare:T,conditional:F,element:E,factory:w,fctory:U,identifier:j,marker:R,match:S,memo:L,nde:O,node:_,text:D});})();
//# sourceMappingURL=staark-common.iife.min.js.map
