var p=t=>Array.isArray(t)?t:[t];var g="[]",M=t=>{t.multiple&&t.name&&!t.name.endsWith(g)&&(t.name+=g)};var k=t=>{if(typeof t=="object"){let e=Array.isArray(t)?[]:{};for(let o in t)e[o]=k(t[o]);return e}return t};var T=(t,e)=>{if(t===e)return!0;if(!t||!e||typeof t!="object"||typeof e!="object")return t===e;if(t instanceof Date)return e instanceof Date&&t.getTime()===e.getTime();let o=Object.keys(t);return o.length===Object.keys(e).length&&o.every(r=>T(t[r],e[r]))};var D=(t,e,o)=>{let r=t?e:o;return typeof r=="function"&&(r=r()),r?p(r):[]};var a="n";var u=(t,e,o)=>((typeof e!="object"||e._===a||Array.isArray(e))&&(o=e,e=void 0),{_:a,a:e,c:o?Array.isArray(o)?o:[o]:[],t:t.toUpperCase()});var F=t=>{var o;let e=[];for(let r=0;r<t.childNodes.length;r++){let s=t.childNodes[r];if(s instanceof Text)e.push((o=s.textContent)!=null?o:"");else{let c={};for(let i=0;i<s.attributes.length;i++){let d=s.attributes[i];c[d.name]=d.value}e.push(u(s.nodeName,c,F(s)))}}return e};var J=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,s)=>u(o,r,s)}});var x="]",C="[",R=".",_="=",E="#",N="'",m='"';var y=t=>{let e=t.length,o=0,r="",s={},c="",i=!0,d=3,f=()=>{if(c){switch(d){case 0:s[c]=i===!0?!0:i,i=!0;break;case 1:if(!s.class){s.class=c;break}s.class+=" "+c;break;case 2:s.id=c;break;case 3:r=c;break}c=""}},n,b,h=()=>{for(b=0;o<e;){if(n=t[o],o++,n===_){i="",n=t[o];let l=n===m,A=n===N;for((l||A)&&(i+=n,o++);o<e;){if(n=t[o],l&&n===m||A&&n===N){i+=n,o++;break}else if(!l&&!A&&n===x)break;i+=n,o++}for((i[0]===m&&i[i.length-1]===m||i[0]===N&&i[i.length-1]===N)&&(i=i.substring(1,i.length-1));o<e&&(n=t[o],o++,n!==x););break}else if(n===C){b++;continue}else if(n===x){if(b--,b<0)break;continue}c+=n}f()};for(;o<e;){if(n=t[o],o++,n===E){f(),d=2;continue}else if(n===R){f(),d=1;continue}else if(n===C){f(),d=0,h();continue}c+=n}return[r,s]};var rt=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let o=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,s)=>{let c;if(r){let[i,d]=y(r);c=d}return u(o,c,s)}}});var L=0,it=t=>t+"-"+L++;var dt=(t,e)=>{if(e&&t in e&&e[t]){let o=e[t];return typeof o=="function"&&(o=o(),!o)?[]:p(o)}return[]};var ft=(t,e)=>({_:a,r:t,m:e});var mt=(t,e)=>{let[o,r]=y(t);return{_:a,a:r,c:e?Array.isArray(e)?e:[e]:[],t:o.toUpperCase()}};export{p as arrayify,F as childrenToNodes,k as cloneRecursive,D as conditional,T as equalRecursive,J as factory,rt as fctory,it as identifier,a as marker,dt as match,ft as memo,mt as nde,u as node,M as suffixNameIfMultiple};
//# sourceMappingURL=staark-common.min.js.map
