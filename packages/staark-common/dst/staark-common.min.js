var y=e=>x(e)||[],x=e=>e?Array.isArray(e)?e:[e]:void 0;var U="[]",Q=e=>{e.multiple&&e.name&&!e.name.endsWith(U)&&(e.name+=U)};var C=e=>{if(typeof e=="object"){let r=Array.isArray(e)?[]:{};for(let t in e)r[t]=C(e[t]);return r}return e};var N=(e,r)=>{if(e===r)return!0;if(!e||!r||typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();let t=Object.keys(e);return t.length===Object.keys(r).length&&t.every(o=>N(e[o],r[o]))};var z=(e,r,t)=>{let o=e?r:t;return typeof o=="function"&&(o=o()),y(o)};var p="n";var a=(e,r,t)=>((typeof r!="object"||r._===p||Array.isArray(r))&&(t=r,r=void 0),{_:p,a:r,c:x(t),t:e.toUpperCase()});var O=e=>{var t;let r=[];for(let o of e.childNodes)if(o instanceof Text)r.push((t=o.textContent)!=null?t:"");else{let f={};for(let s of o.attributes)f[s.name]=s.value;r.push(a(o.nodeName,f,O(o)))}return r};var X=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let t=(r[0]+r.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[r]=(o,f)=>a(t,o,f)}});var g="]",_="[",w=".",A="=",j="#",l="'",b='"',c={attribute:0,class:1,id:2,type:3},h=e=>{let r=e.length,t=0,o="",f={},s="",i=!0,m=c.type,d=()=>{if(s){switch(m){case c.attribute:f[s]=i===!0?!0:i,i=!0;break;case c.class:if(!f.class){f.class=s;break}f.class+=" "+s;break;case c.id:f.id=s;break;case c.type:o=s;break}s=""}},n,u,E=()=>{for(u=0;t<r;){if(n=e[t],t++,n===A){i="",n=e[t];let k=n===b,T=n===l;for((k||T)&&(i+=n,t++);t<r;){if(n=e[t],k&&n===b||T&&n===l){i+=n,t++;break}else if(!k&&!T&&n===g)break;i+=n,t++}for((i[0]===b&&i[i.length-1]===b||i[0]===l&&i[i.length-1]===l)&&(i=i.substring(1,i.length-1));t<r&&(n=e[t],t++,n!==g););break}else if(n===_){u++;continue}else if(n===g){if(u--,u<0)break;continue}s+=n}d()};for(;t<r;){if(n=e[t],t++,n===j){d(),m=c.id;continue}else if(n===w){d(),m=c.class;continue}else if(n===_){d(),m=c.attribute,E();continue}s+=n}return[o,f]};var B=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let t=(r[0]+r.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[r]=(o,f)=>{let s;if(o){let[i,m]=h(o);s=m}return a(t,s,f)}}});var L=0,ee=e=>e+"-"+L++;var oe=(e,r,t)=>{let o;return r&&e in r&&r[e]?o=r[e]:o=t,typeof o=="function"&&(o=o()),y(o)};var se=(e,r)=>({_:p,r:e,m:r});var ae=(e,r)=>{let[t,o]=h(e);return{_:p,a:o,c:x(r),t:t.toUpperCase()}};export{y as arrayify,x as arrayifyOrUndefined,O as childrenToNodes,C as cloneRecursive,z as conditional,N as equalRecursive,X as factory,B as fctory,ee as identifier,p as marker,oe as match,se as memo,ae as nde,a as node,Q as suffixNameIfMultiple};
