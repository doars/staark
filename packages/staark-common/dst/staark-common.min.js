var y=e=>x(e)||[],x=e=>e?Array.isArray(e)?e:[e]:void 0;var U="[]",Q=e=>{e.multiple&&e.name&&!e.name.endsWith(U)&&(e.name+=U)};var N=e=>{if(typeof e=="object"){let r=Array.isArray(e)?[]:{};for(let t in e)r[t]=N(e[t]);return r}return e};var w=(e,r)=>{if(e===r)return!0;if(!e||!r||typeof e!="object"||typeof r!="object")return e===r;if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();let t=Object.keys(e);return t.length===Object.keys(r).length&&t.every(o=>w(e[o],r[o]))};var z=(e,r,t)=>{let o=e?r:t;return typeof o=="function"&&(o=o()),y(o)};var p="n";var a=(e,r,t)=>(r&&(typeof r!="object"||r._===p||Array.isArray(r))&&(t=r,r=void 0),{_:p,a:r,c:x(t),t:e.toUpperCase()});var A=e=>{var t;let r=[];for(let o of e.childNodes)if(o instanceof Text)r.push((t=o.textContent)!=null?t:"");else{let s={};for(let f of o.attributes)s[f.name]=f.value;r.push(a(o.nodeName,s,A(o)))}return r};var X=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let t=(r[0]+r.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[r]=(o,s)=>a(t,o,s)}});var g="]",_="[",C=".",O="=",j="#",l="'",b='"',c={attribute:0,class:1,id:2,type:3},h=e=>{let r=e.length,t=0,o="",s={},f="",i=!0,m=c.type,d=()=>{if(f){switch(m){case c.attribute:s[f]=i===!0?!0:i,i=!0;break;case c.class:if(!s.class){s.class=f;break}s.class+=" "+f;break;case c.id:s.id=f;break;case c.type:o=f;break}f=""}},n,u,E=()=>{for(u=0;t<r;){if(n=e[t],t++,n===O){i="",n=e[t];let k=n===b,T=n===l;for((k||T)&&(i+=n,t++);t<r;){if(n=e[t],k&&n===b||T&&n===l){i+=n,t++;break}else if(!k&&!T&&n===g)break;i+=n,t++}for((i[0]===b&&i[i.length-1]===b||i[0]===l&&i[i.length-1]===l)&&(i=i.substring(1,i.length-1));t<r&&(n=e[t],t++,n!==g););break}else if(n===_){u++;continue}else if(n===g){if(u--,u<0)break;continue}f+=n}d()};for(;t<r;){if(n=e[t],t++,n===j){d(),m=c.id;continue}else if(n===C){d(),m=c.class;continue}else if(n===_){d(),m=c.attribute,E();continue}f+=n}return[o,s]};var B=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let t=(r[0]+r.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[r]=(o,s)=>{let f;if(o){let[i,m]=h(o);f=m}return a(t,f,s)}}});var L=0,ee=e=>e+"-"+L++;var oe=(e,r,t)=>{let o;return r&&e in r&&r[e]?o=r[e]:o=t,typeof o=="function"&&(o=o()),y(o)};var fe=(e,r)=>({_:p,r:e,m:r});var ae=(e,r)=>{let[t,o]=h(e);return{_:p,a:o,c:x(r),t:t.toUpperCase()}};export{y as arrayify,x as arrayifyOrUndefined,A as childrenToNodes,N as cloneRecursive,z as conditional,w as equalRecursive,X as factory,B as fctory,ee as identifier,p as marker,oe as match,fe as memo,ae as nde,a as node,Q as suffixNameIfMultiple};
