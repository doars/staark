var R=(H)=>V(H)||[],V=(H)=>H?Array.isArray(H)?H:[H]:void 0;var j=(H,K,P)=>{let J=H?K:P;if(typeof J==="function")J=J();return R(J)};var Q="n";var _=(H,K,P)=>{if(K&&(typeof K!=="object"||K._===Q||Array.isArray(K)))P=K,K=void 0;return{_:Q,a:K,c:V(P),t:H}};var I=new Proxy({},{get:(H,K)=>{if(H[K])return H[K];let P=K[0].toLowerCase()+K.substring(1).replace(/([A-Z])/g,(J)=>"-"+J.toLowerCase());return H[K]=(J,W)=>_(P,J,W)}});var U={attribute:0,class:1,id:2,type:3},F=(H)=>{let K=H.length,P=0,J="",W={},Z="",X=!0,M=U.type,D=()=>{if(Z){switch(M){case U.attribute:W[Z]=X===!0?!0:X,X=!0;break;case U.class:if(!W.class){W.class=Z;break}W.class+=" "+Z;break;case U.id:W.id=Z;break;case U.type:J=Z;break}Z=""}},Y,z,$=()=>{z=0;while(P<K){if(Y=H[P],P++,Y==="="){X="",Y=H[P];let L=Y==='"',q=Y==="'";if(L||q)X+=Y,P++;while(P<K){if(Y=H[P],L&&Y==='"'||q&&Y==="'"){X+=Y,P++;break}else if(!L&&!q&&Y==="]")break;X+=Y,P++}if(X[0]==='"'&&X[X.length-1]==='"'||X[0]==="'"&&X[X.length-1]==="'")X=X.substring(1,X.length-1);while(P<K)if(Y=H[P],P++,Y==="]")break;break}else if(Y==="["){z++;continue}else if(Y==="]"){if(z--,z<0)break;continue}Z+=Y}D()};while(P<K){if(Y=H[P],P++,Y==="#"){D(),M=U.id;continue}else if(Y==="."){D(),M=U.class;continue}else if(Y==="["){D(),M=U.attribute,$();continue}Z+=Y}return D(),[J,W]};var B=new Proxy({},{get:(H,K)=>{if(H[K])return H[K];let P=K[0].toLowerCase()+K.substring(1).replace(/([A-Z])/g,(J)=>"-"+J.toLowerCase());return H[K]=(J,W)=>{let Z;if(J){let[X,M]=F(J);Z=M}return _(P,Z,W)}}});var x=0,O=(H)=>H+"-"+x++;var g=(H,K,P)=>{let J;if(K&&H in K&&K[H])J=K[H];else J=P;if(typeof J==="function")J=J();return R(J)};var f=(H,K)=>{let[P,J]=F(H);return{_:Q,a:J,c:V(K),t:P}};var E=(H)=>{let K=[];for(let P of H.childNodes)if(P instanceof Text)K.push(P.textContent??"");else{let J={};for(let W of P.attributes)J[W.name]=W.value;K.push(_(P.nodeName,J,E(P)))}return K};var S=(H,K,P)=>{if(K)for(let J in K){let W=K[J];if(W){let Z=typeof W;if(Z==="function"){let X=P?.[J];if(X!==W){if(X)H.removeEventListener(J,X);H.addEventListener(J,W)}}else if(J==="class"){if(typeof W==="object")if(Array.isArray(W))W=W.join(" ");else{let X="";for(let M in W)if(W[M])X+=" "+M;W=X}H.className=W}else if(J==="style"&&typeof W==="object"){for(let X in W){let M=W[X];if(X.includes("-",1))H.style.setProperty(X,M);else H.style[X]=M}if(P&&P[J]&&typeof P[J]==="object"&&!Array.isArray(P[J])){for(let X in P[J])if(!W[X])if(X.includes("-",1))H.style.removeProperty(X);else H.style[X]=null}}else{if(W===!0)W="true";else if(Z!=="string")W=W.toString();if(H.setAttribute(J,W),J==="value")H.value=W}}}if(P){for(let J in P)if(!K||!K[J])if(typeof P[J]==="function")H.removeEventListener(J,P[J]);else if(J==="class")H.className="";else if(J==="style")H.style.cssText="";else if(J==="value")H.value="";else H.removeAttribute(J)}},v=(H,K)=>{let P="moveBefore"in Element.prototype,J=(Z,X,M,D)=>{let Y=0,z=0;if(X)for(;Y<X.length;Y++){let $=X[Y],L=!1;if(M)for(let q=Y-z;q<M.length;q++){let G=M[q];if(G.t&&$.t===G.t||!G.t&&!$.t){if(L=!0,Y!==q+z)Z[P?"moveBefore":"insertBefore"](Z.childNodes[q+z],Z.childNodes[Y]),M.splice(Y-z,0,M.splice(q,1)[0]);if($.t)S(Z.childNodes[Y],$.a,G.a),J(Z.childNodes[Y],$.c,G.c,D||$.t==="SVG"||$.t==="svg");else if(G!==$)Z.childNodes[Y].textContent=$;break}}if(!L){let q;if($.t){let G=D||$.t==="SVG"||$.t==="svg";if(G)q=document.createElementNS("http://www.w3.org/2000/svg",$.t);else q=document.createElement($.t);S(q,$.a),J(q,$.c,void 0,G)}else q=document.createTextNode($);Z.insertBefore(q,Z.childNodes[Y]),z++}}if(M){let $=M.length+z;if($>=Y)for(let L=$-1;L>=Y;L--)Z.childNodes[L].remove()}},W=typeof H==="string"?document.querySelector(H)||document.body.appendChild(document.createElement("div")):H;if(typeof K==="string")try{K=JSON.parse(K)}catch(Z){K=null}if(!K)K=E(W);return(Z)=>{Z=V(Z),J(W,Z,K),K=Z}};export{v as prepare,_ as node,f as nde,g as match,O as identifier,B as fctory,I as factory,j as conditional};

//# debugId=E1246C9DEA909FF864756E2164756E21
