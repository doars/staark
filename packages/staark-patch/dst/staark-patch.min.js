var R=(H)=>V(H)||[],V=(H)=>H?Array.isArray(H)?H:[H]:void 0;var j=(H,K,M)=>{let J=H?K:M;if(typeof J==="function")J=J();return R(J)};var Q="n";var _=(H,K,M)=>{if(K&&(typeof K!=="object"||K._===Q||Array.isArray(K)))M=K,K=void 0;return{_:Q,a:K,c:V(M),t:H}};var I=new Proxy({},{get:(H,K)=>{if(H[K])return H[K];let M=K[0].toLowerCase()+K.substring(1).replace(/([A-Z])/g,(J)=>"-"+J.toLowerCase());return H[K]=(J,P)=>_(M,J,P)}});var U={attribute:0,class:1,id:2,type:3},F=(H)=>{let K=H.length,M=0,J="",P={},Y="",W=!0,$=U.type,D=()=>{if(Y){switch($){case U.attribute:P[Y]=W===!0?!0:W,W=!0;break;case U.class:if(!P.class){P.class=Y;break}P.class+=" "+Y;break;case U.id:P.id=Y;break;case U.type:J=Y;break}Y=""}},X,z,Z=()=>{z=0;while(M<K){if(X=H[M],M++,X==="="){W="",X=H[M];let L=X==='"',q=X==="'";if(L||q)W+=X,M++;while(M<K){if(X=H[M],L&&X==='"'||q&&X==="'"){W+=X,M++;break}else if(!L&&!q&&X==="]")break;W+=X,M++}if(W[0]==='"'&&W[W.length-1]==='"'||W[0]==="'"&&W[W.length-1]==="'")W=W.substring(1,W.length-1);while(M<K)if(X=H[M],M++,X==="]")break;break}else if(X==="["){z++;continue}else if(X==="]"){if(z--,z<0)break;continue}Y+=X}D()};while(M<K){if(X=H[M],M++,X==="#"){D(),$=U.id;continue}else if(X==="."){D(),$=U.class;continue}else if(X==="["){D(),$=U.attribute,Z();continue}Y+=X}return D(),[J,P]};var B=new Proxy({},{get:(H,K)=>{if(H[K])return H[K];let M=K[0].toLowerCase()+K.substring(1).replace(/([A-Z])/g,(J)=>"-"+J.toLowerCase());return H[K]=(J,P)=>{let Y;if(J){let[W,$]=F(J);Y=$}return _(M,Y,P)}}});var x=0,O=(H)=>H+"-"+x++;var g=(H,K,M)=>{let J;if(K&&H in K&&K[H])J=K[H];else J=M;if(typeof J==="function")J=J();return R(J)};var f=(H,K)=>{let[M,J]=F(H);return{_:Q,a:J,c:V(K),t:M}};var E=(H)=>{let K=[];for(let M of H.childNodes)if(M instanceof Text)K.push(M.textContent??"");else{let J={};for(let P of M.attributes)J[P.name]=P.value;K.push(_(M.nodeName,J,E(M)))}return K};var S=(H,K,M)=>{if(K)for(let J in K){let P=K[J];if(P){let Y=typeof P;if(Y==="function"){let W=M?.[J];if(W!==P){if(W)H.removeEventListener(J,W);H.addEventListener(J,P)}}else if(J==="class"){if(typeof P==="object")if(Array.isArray(P))P=P.join(" ");else{let W="";for(let $ in P)if(P[$])W+=" "+$;P=W}H.className=P}else if(J==="style"&&typeof P==="object"){for(let W in P){let $=P[W];if(W.includes("-",1))H.style.setProperty(W,$);else H.style[W]=$}if(M&&M[J]&&typeof M[J]==="object"&&!Array.isArray(M[J])){for(let W in M[J])if(!P[W])if(W.includes("-",1))H.style.removeProperty(W);else H.style[W]=null}}else{if(P===!0)P="true";else if(Y!=="string")P=P.toString();if(H.setAttribute(J,P),J==="value")H.value=P}}}if(M){for(let J in M)if(!K||!K[J])if(typeof M[J]==="function")H.removeEventListener(J,M[J]);else if(J==="class")H.className="";else if(J==="style")H.style.cssText="";else if(J==="value")H.value="";else H.removeAttribute(J)}},v=(H,K)=>{let M="moveBefore"in Element.prototype?"moveBefore":"insertBefore",J=(Y,W,$,D)=>{let X=0,z=0;if(W)for(;X<W.length;X++){let Z=W[X],L=!1;if($)for(let q=X-z;q<$.length;q++){let G=$[q];if(G.t&&Z.t===G.t||!G.t&&!Z.t){if(L=!0,X!==q+z)Y[M](Y.childNodes[q+z],Y.childNodes[X]),$.splice(X-z,0,$.splice(q,1)[0]);if(Z.t)S(Y.childNodes[X],Z.a,G.a),J(Y.childNodes[X],Z.c,G.c,D||Z.t==="SVG"||Z.t==="svg");else if(G!==Z)Y.childNodes[X].textContent=Z;break}}if(!L){let q;if(Z.t){let G=D||Z.t==="SVG"||Z.t==="svg";if(G)q=document.createElementNS("http://www.w3.org/2000/svg",Z.t);else q=document.createElement(Z.t);S(q,Z.a),J(q,Z.c,void 0,G)}else q=document.createTextNode(Z);Y.insertBefore(q,Y.childNodes[X]),z++}}if($){let Z=$.length+z;if(Z>=X)for(let L=Z-1;L>=X;L--)Y.childNodes[L].remove()}},P=typeof H==="string"?document.querySelector(H)||document.body.appendChild(document.createElement("div")):H;if(typeof K==="string")try{K=JSON.parse(K)}catch(Y){K=null}if(!K)K=E(P);return(Y)=>{Y=V(Y),J(P,Y,K),K=Y}};export{v as prepare,_ as node,f as nde,g as match,O as identifier,B as fctory,I as factory,j as conditional};

//# debugId=B29A2BB92E432CD564756E2164756E21
