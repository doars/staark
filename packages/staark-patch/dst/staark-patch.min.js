var x=function(o){return Array.isArray(o)?o:[o]};var R=(o,t,r)=>o?x(t):x(r!=null?r:[]);var m=Symbol();var l=(o,t,r)=>((typeof t!="object"||t._===m||Array.isArray(t))&&(r=t,t=void 0),{_:m,a:t,c:r?Array.isArray(r)?r:[r]:[],t:o.toUpperCase()});var G=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,s=>"-"+s)).toUpperCase();return o[t]=(s,e)=>l(r,s,e)}});var v="]",S="[",H=".",I="=",P="#",C="'",k='"';var T=o=>{let t=o.length,r=0,s="",e={},c="",n=!0,d=3,a=()=>{if(c){switch(d){case 0:e[c]=n===!0?!0:n,n=!0;break;case 1:if(!e.class){e.class=c;break}e.class+=" "+c;break;case 2:e.id=c;break;case 3:s=c;break}c=""}},i,p,E=()=>{for(p=0;r<t;){if(i=o[r],r++,i===I){n="",i=o[r];let y=i===k,g=i===C;for((y||g)&&(n+=i,r++);r<t;){if(i=o[r],y&&i===k||g&&i===C){n+=i,r++;break}else if(!y&&!g&&i===v)break;n+=i,r++}for((n[0]===k&&n[n.length-1]===k||n[0]===C&&n[n.length-1]===C)&&(n=n.substring(1,n.length-1));r<t&&(i=o[r],r++,i!==v););break}else if(i===S){p++;continue}else if(i===v){if(p--,p<0)break;continue}c+=i}a()};for(;r<t;){if(i=o[r],r++,i===P){a(),d=2;continue}else if(i===H){a(),d=1;continue}else if(i===S){a(),d=0,E();continue}c+=i}return[s,e]};var te=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,s=>"-"+s)).toUpperCase();return o[t]=(s,e)=>{let c;if(s){let[n,d]=T(s);c=d}return l(r,c,e)}}});var se=(o,t)=>{let[r,s]=T(o);return{_:m,a:s,c:t?Array.isArray(t)?t:[t]:[],t:r.toUpperCase()}};var ce=o=>({_:m,c:Array.isArray(o)?o.join(""):""+o});var L=o=>{var r;let t=[];for(let s=0;s<o.childNodes.length;s++){let e=o.childNodes[s];if(e instanceof Text)t.push((r=e.textContent)!=null?r:"");else{let c={};for(let n=0;n<e.attributes.length;n++){let d=e.attributes[n];c[d.name]=d.value}t.push(l(e.nodeName,c,L(e)))}}return t};var M=/[A-Z]+(?![a-z])|[A-Z]/g,B=(o,t)=>(t?"-":"")+o,j=(o,t,r)=>{if(t)for(let s in t){let e=t[s];if(e){let c=typeof e;if(c==="function"){o.addEventListener(s,e);continue}else{if(s==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let n="";for(let d in e)e[d]&&(n+=" "+d);e=n}}else if(s==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let n="";for(let d in e){let a=e[d];d=d.replace(M,B).toLowerCase(),Array.isArray(a)?n+=";"+d+":"+a.join(" "):a&&(n+=";"+d+":"+a)}e=n}}else c==="boolean"?e="true":c!=="string"&&(e=e.toString()),s==="value"&&o.value!==e?o.value=e:s==="checked"&&(o.checked=t[s]);o.setAttribute(s,e)}}}if(r)for(let s in r)typeof r[s]=="function"?o.removeEventListener(s,r[s]):(!t||!(s in t)||!t[s])&&(s==="value"?o.value="":s==="checked"&&(o.checked=!1),o.removeAttribute(s))},ye=(o,t)=>{let r=(e,c,n,d)=>{var E,y,g;let a=0,i=0;if(c)for(;a<c.length;a++){let N=c[a],_=!1;if(n)for(let f=a-i;f<n.length;f++){let u=n[f];if(u.t&&N.t===u.t||!u.t&&!N.t){_=!0,a!==f&&(e.insertBefore(e.childNodes[f+i],e.childNodes[a]),n.splice(a-i,0,...n.splice(f,1))),N.t?(j(e.childNodes[a],N.a,u.a),r(e.childNodes[a],N.c,u.c,u)):e.childNodes[a].textContent=typeof N=="string"?N:N.c;break}}if(!_){let f;if(N.t){f=document.createElement(N.t),N.a&&j(f,N.a),N.c&&r(f,N.c);let u=(b,A,h)=>{!A||A.t?b.insertAdjacentElement(h,f):b.parentNode.insertBefore(f,b)};a===0?u(e,d,"afterbegin"):((E=n==null?void 0:n.length)!=null?E:0)+i>a?u(e.childNodes[a],n[a+i],"beforebegin"):u(e,d,"beforeend"),i++}else{f=typeof N=="string"?N:N.c;let u=(b,A,h)=>{!A||A.t?b.insertAdjacentText(h,f):b.parentNode.insertBefore(document.createTextNode(f),b.nextSibling)};a===0?u(e,d,"afterbegin"):((y=n==null?void 0:n.length)!=null?y:0)+i>a?u(e.childNodes[a],n[a+i],"beforebegin"):u(e,d,"beforeend"),i++}}}let p=((g=n==null?void 0:n.length)!=null?g:0)+i;if(p>=a)for(let N=p-1;N>=a;N--)e.childNodes[N].remove()},s=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof t=="string")try{t=JSON.parse(t)}catch(e){t=void 0}return t!=null||(t=L(s)),e=>{e=x(e),r(s,e,t),t=e}};export{R as conditional,G as factory,te as fctory,se as nde,l as node,ye as prepare,ce as text};
//# sourceMappingURL=staark-patch.min.js.map
