var m=o=>Array.isArray(o)?o:[o];var w=(o,t,n)=>{let r=o?t:n;return typeof r=="function"&&(r=r()),r?m(r):[]};var x="n";var g=(o,t,n)=>((typeof t!="object"||t._===x||Array.isArray(t))&&(n=t,t=void 0),{_:x,a:t,c:n?Array.isArray(n)?n:[n]:[],t:o.toUpperCase()});var G=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let n=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,e)=>g(n,r,e)}});var L="]",R="[",H=".",P="=",I="#",v="'",h='"';var k=o=>{let t=o.length,n=0,r="",e={},d="",s=!0,c=3,a=()=>{if(d){switch(c){case 0:e[d]=s===!0?!0:s,s=!0;break;case 1:if(!e.class){e.class=d;break}e.class+=" "+d;break;case 2:e.id=d;break;case 3:r=d;break}d=""}},i,p,C=()=>{for(p=0;n<t;){if(i=o[n],n++,i===P){s="",i=o[n];let y=i===h,b=i===v;for((y||b)&&(s+=i,n++);n<t;){if(i=o[n],y&&i===h||b&&i===v){s+=i,n++;break}else if(!y&&!b&&i===L)break;s+=i,n++}for((s[0]===h&&s[s.length-1]===h||s[0]===v&&s[s.length-1]===v)&&(s=s.substring(1,s.length-1));n<t&&(i=o[n],n++,i!==L););break}else if(i===R){p++;continue}else if(i===L){if(p--,p<0)break;continue}d+=i}a()};for(;n<t;){if(i=o[n],n++,i===I){a(),c=2;continue}else if(i===H){a(),c=1;continue}else if(i===R){a(),c=0,C();continue}d+=i}return[r,e]};var oe=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let n=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,e)=>{let d;if(r){let[s,c]=k(r);d=c}return g(n,d,e)}}});var M=0,re=o=>o+"-"+M++;var ae=(o,t)=>{if(t&&o in t&&t[o]){let n=t[o];return typeof n=="function"&&(n=n(),!n)?[]:m(n)}return[]};var fe=(o,t)=>{let[n,r]=k(o);return{_:x,a:r,c:t?Array.isArray(t)?t:[t]:[],t:n.toUpperCase()}};var T=o=>{var n;let t=[];for(let r=0;r<o.childNodes.length;r++){let e=o.childNodes[r];if(e instanceof Text)t.push((n=e.textContent)!=null?n:"");else{let d={};for(let s=0;s<e.attributes.length;s++){let c=e.attributes[s];d[c.name]=c.value}t.push(g(e.nodeName,d,T(e)))}}return t};var j=/[A-Z]+(?![a-z])|[A-Z]/g,S=(o,t)=>(t?"-":"")+o,_=(o,t,n)=>{if(t)for(let r in t){let e=t[r];if(e){let d=typeof e;if(d==="function"){if(n&&n[r]){if(n[r]===e)continue;o.removeEventListener(r,n[r])}o.addEventListener(r,e)}else if(r==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let s="";for(let c in e)e[c]&&(s+=" "+c);e=s}o.className=e}else if(r==="style"){if(typeof e=="object")if(Array.isArray(e))for(let s of e){let[c,...a]=s.split(":");o.style.setProperty(c,a.join(":"))}else for(let s in e){let c=e[s];s=s.replace(j,S).toLowerCase(),Array.isArray(c)&&(c=c.join(" ")),o.style.setProperty(s,c.toString())}}else{if(d==="boolean"){if(!e){o.removeAttribute(r);continue}e="true"}else d!=="string"&&(e=e.toString());r==="value"&&o.value!==e?o.value=e:r==="checked"&&(o.checked=t[r]),o.setAttribute(r,e)}}}if(n)for(let r in n)(!t||!t[r])&&(typeof n[r]=="function"?o.removeEventListener(r,n[r]):(r==="value"?o.value="":r==="checked"&&(o.checked=!1),o.removeAttribute(r)))},Ae=(o,t)=>{let n=(e,d,s,c)=>{var C,y,b;let a=0,i=0;if(d)for(;a<d.length;a++){let N=d[a],F=!1;if(s)for(let u=a-i;u<s.length;u++){let f=s[u];if(f.t&&N.t===f.t||!f.t&&!N.t){F=!0,a!==u+i&&(e.insertBefore(e.childNodes[u+i],e.childNodes[a]),s.splice(a-i,0,...s.splice(u,1))),N.t?(_(e.childNodes[a],N.a,f.a),n(e.childNodes[a],N.c,f.c,f)):f!==N&&(e.childNodes[a].textContent=N);break}}if(!F){let u;if(N.t){u=document.createElement(N.t),N.a&&_(u,N.a),N.c&&n(u,N.c);let f=(l,A,E)=>{E&&(!A||A.t)?l.insertAdjacentElement(E,u):l.parentNode.insertBefore(u,l)};a===0?f(e,c,"afterbegin"):((C=s==null?void 0:s.length)!=null?C:0)+i>a?f(e.childNodes[a]):f(e,c,"beforeend")}else{let f=(l,A,E)=>{E&&(!A||A.t)?l.insertAdjacentText(E,N):l.parentNode.insertBefore(document.createTextNode(N),l)};a===0?f(e,c,"afterbegin"):((y=s==null?void 0:s.length)!=null?y:0)+i>a?f(e.childNodes[a]):f(e,c,"beforeend")}i++}}let p=((b=s==null?void 0:s.length)!=null?b:0)+i;if(p>=a)for(let N=p-1;N>=a;N--)e.childNodes[N].remove()},r=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof t=="string")try{t=JSON.parse(t)}catch(e){t=void 0}return t!=null||(t=T(r)),e=>{e=m(e),n(r,e,t),t=e}};export{w as conditional,G as factory,oe as fctory,re as identifier,ae as match,fe as nde,g as node,Ae as prepare};
//# sourceMappingURL=staark-patch.min.js.map
