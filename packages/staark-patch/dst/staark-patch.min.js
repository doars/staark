var y=Symbol();var l=(o,t,r)=>((typeof t!="object"||t._===y||Array.isArray(t))&&(r=t,t=void 0),{_:y,a:t,c:r?Array.isArray(r)?r:[r]:[],t:o.toUpperCase()});var D=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,s=>"-"+s)).toUpperCase();return o[t]=(s,e)=>l(r,s,e)}});var h="]",_="[",j=".",H="=",I="#",E="'",C='"';var k=o=>{let t=o.length,r=0,s="",e={},c="",n=!0,f=3,a=()=>{if(c){switch(f){case 0:e[c]=n===!0?!0:n,n=!0;break;case 1:if(!e.class){e.class=c;break}e.class+=" "+c;break;case 2:e.id=c;break;case 3:s=c;break}c=""}},i,p,x=()=>{for(p=0;r<t;){if(i=o[r],r++,i===H){n="",i=o[r];let g=i===C,m=i===E;for((g||m)&&(n+=i,r++);r<t;){if(i=o[r],g&&i===C||m&&i===E){n+=i,r++;break}else if(!g&&!m&&i===h)break;n+=i,r++}for((n[0]===C&&n[n.length-1]===C||n[0]===E&&n[n.length-1]===E)&&(n=n.substring(1,n.length-1));r<t&&(i=o[r],r++,i!==h););break}else if(i===_){p++;continue}else if(i===h){if(p--,p<0)break;continue}c+=i}a()};for(;r<t;){if(i=o[r],r++,i===I){a(),f=2;continue}else if(i===j){a(),f=1;continue}else if(i===_){a(),f=0,x();continue}c+=i}return[s,e]};var W=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,s=>"-"+s)).toUpperCase();return o[t]=(s,e)=>{let c;if(s){let[n,f]=k(s);c=f}return l(r,c,e)}}});var te=(o,t)=>{let[r,s]=k(o);return{_:y,a:s,c:t?Array.isArray(t)?t:[t]:[],t:r.toUpperCase()}};var re=o=>({_:y,c:Array.isArray(o)?o.join(""):""+o});var F=function(o){return Array.isArray(o)?o:[o]};var v=o=>{var r;let t=[];for(let s=0;s<o.childNodes.length;s++)if(o instanceof Text)t.push((r=o.textContent)!=null?r:"");else{let e={};for(let c=0;c<o.attributes.length;c++){let n=o.attributes[c];e[n.name]=n.value}t.push(l(o.nodeName,e,v(o)))}return t};var P=/[A-Z]+(?![a-z])|[A-Z]/g,M=(o,t)=>(t?"-":"")+o,S=(o,t,r)=>{if(t)for(let s in t){let e=t[s];if(e){let c=typeof e;if(c==="function"){o.addEventListener(s,e);continue}else{if(s==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let n="";for(let f in e)e[f]&&(n+=" "+f);e=n}}else if(s==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let n="";for(let f in e){let a=e[f];f=f.replace(P,M).toLowerCase(),Array.isArray(a)?n+=";"+f+":"+a.join(" "):a&&(n+=";"+f+":"+a)}e=n}}else c==="boolean"?e="true":c!=="string"&&(e=e.toString()),s==="value"&&o.value!==e?o.value=e:s==="checked"&&(o.checked=t[s]);o.setAttribute(s,e)}}}if(r)for(let s in r)typeof r[s]=="function"?o.removeEventListener(s,r[s]):(!t||!(s in t)||!t[s])&&(s==="value"?o.value="":s==="checked"&&(o.checked=!1),o.removeAttribute(s))},pe=(o,t)=>{let r=(e,c,n,f)=>{var x,g,m;let a=0,i=0;if(c)for(;a<c.length;a++){let d=c[a],L=!1;if(n)for(let N=a-i;N<n.length;N++){let u=n[N];if(u.t&&d.t===u.t||!u.t&&!d.t){L=!0,a!==N&&(e.insertBefore(e.childNodes[N+i],e.childNodes[a]),n.splice(a-i,0,...n.splice(N,1))),d.t?(S(e.childNodes[a],d.a,u.a),r(e.childNodes[a],d.c,u.c,u)):e.childNodes[a].textContent=typeof d=="string"?d:d.c;break}}if(!L){let N;if(d.t){N=document.createElement(d.t),d.a&&S(N,d.a),d.c&&r(N,d.c);let u=(b,A,T)=>{!A||A.t?b.insertAdjacentElement(T,N):b.parentNode.insertBefore(N,b)};a===0?u(e,f,"afterbegin"):((x=n==null?void 0:n.length)!=null?x:0)+i>a?u(e.childNodes[a],n[a+i],"beforebegin"):u(e,f,"beforeend"),i++}else{N=typeof d=="string"?d:d.c;let u=(b,A,T)=>{!A||A.t?b.insertAdjacentText(T,N):b.parentNode.insertBefore(document.createTextNode(N),b.nextSibling)};a===0?u(e,f,"afterbegin"):((g=n==null?void 0:n.length)!=null?g:0)+i>a?u(e.childNodes[a],n[a+i],"beforebegin"):u(e,f,"beforeend"),i++}}}let p=((m=n==null?void 0:n.length)!=null?m:0)+i;if(p>=a)for(let d=p-1;d>=a;d--)e.childNodes[d].remove()},s=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof t=="string")try{t=JSON.parse(t)}catch(e){t=void 0}return t!=null||(t=v(s)),e=>{e=F(e),r(s,e,t),t=e}};export{D as factory,W as fctory,te as nde,l as node,pe as prepare,re as text};
//# sourceMappingURL=staark-patch.min.js.map
