var C=e=>{var o;return(o=y(e))!=null?o:[]},y=e=>e?Array.isArray(e)?e:[e]:void 0;var S=(e,o,t)=>{let n=e?o:t;return typeof n=="function"&&(n=n()),C(n)};var g="n";var m=(e,o,t)=>((typeof o!="object"||o._===g||Array.isArray(o))&&(t=o,o=void 0),{_:g,a:o,c:y(t),t:e.toUpperCase()});var q=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[o]=(n,r)=>m(t,n,r)}});var T="]",L="[",U=".",P="=",j="#",x="'",E='"';var v=e=>{let o=e.length,t=0,n="",r={},i="",s=!0,f=3,u=()=>{if(i){switch(f){case 0:r[i]=s===!0?!0:s,s=!0;break;case 1:if(!r.class){r.class=i;break}r.class+=" "+i;break;case 2:r.id=i;break;case 3:n=i;break}i=""}},a,d,A=()=>{for(d=0;t<o;){if(a=e[t],t++,a===P){s="",a=e[t];let N=a===E,c=a===x;for((N||c)&&(s+=a,t++);t<o;){if(a=e[t],N&&a===E||c&&a===x){s+=a,t++;break}else if(!N&&!c&&a===T)break;s+=a,t++}for((s[0]===E&&s[s.length-1]===E||s[0]===x&&s[s.length-1]===x)&&(s=s.substring(1,s.length-1));t<o&&(a=e[t],t++,a!==T););break}else if(a===L){d++;continue}else if(a===T){if(d--,d<0)break;continue}i+=a}u()};for(;t<o;){if(a=e[t],t++,a===j){u(),f=2;continue}else if(a===U){u(),f=1;continue}else if(a===L){u(),f=0,A();continue}i+=a}return[n,r]};var te=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[o]=(n,r)=>{let i;if(n){let[s,f]=v(n);i=f}return m(t,i,r)}}});var H=0,ne=e=>e+"-"+H++;var ie=(e,o)=>{let t;return o&&e in o&&o[e]&&(t=o[e],typeof t=="function"&&(t=t())),C(t)};var ue=(e,o)=>{let[t,n]=v(e);return{_:g,a:n,c:y(o),t:t.toUpperCase()}};var k=e=>{var t;let o=[];for(let n of e.childNodes)if(n instanceof Text)o.push((t=n.textContent)!=null?t:"");else{let r=n,i={};for(let s of r.attributes)i[s.name]=s.value;o.push(m(n.nodeName,i,k(n)))}return o};var F=/[A-Z]+(?![a-z])|[A-Z]/g,R=(e,o)=>(o?"-":"")+e,_=(e,o,t)=>{if(o)for(let n in o){let r=o[n];if(r){let i=typeof r;if(i==="function"){let s=t==null?void 0:t[n];s!==r&&(s&&e.removeEventListener(n,s),e.addEventListener(n,r))}else if(n==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let s="";for(let f in r)r[f]&&(s+=" "+f);r=s}e.className=r}else if(n==="style"&&typeof r=="object"){for(let s in r){let f=r[s];s=s.replace(F,R).toLowerCase(),Array.isArray(f)&&(f=f.join(" ")),e.style.setProperty(s,f)}if(t&&t[n]&&typeof t[n]=="object"&&!Array.isArray(t[n]))for(let s in t[n])s in r||(s=s.replace(F,R).toLowerCase(),e.style.removeProperty(s))}else r===!0?r="true":i!=="string"&&(r=r.toString()),e.setAttribute(n,r)}}if(t)for(let n in t)(!o||!o[n])&&(typeof t[n]=="function"?e.removeEventListener(n,t[n]):n==="class"?e.className="":n==="style"?e.style.cssText="":e.removeAttribute(n))},h=(e,o,t,n)=>{var f,u,a;let r=0,i=0;if(o)for(;r<o.length;r++){let d=o[r],A=!1;if(t)for(let N=r-i;N<t.length;N++){let c=t[N];if(c.t&&d.t===c.t||!c.t&&!d.t){A=!0,r!==N+i&&(e.insertBefore(e.childNodes[N+i],e.childNodes[r]),t.splice(r-i,0,...t.splice(N,1))),d.t?(_(e.childNodes[r],d.a,c.a),h(e.childNodes[r],d.c,c.c,c)):c!==d&&(e.childNodes[r].textContent=d);break}}if(!A){let N;if(d.t){N=document.createElement(d.t),d.a&&_(N,d.a),d.c&&h(N,d.c);let c=(p,b,l)=>{l&&(!b||b.t)?p.insertAdjacentElement(l,N):p.parentNode.insertBefore(N,p)};r===0?c(e,n,"afterbegin"):((f=t==null?void 0:t.length)!=null?f:0)+i>r?c(e.childNodes[r]):c(e,n,"beforeend")}else{let c=(p,b,l)=>{l&&(!b||b.t)?p.insertAdjacentText(l,d):p.parentNode.insertBefore(document.createTextNode(d),p)};r===0?c(e,n,"afterbegin"):((u=t==null?void 0:t.length)!=null?u:0)+i>r?c(e.childNodes[r]):c(e,n,"beforeend")}i++}}let s=((a=t==null?void 0:t.length)!=null?a:0)+i;if(s>=r)for(let d=s-1;d>=r;d--)e.childNodes[d].remove()},Ce=(e,o)=>{let t=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof o=="string")try{o=JSON.parse(o)}catch(n){o=void 0}return o!=null||(o=k(t)),n=>{n=y(n),h(t,n,o),o=n}};export{S as conditional,q as factory,te as fctory,ne as identifier,ie as match,ue as nde,m as node,Ce as prepare};
//# sourceMappingURL=staark-patch.min.js.map
