var g=Symbol();var L=(r,t,a)=>((typeof t!="object"||t._===g||Array.isArray(t))&&(a=t,t=void 0),{_:g,a:t,c:a?Array.isArray(a)?a:[a]:[],t:r.toUpperCase()});var T=function(r){return Array.isArray(r)?r:[r]};var l=r=>{var a;let t=[];for(let i=0;i<r.childNodes.length;i++){let e=r.childNodes[i];if(e instanceof Text)t.push((a=e.textContent)!=null?a:"");else{let c={};for(let o=0;o<e.attributes.length;o++){let f=e.attributes[o];c[f.name]=f.value}t.push(L(e.nodeName,c,l(e)))}}return t};var j=/[A-Z]+(?![a-z])|[A-Z]/g,I=(r,t)=>(t?"-":"")+r,h=(r,t,a)=>{if(t)for(let i in t){let e=t[i];if(e){let c=typeof e;if(c==="function"){r.addEventListener(i,e);continue}else{if(i==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let o="";for(let f in e)e[f]&&(o+=" "+f);e=o}}else if(i==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let o="";for(let f in e){let n=e[f];f=f.replace(j,I).toLowerCase(),Array.isArray(n)?o+=";"+f+":"+n.join(" "):n&&(o+=";"+f+":"+n)}e=o}}else c==="boolean"?e="true":c!=="string"&&(e=e.toString()),i==="value"&&r.value!==e?r.value=e:i==="checked"&&(r.checked=t[i]);r.setAttribute(i,e)}}}if(a)for(let i in a)typeof a[i]=="function"?r.removeEventListener(i,a[i]):(!t||!(i in t)||!t[i])&&(i==="value"?r.value="":i==="checked"&&(r.checked=!1),r.removeAttribute(i))},Z=(r,t)=>{let a=(e,c,o,f)=>{var b,x,A;let n=0,u=0;if(c)for(;n<c.length;n++){let s=c[n],v=!1;if(o)for(let N=n-u;N<o.length;N++){let d=o[N];if(d.t&&s.t===d.t||!d.t&&!s.t){v=!0,n!==N&&(e.insertBefore(e.childNodes[N+u],e.childNodes[n]),o.splice(n-u,0,...o.splice(N,1))),s.t?(h(e.childNodes[n],s.a,d.a),a(e.childNodes[n],s.c,d.c,d)):e.childNodes[n].textContent=typeof s=="string"?s:s.c;break}}if(!v){let N;if(s.t){N=document.createElement(s.t),s.a&&h(N,s.a),s.c&&a(N,s.c);let d=(p,m,y)=>{!m||m.t?p.insertAdjacentElement(y,N):p.parentNode.insertBefore(N,p)};n===0?d(e,f,"afterbegin"):((b=o==null?void 0:o.length)!=null?b:0)+u>n?d(e.childNodes[n],o[n+u],"beforebegin"):d(e,f,"beforeend"),u++}else{N=typeof s=="string"?s:s.c;let d=(p,m,y)=>{!m||m.t?p.insertAdjacentText(y,N):p.parentNode.insertBefore(document.createTextNode(N),p.nextSibling)};n===0?d(e,f,"afterbegin"):((x=o==null?void 0:o.length)!=null?x:0)+u>n?d(e.childNodes[n],o[n+u],"beforebegin"):d(e,f,"beforeend"),u++}}}let E=((A=o==null?void 0:o.length)!=null?A:0)+u;if(E>=n)for(let s=E-1;s>=n;s--)e.childNodes[s].remove()},i=typeof r=="string"?document.querySelector(r)||document.body.appendChild(document.createElement("div")):r;if(typeof t=="string")try{t=JSON.parse(t)}catch(e){t=void 0}return t!=null||(t=l(i)),e=>{e=T(e),a(i,e,t),t=e}};export{L as node,Z as prepare};
//# sourceMappingURL=staark-patch.base.min.js.map
