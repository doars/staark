var R=(z)=>z?Array.isArray(z)?z:[z]:void 0;var W="n";var Z=(z,G,H)=>{if(G&&(typeof G!=="object"||G._===W||Array.isArray(G)))H=G,G=void 0;return{_:W,a:G,c:R(H),t:z}};var X=(z)=>{let G=[];for(let H of z.childNodes)if(H instanceof Text)G.push(H.textContent??"");else{let F={};for(let M of H.attributes)F[M.name]=M.value;G.push(Z(H.nodeName,F,X(H)))}return G};var $=(z,G,H)=>{if(G)for(let F in G){let M=G[F];if(M){let P=typeof M;if(P==="function"){let B=H?.[F];if(B!==M){if(B)z.removeEventListener(F,B);z.addEventListener(F,M)}}else if(F==="class"){if(typeof M==="object")if(Array.isArray(M))M=M.join(" ");else{let B="";for(let K in M)if(M[K])B+=" "+K;M=B}z.className=M}else if(F==="style"&&typeof M==="object"){for(let B in M){let K=M[B];if(B.includes("-",1))z.style.setProperty(B,K);else z.style[B]=K}if(H&&H[F]&&typeof H[F]==="object"&&!Array.isArray(H[F])){for(let B in H[F])if(!M[B])if(B.includes("-",1))z.style.removeProperty(B);else z.style[B]=null}}else{if(M===!0)M="true";else if(P!=="string")M=M.toString();if(z.setAttribute(F,M),F==="value")z.value=M}}}if(H){for(let F in H)if(!G||!G[F])if(typeof H[F]==="function")z.removeEventListener(F,H[F]);else if(F==="class")z.className="";else if(F==="style")z.style.cssText="";else if(F==="value")z.value="";else z.removeAttribute(F)}},Y=(z,G,H,F)=>{let M=0,P=0;if(G)for(;M<G.length;M++){let B=G[M],K=!1;if(H)for(let J=M-P;J<H.length;J++){let Q=H[J];if(Q.t&&B.t===Q.t||!Q.t&&!B.t){if(K=!0,M!==J+P)z.insertBefore(z.childNodes[J+P],z.childNodes[M]),H.splice(M-P,0,H.splice(J,1)[0]);if(B.t)$(z.childNodes[M],B.a,Q.a),Y(z.childNodes[M],B.c,Q.c,F||B.t==="SVG"||B.t==="svg");else if(Q!==B)z.childNodes[M].textContent=B;break}}if(!K){let J;if(B.t){let Q=F||B.t==="SVG"||B.t==="svg";if(Q)J=document.createElementNS("http://www.w3.org/2000/svg",B.t);else J=document.createElement(B.t);$(J,B.a),Y(J,B.c,void 0,Q)}else J=document.createTextNode(B);z.insertBefore(J,z.childNodes[M]),P++}}if(H){let B=H.length+P;if(B>=M)for(let K=B-1;K>=M;K--)z.childNodes[K].remove()}},E=(z,G)=>{let H=typeof z==="string"?document.querySelector(z)||document.body.appendChild(document.createElement("div")):z;if(typeof G==="string")try{G=JSON.parse(G)}catch(F){G=null}if(!G)G=X(H);return(F)=>{F=R(F),Y(H,F,G),G=F}};export{E as prepare,Z as node};

//# debugId=89B3E99D8F031A6B64756E2164756E21
