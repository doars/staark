var $=(G)=>G?Array.isArray(G)?G:[G]:void 0;var q="n";var L=(G,H,J)=>{if(H&&(typeof H!=="object"||H._===q||Array.isArray(H)))J=H,H=void 0;return{_:q,a:H,c:$(J),t:G}};var B=(G)=>{let H=[];for(let J of G.childNodes)if(J instanceof Text)H.push(J.textContent??"");else{let z={};for(let F of J.attributes)z[F.name]=F.value;H.push(L(J.nodeName,z,B(J)))}return H};var k=(G,H,J)=>{if(H)for(let z in H){let F=H[z];if(F){let P=typeof F;if(P==="function"){let K=J?.[z];if(K!==F){if(K)G.removeEventListener(z,K);G.addEventListener(z,F)}}else if(z==="class"){if(typeof F==="object")if(Array.isArray(F))F=F.join(" ");else{let K="";for(let Q in F)if(F[Q])K+=" "+Q;F=K}G.className=F}else if(z==="style"&&typeof F==="object"){for(let K in F){let Q=F[K];if(K.includes("-",1))G.style.setProperty(K,Q);else G.style[K]=Q}if(J&&J[z]&&typeof J[z]==="object"&&!Array.isArray(J[z])){for(let K in J[z])if(!F[K])if(K.includes("-",1))G.style.removeProperty(K);else G.style[K]=null}}else{if(F===!0)F="true";else if(P!=="string")F=F.toString();if(G.setAttribute(z,F),z==="value")G.value=F}}}if(J){for(let z in J)if(!H||!H[z])if(typeof J[z]==="function")G.removeEventListener(z,J[z]);else if(z==="class")G.className="";else if(z==="style")G.style.cssText="";else if(z==="value")G.value="";else G.removeAttribute(z)}},x=(G,H)=>{let J="moveBefore"in Element.prototype,z=(P,K,Q,D)=>{let R=0,Y=0;if(K)for(;R<K.length;R++){let M=K[R],Z=!1;if(Q)for(let W=R-Y;W<Q.length;W++){let X=Q[W];if(X.t&&M.t===X.t||!X.t&&!M.t){if(Z=!0,R!==W+Y)P[J?"moveBefore":"insertBefore"](P.childNodes[W+Y],P.childNodes[R]),Q.splice(R-Y,0,Q.splice(W,1)[0]);if(M.t)k(P.childNodes[R],M.a,X.a),z(P.childNodes[R],M.c,X.c,D||M.t==="SVG"||M.t==="svg");else if(X!==M)P.childNodes[R].textContent=M;break}}if(!Z){let W;if(M.t){let X=D||M.t==="SVG"||M.t==="svg";if(X)W=document.createElementNS("http://www.w3.org/2000/svg",M.t);else W=document.createElement(M.t);k(W,M.a),z(W,M.c,void 0,X)}else W=document.createTextNode(M);P.insertBefore(W,P.childNodes[R]),Y++}}if(Q){let M=Q.length+Y;if(M>=R)for(let Z=M-1;Z>=R;Z--)P.childNodes[Z].remove()}},F=typeof G==="string"?document.querySelector(G)||document.body.appendChild(document.createElement("div")):G;if(typeof H==="string")try{H=JSON.parse(H)}catch(P){H=null}if(!H)H=B(F);return(P)=>{P=$(P),z(F,P,H),H=P}};export{x as prepare,L as node};

//# debugId=339C61229E613D7164756E2164756E21
