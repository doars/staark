var f=t=>t?Array.isArray(t)?t:[t]:void 0;var N="n";var u=(t,o,s)=>((typeof o!="object"||o._===N||Array.isArray(o))&&(s=o,o=void 0),{_:N,a:o,c:f(s),t:t.toUpperCase()});var c=t=>{var s;let o=[];for(let e of t.childNodes)if(e instanceof Text)o.push((s=e.textContent)!=null?s:"");else{let n=e,i={};for(let r of n.attributes)i[r.name]=r.value;o.push(u(e.nodeName,i,c(e)))}return o};var p=(t,o,s)=>{if(o)for(let e in o){let n=o[e];if(n){let i=typeof n;if(i==="function"){let r=s==null?void 0:s[e];r!==n&&(r&&t.removeEventListener(e,r),t.addEventListener(e,n))}else if(e==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let r="";for(let a in n)n[a]&&(r+=" "+a);n=r}t.className=n}else if(e==="style"&&typeof n=="object"){for(let r in n){let a=n[r];r.includes("-",1)?t.style.setProperty(r,a):t.style[r]=a}if(s&&s[e]&&typeof s[e]=="object"&&!Array.isArray(s[e]))for(let r in s[e])r in n||(r.includes("-")?t.style.removeProperty(r):delete t.style[r])}else n===!0?n="true":i!=="string"&&(n=n.toString()),t.setAttribute(e,n)}}if(s)for(let e in s)(!o||!o[e])&&(typeof s[e]=="function"?t.removeEventListener(e,s[e]):e==="class"?t.className="":e==="style"?t.style.cssText="":e==="value"?t.value="":t.removeAttribute(e))},l=(t,o,s)=>{let e=0,n=0;if(o)for(;e<o.length;e++){let i=o[e],r=!1;if(s)for(let a=e-n;a<s.length;a++){let d=s[a];if(d.t&&i.t===d.t||!d.t&&!i.t){r=!0,e!==a+n&&(t.insertBefore(t.childNodes[a+n],t.childNodes[e]),s.splice(e-n,0,s.splice(a,1)[0])),i.t?(p(t.childNodes[e],i.a,d.a),l(t.childNodes[e],i.c,d.c)):d!==i&&(t.childNodes[e].textContent=i);break}}if(!r){let a;i.t?(a=document.createElement(i.t),p(a,i.a),l(a,i.c)):a=document.createTextNode(i),t.insertBefore(a,t.childNodes[e]),n++}}if(s){let i=s.length+n;if(i>=e)for(let r=i-1;r>=e;r--)t.childNodes[r].remove()}},T=(t,o)=>{let s=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof o=="string")try{o=JSON.parse(o)}catch(e){o=null}return o||(o=c(s)),e=>{e=f(e),l(s,e,o),o=e}};export{u as node,T as prepare};
//# sourceMappingURL=staark-patch.base.min.js.map
