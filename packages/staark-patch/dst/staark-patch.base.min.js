var p=t=>t?Array.isArray(t)?t:[t]:void 0;var l="n";var g=(t,r,s)=>((typeof r!="object"||r._===l||Array.isArray(r))&&(s=r,r=void 0),{_:l,a:r,c:p(s),t:t.toUpperCase()});var y=t=>{var s;let r=[];for(let o of t.childNodes)if(o instanceof Text)r.push((s=o.textContent)!=null?s:"");else{let e=o,a={};for(let n of e.attributes)a[n.name]=n.value;r.push(g(o.nodeName,a,y(o)))}return r};var E=(t,r,s)=>{if(r)for(let o in r){let e=r[o];if(e){let a=typeof e;if(a==="function"){let n=s==null?void 0:s[o];n!==e&&(n&&t.removeEventListener(o,n),t.addEventListener(o,e))}else if(o==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let n="";for(let d in e)e[d]&&(n+=" "+d);e=n}t.className=e}else if(o==="style"&&typeof e=="object"){for(let n in e){let d=e[n];n.includes("-",1)?t.style.setProperty(n,d):t.style[n]=d}if(s&&s[o]&&typeof s[o]=="object"&&!Array.isArray(s[o]))for(let n in s[o])n in e||(n.includes("-")?t.style.removeProperty(n):delete t.style[n])}else e===!0?e="true":a!=="string"&&(e=e.toString()),t.setAttribute(o,e)}}if(s)for(let o in s)(!r||!r[o])&&(typeof s[o]=="function"?t.removeEventListener(o,s[o]):o==="class"?t.className="":o==="style"?t.style.cssText="":t.removeAttribute(o))},m=(t,r,s,o)=>{let e=0,a=0;if(r)for(;e<r.length;e++){let n=r[e],d=!1;if(s)for(let f=e-a;f<s.length;f++){let i=s[f];if(i.t&&n.t===i.t||!i.t&&!n.t){d=!0,e!==f+a&&(t.insertBefore(t.childNodes[f+a],t.childNodes[e]),s.splice(e-a,0,s.splice(f,1)[0])),n.t?(E(t.childNodes[e],n.a,i.a),m(t.childNodes[e],n.c,i.c,i)):i!==n&&(t.childNodes[e].textContent=n);break}}if(!d){let f;if(n.t){f=document.createElement(n.t),n.a&&E(f,n.a),n.c&&m(f,n.c);let i=(N,c,u)=>{u&&(!c||c.t)?N.insertAdjacentElement(u,f):N.parentNode.insertBefore(f,N)};e===0?i(t,o,"afterbegin"):s&&s.length+a>e?i(t.childNodes[e]):i(t,o,"beforeend")}else{let i=(N,c,u)=>{u&&(!c||c.t)?N.insertAdjacentText(u,n):N.parentNode.insertBefore(document.createTextNode(n),N)};e===0?i(t,o,"afterbegin"):s&&s.length+a>e?i(t.childNodes[e]):i(t,o,"beforeend")}a++}}if(s){let n=s.length+a;if(n>=e)for(let d=n-1;d>=e;d--)t.childNodes[d].remove()}},k=(t,r)=>{let s=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof r=="string")try{r=JSON.parse(r)}catch(o){r=void 0}return r||(r=y(s)),o=>{o=p(o),m(s,o,r),r=o}};export{g as node,k as prepare};
//# sourceMappingURL=staark-patch.base.min.js.map
