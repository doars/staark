"use strict";(()=>{var v=function(t,e){let r=window;for(let n=0;n<t.length-1;n++)(typeof r[t[n]]!="object"||!Array.isArray(r[t[n]]))&&(r[t[n]]={}),r=r[t[n]];r[t[t.length-1]]=e};var m=function(t){return Array.isArray(t)?t:[t]};var L=(t,e,r)=>t?m(e):m(r??[]);var y=Symbol();var b=(t,e,r)=>((typeof e!="object"||e._===y||Array.isArray(e))&&(r=e,e=void 0),{_:y,a:e,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var _=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return t[e]=(n,o)=>b(r,n,o)}});var T="]",j="[",B=".",R="=",U="#",x="'",E='"';var h=t=>{let e=t.length,r=0,n="",o={},c="",s=!0,f=3,a=()=>{if(c){switch(f){case 0:o[c]=s===!0?!0:s,s=!0;break;case 1:if(!o.class){o.class=c;break}o.class+=" "+c;break;case 2:o.id=c;break;case 3:n=c;break}c=""}},i,l,d=()=>{for(l=0;r<e;){if(i=t[r],r++,i===R){s="",i=t[r];let A=i===E,N=i===x;for((A||N)&&(s+=i,r++);r<e;){if(i=t[r],A&&i===E||N&&i===x){s+=i,r++;break}else if(!A&&!N&&i===T)break;s+=i,r++}for((s[0]===E&&s[s.length-1]===E||s[0]===x&&s[s.length-1]===x)&&(s=s.substring(1,s.length-1));r<e&&(i=t[r],r++,i!==T););break}else if(i===j){l++;continue}else if(i===T){if(l--,l<0)break;continue}c+=i}a()};for(;r<e;){if(i=t[r],r++,i===U){a(),f=2;continue}else if(i===B){a(),f=1;continue}else if(i===j){a(),f=0,d();continue}c+=i}return[n,o]};var F=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return t[e]=(n,o)=>{let c;if(n){let[s,f]=h(n);c=f}return b(r,c,o)}}});var S=(t,e)=>e&&t in e&&e[t]?m(e[t]):[];var H=(t,e)=>{let[r,n]=h(t);return{_:y,a:n,c:e?Array.isArray(e)?e:[e]:[],t:r.toUpperCase()}};var I=t=>({_:y,c:Array.isArray(t)?t.join(""):""+t});var k=t=>{let e=[];for(let r=0;r<t.childNodes.length;r++){let n=t.childNodes[r];if(n instanceof Text)e.push(n.textContent??"");else{let o={};for(let c=0;c<n.attributes.length;c++){let s=n.attributes[c];o[s.name]=s.value}e.push(b(n.nodeName,o,k(n)))}}return e};var O=/[A-Z]+(?![a-z])|[A-Z]/g,Q=(t,e)=>(e?"-":"")+t,P=(t,e,r)=>{if(e)for(let n in e){let o=e[n];if(o){let c=typeof o;if(c==="function"){t.addEventListener(n,o);continue}else{if(n==="class"){if(typeof o=="object")if(Array.isArray(o))o=o.join(" ");else{let s="";for(let f in o)o[f]&&(s+=" "+f);o=s}}else if(n==="style"){if(typeof o=="object")if(Array.isArray(o))o=o.join(";");else{let s="";for(let f in o){let a=o[f];f=f.replace(O,Q).toLowerCase(),Array.isArray(a)?s+=";"+f+":"+a.join(" "):a&&(s+=";"+f+":"+a)}o=s}}else{if(c==="boolean"){if(!o){t.removeAttribute(n);continue}o="true"}else c!=="string"&&(o=o.toString());n==="value"&&t.value!==o?t.value=o:n==="checked"&&(t.checked=e[n])}t.setAttribute(n,o)}}}if(r)for(let n in r)typeof r[n]=="function"?t.removeEventListener(n,r[n]):(!e||!(n in e)||!e[n])&&(n==="value"?t.value="":n==="checked"&&(t.checked=!1),t.removeAttribute(n))},M=(t,e)=>{let r=(o,c,s,f)=>{let a=0,i=0;if(c)for(;a<c.length;a++){let d=c[a],A=!1;if(s)for(let N=a-i;N<s.length;N++){let u=s[N];if(u.t&&d.t===u.t||!u.t&&!d.t){A=!0,a!==N+i&&(o.insertBefore(o.childNodes[N+i],o.childNodes[a]),s.splice(a-i,0,...s.splice(N,1))),d.t?(P(o.childNodes[a],d.a,u.a),r(o.childNodes[a],d.c,u.c,u)):o.childNodes[a].textContent=typeof d=="string"?d:d.c;break}}if(!A){let N;if(d.t){N=document.createElement(d.t),d.a&&P(N,d.a),d.c&&r(N,d.c);let u=(p,g,C)=>{C&&(!g||g.t)?p.insertAdjacentElement(C,N):p.parentNode.insertBefore(N,p)};a===0?u(o,f,"afterbegin"):(s?.length??0)+i>a?u(o.childNodes[a]):u(o,f,"beforeend")}else{N=typeof d=="string"?d:d.c;let u=(p,g,C)=>{C&&(!g||g.t)?p.insertAdjacentText(C,N):p.parentNode.insertBefore(document.createTextNode(N),p.nextSibling)};a===0?u(o,f,"afterbegin"):(s?.length??0)+i>a?u(o.childNodes[a]):u(o,f,"beforeend")}i++}}let l=(s?.length??0)+i;if(l>=a)for(let d=l-1;d>=a;d--)o.childNodes[d].remove()},n=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof e=="string")try{e=JSON.parse(e)}catch{e=void 0}return e??=k(n),o=>{o=m(o),r(n,o,e),e=o}};v(["staark"],{conditional:L,factory:_,fctory:F,match:S,nde:H,node:b,prepare:M,text:I});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
