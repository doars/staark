"use strict";(()=>{var k=function(t,e){let r=window;for(let n=0;n<t.length-1;n++)(typeof r[t[n]]!="object"||!Array.isArray(r[t[n]]))&&(r[t[n]]={}),r=r[t[n]];r[t[t.length-1]]=e};var A=function(t){return Array.isArray(t)?t:[t]};var L=(t,e,r)=>{let n=t?e:r;return typeof n=="function"&&(n=n()),n?A(n):[]};var m=Symbol();var l=(t,e,r)=>((typeof e!="object"||e._===m||Array.isArray(e))&&(r=e,e=void 0),{_:m,a:e,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var F=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return t[e]=(n,o)=>l(r,n,o)}});var T="]",R="[",M=".",B="=",U="#",x="'",E='"';var h=t=>{let e=t.length,r=0,n="",o={},c="",s=!0,f=3,a=()=>{if(c){switch(f){case 0:o[c]=s===!0?!0:s,s=!0;break;case 1:if(!o.class){o.class=c;break}o.class+=" "+c;break;case 2:o.id=c;break;case 3:n=c;break}c=""}},i,b,d=()=>{for(b=0;r<e;){if(i=t[r],r++,i===B){s="",i=t[r];let y=i===E,N=i===x;for((y||N)&&(s+=i,r++);r<e;){if(i=t[r],y&&i===E||N&&i===x){s+=i,r++;break}else if(!y&&!N&&i===T)break;s+=i,r++}for((s[0]===E&&s[s.length-1]===E||s[0]===x&&s[s.length-1]===x)&&(s=s.substring(1,s.length-1));r<e&&(i=t[r],r++,i!==T););break}else if(i===R){b++;continue}else if(i===T){if(b--,b<0)break;continue}c+=i}a()};for(;r<e;){if(i=t[r],r++,i===U){a(),f=2;continue}else if(i===M){a(),f=1;continue}else if(i===R){a(),f=0,d();continue}c+=i}return[n,o]};var _=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return t[e]=(n,o)=>{let c;if(n){let[s,f]=h(n);c=f}return l(r,c,o)}}});var j=(t,e)=>{if(e&&t in e&&e[t]){let r=e[t];return typeof r=="function"&&(r=r(),!r)?[]:A(r)}return[]};var H=(t,e)=>{let[r,n]=h(t);return{_:m,a:n,c:e?Array.isArray(e)?e:[e]:[],t:r.toUpperCase()}};var I=t=>({_:m,c:Array.isArray(t)?t.join(""):""+t});var v=t=>{let e=[];for(let r=0;r<t.childNodes.length;r++){let n=t.childNodes[r];if(n instanceof Text)e.push(n.textContent??"");else{let o={};for(let c=0;c<n.attributes.length;c++){let s=n.attributes[c];o[s.name]=s.value}e.push(l(n.nodeName,o,v(n)))}}return e};var O=/[A-Z]+(?![a-z])|[A-Z]/g,Q=(t,e)=>(e?"-":"")+t,S=(t,e,r)=>{if(e)for(let n in e){let o=e[n];if(o){let c=typeof o;if(c==="function"){t.addEventListener(n,o);continue}else{if(n==="class"){if(typeof o=="object")if(Array.isArray(o))o=o.join(" ");else{let s="";for(let f in o)o[f]&&(s+=" "+f);o=s}}else if(n==="style"){if(typeof o=="object")if(Array.isArray(o))o=o.join(";");else{let s="";for(let f in o){let a=o[f];f=f.replace(O,Q).toLowerCase(),Array.isArray(a)?s+=";"+f+":"+a.join(" "):a&&(s+=";"+f+":"+a)}o=s}}else{if(c==="boolean"){if(!o){t.removeAttribute(n);continue}o="true"}else c!=="string"&&(o=o.toString());n==="value"&&t.value!==o?t.value=o:n==="checked"&&(t.checked=e[n])}t.setAttribute(n,o)}}}if(r)for(let n in r)typeof r[n]=="function"?t.removeEventListener(n,r[n]):(!e||!(n in e)||!e[n])&&(n==="value"?t.value="":n==="checked"&&(t.checked=!1),t.removeAttribute(n))},P=(t,e)=>{let r=(o,c,s,f)=>{let a=0,i=0;if(c)for(;a<c.length;a++){let d=c[a],y=!1;if(s)for(let N=a-i;N<s.length;N++){let u=s[N];if(u.t&&d.t===u.t||!u.t&&!d.t){y=!0,a!==N+i&&(o.insertBefore(o.childNodes[N+i],o.childNodes[a]),s.splice(a-i,0,...s.splice(N,1))),d.t?(S(o.childNodes[a],d.a,u.a),r(o.childNodes[a],d.c,u.c,u)):o.childNodes[a].textContent=typeof d=="string"?d:d.c;break}}if(!y){let N;if(d.t){N=document.createElement(d.t),d.a&&S(N,d.a),d.c&&r(N,d.c);let u=(p,g,C)=>{C&&(!g||g.t)?p.insertAdjacentElement(C,N):p.parentNode.insertBefore(N,p)};a===0?u(o,f,"afterbegin"):(s?.length??0)+i>a?u(o.childNodes[a]):u(o,f,"beforeend")}else{N=typeof d=="string"?d:d.c;let u=(p,g,C)=>{C&&(!g||g.t)?p.insertAdjacentText(C,N):p.parentNode.insertBefore(document.createTextNode(N),p)};a===0?u(o,f,"afterbegin"):(s?.length??0)+i>a?u(o.childNodes[a]):u(o,f,"beforeend")}i++}}let b=(s?.length??0)+i;if(b>=a)for(let d=b-1;d>=a;d--)o.childNodes[d].remove()},n=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof e=="string")try{e=JSON.parse(e)}catch{e=void 0}return e??=v(n),o=>{o=A(o),r(n,o,e),e=o}};k(["staark"],{conditional:L,factory:F,fctory:_,match:j,nde:H,node:l,prepare:P,text:I});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
