"use strict";(()=>{var R=function(e,r){let t=window;for(let o=0;o<e.length-1;o++)(typeof t[e[o]]!="object"||!Array.isArray(t[e[o]]))&&(t[e[o]]={}),t=t[e[o]];t[e[e.length-1]]=r};var g=e=>Array.isArray(e)?e:[e];var _=(e,r,t)=>{let o=e?r:t;return typeof o=="function"&&(o=o()),o?g(o):[]};var C="n";var p=(e,r,t)=>((typeof r!="object"||r._===C||Array.isArray(r))&&(t=r,r=void 0),{_:C,a:r,c:t?Array.isArray(t)?t:[t]:[],t:e.toUpperCase()});var H=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let t=(r[0]+r.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[r]=(o,n)=>p(t,o,n)}});var h="]",j="[",Q=".",z="=",Z="#",x="'",k='"';var L=e=>{let r=e.length,t=0,o="",n={},a="",s=!0,d=3,c=()=>{if(a){switch(d){case 0:n[a]=s===!0?!0:s,s=!0;break;case 1:if(!n.class){n.class=a;break}n.class+=" "+a;break;case 2:n.id=a;break;case 3:o=a;break}a=""}},i,l,v=()=>{for(l=0;t<r;){if(i=e[t],t++,i===z){s="",i=e[t];let m=i===k,b=i===x;for((m||b)&&(s+=i,t++);t<r;){if(i=e[t],m&&i===k||b&&i===x){s+=i,t++;break}else if(!m&&!b&&i===h)break;s+=i,t++}for((s[0]===k&&s[s.length-1]===k||s[0]===x&&s[s.length-1]===x)&&(s=s.substring(1,s.length-1));t<r&&(i=e[t],t++,i!==h););break}else if(i===j){l++;continue}else if(i===h){if(l--,l<0)break;continue}a+=i}c()};for(;t<r;){if(i=e[t],t++,i===Z){c(),d=2;continue}else if(i===Q){c(),d=1;continue}else if(i===j){c(),d=0,v();continue}a+=i}return[o,n]};var M=new Proxy({},{get:(e,r)=>{if(e[r])return e[r];let t=(r[0]+r.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[r]=(o,n)=>{let a;if(o){let[s,d]=L(o);a=d}return p(t,a,n)}}});var D=0,I=e=>e+"-"+D++;var P=(e,r)=>{if(r&&e in r&&r[e]){let t=r[e];return typeof t=="function"&&(t=t(),!t)?[]:g(t)}return[]};var w=(e,r)=>{let[t,o]=L(e);return{_:C,a:o,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()}};var T=e=>{var t;let r=[];for(let o=0;o<e.childNodes.length;o++){let n=e.childNodes[o];if(n instanceof Text)r.push((t=n.textContent)!=null?t:"");else{let a={};for(let s=0;s<n.attributes.length;s++){let d=n.attributes[s];a[d.name]=d.value}r.push(p(n.nodeName,a,T(n)))}}return r};var B=/[A-Z]+(?![a-z])|[A-Z]/g,S=(e,r)=>(r?"-":"")+e,U=(e,r,t)=>{if(r)for(let o in r){let n=r[o];if(n){let a=typeof n;if(a==="function"){if(t&&t[o]){if(t[o]===n)continue;e.removeEventListener(o,t[o])}e.addEventListener(o,n)}else if(o==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let s="";for(let d in n)n[d]&&(s+=" "+d);n=s}e.className=n}else if(o==="style"&&typeof n=="object"){for(let s in n){let d=n[s];s=s.replace(B,S).toLowerCase(),Array.isArray(d)&&(d=d.join(" ")),e.style.setProperty(s,d)}if(t&&t[o]&&typeof t[o]=="object"&&!Array.isArray(t[o]))for(let s in t[o])s in n||(s=s.replace(B,S).toLowerCase(),e.style.removeProperty(s))}else{if(a==="boolean"){if(!n){e.removeAttribute(o);continue}n="true"}else a!=="string"&&(n=n.toString());o==="value"&&e.value!==n?e.value=n:o==="checked"&&(e.checked=r[o]),e.setAttribute(o,n)}}}if(t)for(let o in t)(!r||!r[o])&&(typeof t[o]=="function"?e.removeEventListener(o,t[o]):o==="class"?e.className="":o==="style"?e.style="":(o==="value"?e.value="":o==="checked"&&(e.checked=!1),e.removeAttribute(o)))},O=(e,r)=>{let t=(n,a,s,d)=>{var v,m,b;let c=0,i=0;if(a)for(;c<a.length;c++){let f=a[c],F=!1;if(s)for(let u=c-i;u<s.length;u++){let N=s[u];if(N.t&&f.t===N.t||!N.t&&!f.t){F=!0,c!==u+i&&(n.insertBefore(n.childNodes[u+i],n.childNodes[c]),s.splice(c-i,0,...s.splice(u,1))),f.t?(U(n.childNodes[c],f.a,N.a),t(n.childNodes[c],f.c,N.c,N)):N!==f&&(n.childNodes[c].textContent=f);break}}if(!F){let u;if(f.t){u=document.createElement(f.t),f.a&&U(u,f.a),f.c&&t(u,f.c);let N=(y,A,E)=>{E&&(!A||A.t)?y.insertAdjacentElement(E,u):y.parentNode.insertBefore(u,y)};c===0?N(n,d,"afterbegin"):((v=s==null?void 0:s.length)!=null?v:0)+i>c?N(n.childNodes[c]):N(n,d,"beforeend")}else{let N=(y,A,E)=>{E&&(!A||A.t)?y.insertAdjacentText(E,f):y.parentNode.insertBefore(document.createTextNode(f),y)};c===0?N(n,d,"afterbegin"):((m=s==null?void 0:s.length)!=null?m:0)+i>c?N(n.childNodes[c]):N(n,d,"beforeend")}i++}}let l=((b=s==null?void 0:s.length)!=null?b:0)+i;if(l>=c)for(let f=l-1;f>=c;f--)n.childNodes[f].remove()},o=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof r=="string")try{r=JSON.parse(r)}catch(n){r=void 0}return r!=null||(r=T(o)),n=>{n=g(n),t(o,n,r),r=n}};R(["staark"],{conditional:_,factory:H,fctory:M,identifier:I,match:P,nde:w,node:p,prepare:O});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
