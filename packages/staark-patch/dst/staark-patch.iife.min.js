"use strict";(()=>{var v=function(e,n){let o=window;for(let t=0;t<e.length-1;t++)(typeof o[e[t]]!="object"||!Array.isArray(o[e[t]]))&&(o[e[t]]={}),o=o[e[t]];o[e[e.length-1]]=n};var p=e=>{var n;return(n=y(e))!=null?n:[]},y=e=>e?Array.isArray(e)?e:[e]:void 0;var T=(e,n,o)=>{let t=e?n:o;return typeof t=="function"&&(t=t()),p(t)};var b="n";var u=(e,n,o)=>((typeof n!="object"||n._===b||Array.isArray(n))&&(o=n,n=void 0),{_:b,a:n,c:y(o),t:e.toUpperCase()});var k=new Proxy({},{get:(e,n)=>{if(e[n])return e[n];let o=(n[0]+n.substring(1).replace(/([A-Z])/g,t=>"-"+t)).toUpperCase();return e[n]=(t,s)=>u(o,t,s)}});var E="]",L="[",P=".",B="=",H="#",m="'",g='"';var A=e=>{let n=e.length,o=0,t="",s={},a="",r=!0,d=3,c=()=>{if(a){switch(d){case 0:s[a]=r===!0?!0:r,r=!0;break;case 1:if(!s.class){s.class=a;break}s.class+=" "+a;break;case 2:s.id=a;break;case 3:t=a;break}a=""}},i,f,l=()=>{for(f=0;o<n;){if(i=e[o],o++,i===B){r="",i=e[o];let N=i===g,C=i===m;for((N||C)&&(r+=i,o++);o<n;){if(i=e[o],N&&i===g||C&&i===m){r+=i,o++;break}else if(!N&&!C&&i===E)break;r+=i,o++}for((r[0]===g&&r[r.length-1]===g||r[0]===m&&r[r.length-1]===m)&&(r=r.substring(1,r.length-1));o<n&&(i=e[o],o++,i!==E););break}else if(i===L){f++;continue}else if(i===E){if(f--,f<0)break;continue}a+=i}c()};for(;o<n;){if(i=e[o],o++,i===H){c(),d=2;continue}else if(i===P){c(),d=1;continue}else if(i===L){c(),d=0,l();continue}a+=i}return[t,s]};var F=new Proxy({},{get:(e,n)=>{if(e[n])return e[n];let o=(n[0]+n.substring(1).replace(/([A-Z])/g,t=>"-"+t)).toUpperCase();return e[n]=(t,s)=>{let a;if(t){let[r,d]=A(t);a=d}return u(o,a,s)}}});var M=0,R=e=>e+"-"+M++;var _=(e,n,o)=>{let t;return n&&e in n&&n[e]?(t=n[e],typeof t=="function"&&(t=t())):t=o,p(t)};var U=(e,n)=>{let[o,t]=A(e);return{_:b,a:t,c:y(n),t:o.toUpperCase()}};var x=e=>{var o;let n=[];for(let t of e.childNodes)if(t instanceof Text)n.push((o=t.textContent)!=null?o:"");else{let s=t,a={};for(let r of s.attributes)a[r.name]=r.value;n.push(u(t.nodeName,a,x(t)))}return n};var j=(e,n,o)=>{if(n)for(let t in n){let s=n[t];if(s){let a=typeof s;if(a==="function"){let r=o==null?void 0:o[t];r!==s&&(r&&e.removeEventListener(t,r),e.addEventListener(t,s))}else if(t==="class"){if(typeof s=="object")if(Array.isArray(s))s=s.join(" ");else{let r="";for(let d in s)s[d]&&(r+=" "+d);s=r}e.className=s}else if(t==="style"&&typeof s=="object"){for(let r in s){let d=s[r];r.includes("-",1)?e.style.setProperty(r,d):e.style[r]=d}if(o&&o[t]&&typeof o[t]=="object"&&!Array.isArray(o[t]))for(let r in o[t])r in s||(r.includes("-")?e.style.removeProperty(r):delete e.style[r])}else s===!0?s="true":a!=="string"&&(s=s.toString()),e.setAttribute(t,s)}}if(o)for(let t in o)(!n||!n[t])&&(typeof o[t]=="function"?e.removeEventListener(t,o[t]):t==="class"?e.className="":t==="style"?e.style.cssText="":e.removeAttribute(t))},h=(e,n,o,t)=>{let s=0,a=0;if(n)for(;s<n.length;s++){let r=n[s],d=!1;if(o)for(let c=s-a;c<o.length;c++){let i=o[c];if(i.t&&r.t===i.t||!i.t&&!r.t){d=!0,s!==c+a&&(e.insertBefore(e.childNodes[c+a],e.childNodes[s]),o.splice(s-a,0,o.splice(c,1)[0])),r.t?(j(e.childNodes[s],r.a,i.a),h(e.childNodes[s],r.c,i.c,i)):i!==r&&(e.childNodes[s].textContent=r);break}}if(!d){let c;if(r.t){c=document.createElement(r.t),r.a&&j(c,r.a),r.c&&h(c,r.c);let i=(f,l,N)=>{N&&(!l||l.t)?f.insertAdjacentElement(N,c):f.parentNode.insertBefore(c,f)};s===0?i(e,t,"afterbegin"):o&&o.length+a>s?i(e.childNodes[s]):i(e,t,"beforeend")}else{let i=(f,l,N)=>{N&&(!l||l.t)?f.insertAdjacentText(N,r):f.parentNode.insertBefore(document.createTextNode(r),f)};s===0?i(e,t,"afterbegin"):o&&o.length+a>s?i(e.childNodes[s]):i(e,t,"beforeend")}a++}}if(o){let r=o.length+a;if(r>=s)for(let d=r-1;d>=s;d--)e.childNodes[d].remove()}},O=(e,n)=>{let o=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof n=="string")try{n=JSON.parse(n)}catch(t){n=void 0}return n||(n=x(o)),t=>{t=y(t),h(o,t,n),n=t}};v(["staark"],{conditional:T,factory:k,fctory:F,identifier:R,match:_,nde:U,node:u,prepare:O});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
