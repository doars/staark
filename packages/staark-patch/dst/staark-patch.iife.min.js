"use strict";(()=>{var T=function(t,n){let o=window;for(let e=0;e<t.length-1;e++)(typeof o[t[e]]!="object"||!Array.isArray(o[t[e]]))&&(o[t[e]]={}),o=o[t[e]];o[t[t.length-1]]=n};var y=t=>{var n;return(n=N(t))!=null?n:[]},N=t=>t?Array.isArray(t)?t:[t]:void 0;var h=(t,n,o)=>{let e=t?n:o;return typeof e=="function"&&(e=e()),y(e)};var u="n";var f=(t,n,o)=>((typeof n!="object"||n._===u||Array.isArray(n))&&(o=n,n=void 0),{_:u,a:n,c:N(o),t:t.toUpperCase()});var E=new Proxy({},{get:(t,n)=>{if(t[n])return t[n];let o=(n[0]+n.substring(1).replace(/([A-Z])/g,e=>"-"+e)).toUpperCase();return t[n]=(e,s)=>f(o,e,s)}});var C="]",k="[",O=".",w="=",j="#",b="'",p='"';var m=t=>{let n=t.length,o=0,e="",s={},i="",r=!0,a=3,c=()=>{if(i){switch(a){case 0:s[i]=r===!0?!0:r,r=!0;break;case 1:if(!s.class){s.class=i;break}s.class+=" "+i;break;case 2:s.id=i;break;case 3:e=i;break}i=""}},d,l,M=()=>{for(l=0;o<n;){if(d=t[o],o++,d===w){r="",d=t[o];let A=d===p,g=d===b;for((A||g)&&(r+=d,o++);o<n;){if(d=t[o],A&&d===p||g&&d===b){r+=d,o++;break}else if(!A&&!g&&d===C)break;r+=d,o++}for((r[0]===p&&r[r.length-1]===p||r[0]===b&&r[r.length-1]===b)&&(r=r.substring(1,r.length-1));o<n&&(d=t[o],o++,d!==C););break}else if(d===k){l++;continue}else if(d===C){if(l--,l<0)break;continue}i+=d}c()};for(;o<n;){if(d=t[o],o++,d===j){c(),a=2;continue}else if(d===O){c(),a=1;continue}else if(d===k){c(),a=0,M();continue}i+=d}return[e,s]};var L=new Proxy({},{get:(t,n)=>{if(t[n])return t[n];let o=(n[0]+n.substring(1).replace(/([A-Z])/g,e=>"-"+e)).toUpperCase();return t[n]=(e,s)=>{let i;if(e){let[r,a]=m(e);i=a}return f(o,i,s)}}});var B=0,F=t=>t+"-"+B++;var R=(t,n,o)=>{let e;return n&&t in n&&n[t]?e=n[t]:e=o,typeof e=="function"&&(e=e()),y(e)};var _=(t,n)=>{let[o,e]=m(t);return{_:u,a:e,c:N(n),t:o.toUpperCase()}};var x=t=>{var o;let n=[];for(let e of t.childNodes)if(e instanceof Text)n.push((o=e.textContent)!=null?o:"");else{let s=e,i={};for(let r of s.attributes)i[r.name]=r.value;n.push(f(e.nodeName,i,x(e)))}return n};var U=(t,n,o)=>{if(n)for(let e in n){let s=n[e];if(s){let i=typeof s;if(i==="function"){let r=o==null?void 0:o[e];r!==s&&(r&&t.removeEventListener(e,r),t.addEventListener(e,s))}else if(e==="class"){if(typeof s=="object")if(Array.isArray(s))s=s.join(" ");else{let r="";for(let a in s)s[a]&&(r+=" "+a);s=r}t.className=s}else if(e==="style"&&typeof s=="object"){for(let r in s){let a=s[r];r.includes("-",1)?t.style.setProperty(r,a):t.style[r]=a}if(o&&o[e]&&typeof o[e]=="object"&&!Array.isArray(o[e]))for(let r in o[e])r in s||(r.includes("-")?t.style.removeProperty(r):delete t.style[r])}else s===!0?s="true":i!=="string"&&(s=s.toString()),t.setAttribute(e,s)}}if(o)for(let e in o)(!n||!n[e])&&(typeof o[e]=="function"?t.removeEventListener(e,o[e]):e==="class"?t.className="":e==="style"?t.style.cssText="":e==="value"?t.value="":t.removeAttribute(e))},v=(t,n,o)=>{let e=0,s=0;if(n)for(;e<n.length;e++){let i=n[e],r=!1;if(o)for(let a=e-s;a<o.length;a++){let c=o[a];if(c.t&&i.t===c.t||!c.t&&!i.t){r=!0,e!==a+s&&(t.insertBefore(t.childNodes[a+s],t.childNodes[e]),o.splice(e-s,0,o.splice(a,1)[0])),i.t?(U(t.childNodes[e],i.a,c.a),v(t.childNodes[e],i.c,c.c)):c!==i&&(t.childNodes[e].textContent=i);break}}if(!r){let a;i.t?(a=document.createElement(i.t),U(a,i.a),v(a,i.c)):a=document.createTextNode(i),t.insertBefore(a,t.childNodes[e]),s++}}if(o){let i=o.length+s;if(i>=e)for(let r=i-1;r>=e;r--)t.childNodes[r].remove()}},H=(t,n)=>{let o=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof n=="string")try{n=JSON.parse(n)}catch(e){n=null}return n||(n=x(o)),e=>{e=N(e),v(o,e,n),n=e}};T(["staark"],{conditional:h,factory:E,fctory:L,identifier:F,match:R,nde:_,node:f,prepare:H});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
