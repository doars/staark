"use strict";(()=>{var h=function(e,o){let t=window;for(let n=0;n<e.length-1;n++)(typeof t[e[n]]!="object"||!Array.isArray(t[e[n]]))&&(t[e[n]]={}),t=t[e[n]];t[e[e.length-1]]=o};var C=e=>{var o;return(o=m(e))!=null?o:[]},m=e=>e?Array.isArray(e)?e:[e]:void 0;var F=(e,o,t)=>{let n=e?o:t;return typeof n=="function"&&(n=n()),C(n)};var g="n";var u=(e,o,t)=>((typeof o!="object"||o._===g||Array.isArray(o))&&(t=o,o=void 0),{_:g,a:o,c:m(t),t:e.toUpperCase()});var R=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[o]=(n,r)=>u(t,n,r)}});var k="]",_="[",M=".",I="=",Q="#",E="'",x='"';var v=e=>{let o=e.length,t=0,n="",r={},s="",i=!0,f=3,y=()=>{if(s){switch(f){case 0:r[s]=i===!0?!0:i,i=!0;break;case 1:if(!r.class){r.class=s;break}r.class+=" "+s;break;case 2:r.id=s;break;case 3:n=s;break}s=""}},a,c,A=()=>{for(c=0;t<o;){if(a=e[t],t++,a===I){i="",a=e[t];let N=a===x,d=a===E;for((N||d)&&(i+=a,t++);t<o;){if(a=e[t],N&&a===x||d&&a===E){i+=a,t++;break}else if(!N&&!d&&a===k)break;i+=a,t++}for((i[0]===x&&i[i.length-1]===x||i[0]===E&&i[i.length-1]===E)&&(i=i.substring(1,i.length-1));t<o&&(a=e[t],t++,a!==k););break}else if(a===_){c++;continue}else if(a===k){if(c--,c<0)break;continue}s+=a}y()};for(;t<o;){if(a=e[t],t++,a===Q){y(),f=2;continue}else if(a===M){y(),f=1;continue}else if(a===_){y(),f=0,A();continue}s+=a}return[n,r]};var j=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let t=(o[0]+o.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[o]=(n,r)=>{let s;if(n){let[i,f]=v(n);s=f}return u(t,s,r)}}});var z=0,U=e=>e+"-"+z++;var P=(e,o)=>{let t;return o&&e in o&&o[e]&&(t=o[e],typeof t=="function"&&(t=t())),C(t)};var w=(e,o)=>{let[t,n]=v(e);return{_:g,a:n,c:m(o),t:t.toUpperCase()}};var T=e=>{var t;let o=[];for(let n of e.childNodes)if(n instanceof Text)o.push((t=n.textContent)!=null?t:"");else{let r=n,s={};for(let i of r.attributes)s[i.name]=i.value;o.push(u(n.nodeName,s,T(n)))}return o};var H=/[A-Z]+(?![a-z])|[A-Z]/g,O=(e,o)=>(o?"-":"")+e,B=(e,o,t)=>{if(o)for(let n in o){let r=o[n];if(r){let s=typeof r;if(s==="function"){let i=t==null?void 0:t[n];i!==r&&(i&&e.removeEventListener(n,i),e.addEventListener(n,r))}else if(n==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let i="";for(let f in r)r[f]&&(i+=" "+f);r=i}e.className=r}else if(n==="style"&&typeof r=="object"){for(let i in r){let f=r[i];i=i.replace(H,O).toLowerCase(),Array.isArray(f)&&(f=f.join(" ")),e.style.setProperty(i,f)}if(t&&t[n]&&typeof t[n]=="object"&&!Array.isArray(t[n]))for(let i in t[n])i in r||(i=i.replace(H,O).toLowerCase(),e.style.removeProperty(i))}else r===!0?r="true":s!=="string"&&(r=r.toString()),e.setAttribute(n,r)}}if(t)for(let n in t)(!o||!o[n])&&(typeof t[n]=="function"?e.removeEventListener(n,t[n]):n==="class"?e.className="":n==="style"?e.style.cssText="":e.removeAttribute(n))},L=(e,o,t,n)=>{var f,y,a;let r=0,s=0;if(o)for(;r<o.length;r++){let c=o[r],A=!1;if(t)for(let N=r-s;N<t.length;N++){let d=t[N];if(d.t&&c.t===d.t||!d.t&&!c.t){A=!0,r!==N+s&&(e.insertBefore(e.childNodes[N+s],e.childNodes[r]),t.splice(r-s,0,...t.splice(N,1))),c.t?(B(e.childNodes[r],c.a,d.a),L(e.childNodes[r],c.c,d.c,d)):d!==c&&(e.childNodes[r].textContent=c);break}}if(!A){let N;if(c.t){N=document.createElement(c.t),c.a&&B(N,c.a),c.c&&L(N,c.c);let d=(p,b,l)=>{l&&(!b||b.t)?p.insertAdjacentElement(l,N):p.parentNode.insertBefore(N,p)};r===0?d(e,n,"afterbegin"):((f=t==null?void 0:t.length)!=null?f:0)+s>r?d(e.childNodes[r]):d(e,n,"beforeend")}else{let d=(p,b,l)=>{l&&(!b||b.t)?p.insertAdjacentText(l,c):p.parentNode.insertBefore(document.createTextNode(c),p)};r===0?d(e,n,"afterbegin"):((y=t==null?void 0:t.length)!=null?y:0)+s>r?d(e.childNodes[r]):d(e,n,"beforeend")}s++}}let i=((a=t==null?void 0:t.length)!=null?a:0)+s;if(i>=r)for(let c=i-1;c>=r;c--)e.childNodes[c].remove()},S=(e,o)=>{let t=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof o=="string")try{o=JSON.parse(o)}catch(n){o=void 0}return o!=null||(o=T(t)),n=>{n=m(n),L(t,n,o),o=n}};h(["staark"],{conditional:F,factory:R,fctory:j,identifier:U,match:P,nde:w,node:u,prepare:S});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
