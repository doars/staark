"use strict";(()=>{var _=function(o,t){let n=window;for(let r=0;r<o.length-1;r++)(typeof n[o[r]]!="object"||!Array.isArray(n[o[r]]))&&(n[o[r]]={}),n=n[o[r]];n[o[o.length-1]]=t};var b=Symbol();var p=(o,t,n)=>((typeof t!="object"||t._===b||Array.isArray(t))&&(n=t,t=void 0),{_:b,a:t,c:n?Array.isArray(n)?n:[n]:[],t:o.toUpperCase()});var j=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let n=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,e)=>p(n,r,e)}});var h="]",F="[",U=".",R="=",O="#",E="'",C='"';var k=o=>{let t=o.length,n=0,r="",e={},c="",i=!0,d=3,a=()=>{if(c){switch(d){case 0:e[c]=i===!0?!0:i,i=!0;break;case 1:if(!e.class){e.class=c;break}e.class+=" "+c;break;case 2:e.id=c;break;case 3:r=c;break}c=""}},s,y,x=()=>{for(y=0;n<t;){if(s=o[n],n++,s===R){i="",s=o[n];let g=s===C,l=s===E;for((g||l)&&(i+=s,n++);n<t;){if(s=o[n],g&&s===C||l&&s===E){i+=s,n++;break}else if(!g&&!l&&s===h)break;i+=s,n++}for((i[0]===C&&i[i.length-1]===C||i[0]===E&&i[i.length-1]===E)&&(i=i.substring(1,i.length-1));n<t&&(s=o[n],n++,s!==h););break}else if(s===F){y++;continue}else if(s===h){if(y--,y<0)break;continue}c+=s}a()};for(;n<t;){if(s=o[n],n++,s===O){a(),d=2;continue}else if(s===U){a(),d=1;continue}else if(s===F){a(),d=0,x();continue}c+=s}return[r,e]};var S=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let n=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,e)=>{let c;if(r){let[i,d]=k(r);c=d}return p(n,c,e)}}});var H=(o,t)=>{let[n,r]=k(o);return{_:b,a:r,c:t?Array.isArray(t)?t:[t]:[],t:n.toUpperCase()}};var I=o=>({_:b,c:Array.isArray(o)?o.join(""):""+o});var P=function(o){return Array.isArray(o)?o:[o]};var v=o=>{var n;let t=[];for(let r=0;r<o.childNodes.length;r++){let e=o.childNodes[r];if(e instanceof Text)t.push((n=e.textContent)!=null?n:"");else{let c={};for(let i=0;i<e.attributes.length;i++){let d=e.attributes[i];c[d.name]=d.value}t.push(p(e.nodeName,c,v(e)))}}return t};var Q=/[A-Z]+(?![a-z])|[A-Z]/g,w=(o,t)=>(t?"-":"")+o,M=(o,t,n)=>{if(t)for(let r in t){let e=t[r];if(e){let c=typeof e;if(c==="function"){o.addEventListener(r,e);continue}else{if(r==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let i="";for(let d in e)e[d]&&(i+=" "+d);e=i}}else if(r==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let i="";for(let d in e){let a=e[d];d=d.replace(Q,w).toLowerCase(),Array.isArray(a)?i+=";"+d+":"+a.join(" "):a&&(i+=";"+d+":"+a)}e=i}}else c==="boolean"?e="true":c!=="string"&&(e=e.toString()),r==="value"&&o.value!==e?o.value=e:r==="checked"&&(o.checked=t[r]);o.setAttribute(r,e)}}}if(n)for(let r in n)typeof n[r]=="function"?o.removeEventListener(r,n[r]):(!t||!(r in t)||!t[r])&&(r==="value"?o.value="":r==="checked"&&(o.checked=!1),o.removeAttribute(r))},B=(o,t)=>{let n=(e,c,i,d)=>{var x,g,l;let a=0,s=0;if(c)for(;a<c.length;a++){let f=c[a],L=!1;if(i)for(let N=a-s;N<i.length;N++){let u=i[N];if(u.t&&f.t===u.t||!u.t&&!f.t){L=!0,a!==N&&(e.insertBefore(e.childNodes[N+s],e.childNodes[a]),i.splice(a-s,0,...i.splice(N,1))),f.t?(M(e.childNodes[a],f.a,u.a),n(e.childNodes[a],f.c,u.c,u)):e.childNodes[a].textContent=typeof f=="string"?f:f.c;break}}if(!L){let N;if(f.t){N=document.createElement(f.t),f.a&&M(N,f.a),f.c&&n(N,f.c);let u=(m,A,T)=>{!A||A.t?m.insertAdjacentElement(T,N):m.parentNode.insertBefore(N,m)};a===0?u(e,d,"afterbegin"):((x=i==null?void 0:i.length)!=null?x:0)+s>a?u(e.childNodes[a],i[a+s],"beforebegin"):u(e,d,"beforeend"),s++}else{N=typeof f=="string"?f:f.c;let u=(m,A,T)=>{!A||A.t?m.insertAdjacentText(T,N):m.parentNode.insertBefore(document.createTextNode(N),m.nextSibling)};a===0?u(e,d,"afterbegin"):((g=i==null?void 0:i.length)!=null?g:0)+s>a?u(e.childNodes[a],i[a+s],"beforebegin"):u(e,d,"beforeend"),s++}}}let y=((l=i==null?void 0:i.length)!=null?l:0)+s;if(y>=a)for(let f=y-1;f>=a;f--)e.childNodes[f].remove()},r=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof t=="string")try{t=JSON.parse(t)}catch(e){t=void 0}return t!=null||(t=v(r)),e=>{e=P(e),n(r,e,t),t=e}};_(["staark"],{factory:j,fctory:S,nde:H,node:p,prepare:B,text:I});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
