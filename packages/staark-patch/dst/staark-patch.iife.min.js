"use strict";(()=>{var T=function(t,o){let n=window;for(let e=0;e<t.length-1;e++)(typeof n[t[e]]!="object"||!Array.isArray(n[t[e]]))&&(n[t[e]]={}),n=n[t[e]];n[t[t.length-1]]=o};var p=t=>{var o;return(o=N(t))!=null?o:[]},N=t=>t?Array.isArray(t)?t:[t]:void 0;var h=(t,o,n)=>{let e=t?o:n;return typeof e=="function"&&(e=e()),p(e)};var u="n";var f=(t,o,n)=>((typeof o!="object"||o._===u||Array.isArray(o))&&(n=o,o=void 0),{_:u,a:o,c:N(n),t:t.toUpperCase()});var E=new Proxy({},{get:(t,o)=>{if(t[o])return t[o];let n=(o[0]+o.substring(1).replace(/([A-Z])/g,e=>"-"+e)).toUpperCase();return t[o]=(e,i)=>f(n,e,i)}});var A="]",L="[",O=".",w="=",j="#",y="'",m='"';var b=t=>{let o=t.length,n=0,e="",i={},s="",r=!0,d=3,c=()=>{if(s){switch(d){case 0:i[s]=r===!0?!0:r,r=!0;break;case 1:if(!i.class){i.class=s;break}i.class+=" "+s;break;case 2:i.id=s;break;case 3:e=s;break}s=""}},a,l,M=()=>{for(l=0;n<o;){if(a=t[n],n++,a===w){r="",a=t[n];let C=a===m,g=a===y;for((C||g)&&(r+=a,n++);n<o;){if(a=t[n],C&&a===m||g&&a===y){r+=a,n++;break}else if(!C&&!g&&a===A)break;r+=a,n++}for((r[0]===m&&r[r.length-1]===m||r[0]===y&&r[r.length-1]===y)&&(r=r.substring(1,r.length-1));n<o&&(a=t[n],n++,a!==A););break}else if(a===L){l++;continue}else if(a===A){if(l--,l<0)break;continue}s+=a}c()};for(;n<o;){if(a=t[n],n++,a===j){c(),d=2;continue}else if(a===O){c(),d=1;continue}else if(a===L){c(),d=0,M();continue}s+=a}return[e,i]};var k=new Proxy({},{get:(t,o)=>{if(t[o])return t[o];let n=(o[0]+o.substring(1).replace(/([A-Z])/g,e=>"-"+e)).toUpperCase();return t[o]=(e,i)=>{let s;if(e){let[r,d]=b(e);s=d}return f(n,s,i)}}});var B=0,F=t=>t+"-"+B++;var R=(t,o,n)=>{let e;return o&&t in o&&o[t]?e=o[t]:e=n,typeof e=="function"&&(e=e()),p(e)};var _=(t,o)=>{let[n,e]=b(t);return{_:u,a:e,c:N(o),t:n.toUpperCase()}};var x=t=>{var n;let o=[];for(let e of t.childNodes)if(e instanceof Text)o.push((n=e.textContent)!=null?n:"");else{let i=e,s={};for(let r of i.attributes)s[r.name]=r.value;o.push(f(e.nodeName,s,x(e)))}return o};var U=(t,o,n)=>{if(o)for(let e in o){let i=o[e];if(i){let s=typeof i;if(s==="function"){let r=n==null?void 0:n[e];r!==i&&(r&&t.removeEventListener(e,r),t.addEventListener(e,i))}else if(e==="class"){if(typeof i=="object")if(Array.isArray(i))i=i.join(" ");else{let r="";for(let d in i)i[d]&&(r+=" "+d);i=r}t.className=i}else if(e==="style"&&typeof i=="object"){for(let r in i){let d=i[r];r.includes("-",1)?t.style.setProperty(r,d):t.style[r]=d}if(n&&n[e]&&typeof n[e]=="object"&&!Array.isArray(n[e]))for(let r in n[e])r in i||(r.includes("-")?t.style.removeProperty(r):delete t.style[r])}else i===!0?i="true":s!=="string"&&(i=i.toString()),t.setAttribute(e,i)}}if(n)for(let e in n)(!o||!o[e])&&(typeof n[e]=="function"?t.removeEventListener(e,n[e]):e==="class"?t.className="":e==="style"?t.style.cssText="":e==="value"?t.value="":t.removeAttribute(e))},v=(t,o,n)=>{let e=0,i=0;if(o)for(;e<o.length;e++){let s=o[e],r=!1;if(n)for(let d=e-i;d<n.length;d++){let c=n[d];if(c.t&&s.t===c.t||!c.t&&!s.t){r=!0,e!==d+i&&(t.insertBefore(t.childNodes[d+i],t.childNodes[e]),n.splice(e-i,0,n.splice(d,1)[0])),s.t?(U(t.childNodes[e],s.a,c.a),v(t.childNodes[e],s.c,c.c)):c!==s&&(t.childNodes[e].textContent=s);break}}if(!r){let d;s.t?(d=document.createElement(s.t),U(d,s.a),v(d,s.c)):d=document.createTextNode(s),t.insertBefore(d,t.childNodes[e]),i++}}if(n){let s=n.length+i;if(s>=e)for(let r=s-1;r>=e;r--)t.childNodes[r].remove()}},H=(t,o)=>{let n=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof o=="string")try{o=JSON.parse(o)}catch(e){o=null}return o||(o=x(n)),e=>{e=N(e),v(n,e,o),o=e}};T(["staark"],{conditional:h,factory:E,fctory:k,identifier:F,match:R,nde:_,node:f,prepare:H});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
