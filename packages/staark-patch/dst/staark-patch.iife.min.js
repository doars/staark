"use strict";(()=>{var _=function(e,o){let n=window;for(let r=0;r<e.length-1;r++)(typeof n[e[r]]!="object"||!Array.isArray(n[e[r]]))&&(n[e[r]]={}),n=n[e[r]];n[e[e.length-1]]=o};var m=Symbol();var p=(e,o,n)=>((typeof o!="object"||o._===m||Array.isArray(o))&&(n=o,o=void 0),{_:m,a:o,c:n?Array.isArray(n)?n:[n]:[],t:e.toUpperCase()});var j=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let n=(o[0]+o.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[o]=(r,t)=>p(n,r,t)}});var v="]",F="[",U=".",R="=",O="#",E="'",C='"';var k=e=>{let o=e.length,n=0,r="",t={},c="",i=!0,f=3,a=()=>{if(c){switch(f){case 0:t[c]=i===!0?!0:i,i=!0;break;case 1:if(!t.class){t.class=c;break}t.class+=" "+c;break;case 2:t.id=c;break;case 3:r=c;break}c=""}},s,y,x=()=>{for(y=0;n<o;){if(s=e[n],n++,s===R){i="",s=e[n];let g=s===C,l=s===E;for((g||l)&&(i+=s,n++);n<o;){if(s=e[n],g&&s===C||l&&s===E){i+=s,n++;break}else if(!g&&!l&&s===v)break;i+=s,n++}for((i[0]===C&&i[i.length-1]===C||i[0]===E&&i[i.length-1]===E)&&(i=i.substring(1,i.length-1));n<o&&(s=e[n],n++,s!==v););break}else if(s===F){y++;continue}else if(s===v){if(y--,y<0)break;continue}c+=s}a()};for(;n<o;){if(s=e[n],n++,s===O){a(),f=2;continue}else if(s===U){a(),f=1;continue}else if(s===F){a(),f=0,x();continue}c+=s}return[r,t]};var S=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let n=(o[0]+o.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[o]=(r,t)=>{let c;if(r){let[i,f]=k(r);c=f}return p(n,c,t)}}});var H=(e,o)=>{let[n,r]=k(e);return{_:m,a:r,c:o?Array.isArray(o)?o:[o]:[],t:n.toUpperCase()}};var I=e=>({_:m,c:Array.isArray(e)?e.join(""):""+e});var P=function(e){return Array.isArray(e)?e:[e]};var h=e=>{var n;let o=[];for(let r=0;r<e.childNodes.length;r++)if(e instanceof Text)o.push((n=e.textContent)!=null?n:"");else{let t={};for(let c=0;c<e.attributes.length;c++){let i=e.attributes[c];t[i.name]=i.value}o.push(p(e.nodeName,t,h(e)))}return o};var Q=/[A-Z]+(?![a-z])|[A-Z]/g,w=(e,o)=>(o?"-":"")+e,M=(e,o,n)=>{if(o)for(let r in o){let t=o[r];if(t){let c=typeof t;if(c==="function"){e.addEventListener(r,t);continue}else{if(r==="class"){if(typeof t=="object")if(Array.isArray(t))t=t.join(" ");else{let i="";for(let f in t)t[f]&&(i+=" "+f);t=i}}else if(r==="style"){if(typeof t=="object")if(Array.isArray(t))t=t.join(";");else{let i="";for(let f in t){let a=t[f];f=f.replace(Q,w).toLowerCase(),Array.isArray(a)?i+=";"+f+":"+a.join(" "):a&&(i+=";"+f+":"+a)}t=i}}else c==="boolean"?t="true":c!=="string"&&(t=t.toString()),r==="value"&&e.value!==t?e.value=t:r==="checked"&&(e.checked=o[r]);e.setAttribute(r,t)}}}if(n)for(let r in n)typeof n[r]=="function"?e.removeEventListener(r,n[r]):(!o||!(r in o)||!o[r])&&(r==="value"?e.value="":r==="checked"&&(e.checked=!1),e.removeAttribute(r))},B=(e,o)=>{let n=(t,c,i,f)=>{var x,g,l;let a=0,s=0;if(c)for(;a<c.length;a++){let d=c[a],L=!1;if(i)for(let N=a-s;N<i.length;N++){let u=i[N];if(u.t&&d.t===u.t||!u.t&&!d.t){L=!0,a!==N&&(t.insertBefore(t.childNodes[N+s],t.childNodes[a]),i.splice(a-s,0,...i.splice(N,1))),d.t?(M(t.childNodes[a],d.a,u.a),n(t.childNodes[a],d.c,u.c,u)):t.childNodes[a].textContent=typeof d=="string"?d:d.c;break}}if(!L){let N;if(d.t){N=document.createElement(d.t),d.a&&M(N,d.a),d.c&&n(N,d.c);let u=(b,A,T)=>{!A||A.t?b.insertAdjacentElement(T,N):b.parentNode.insertBefore(N,b)};a===0?u(t,f,"afterbegin"):((x=i==null?void 0:i.length)!=null?x:0)+s>a?u(t.childNodes[a],i[a+s],"beforebegin"):u(t,f,"beforeend"),s++}else{N=typeof d=="string"?d:d.c;let u=(b,A,T)=>{!A||A.t?b.insertAdjacentText(T,N):b.parentNode.insertBefore(document.createTextNode(N),b.nextSibling)};a===0?u(t,f,"afterbegin"):((g=i==null?void 0:i.length)!=null?g:0)+s>a?u(t.childNodes[a],i[a+s],"beforebegin"):u(t,f,"beforeend"),s++}}}let y=((l=i==null?void 0:i.length)!=null?l:0)+s;if(y>=a)for(let d=y-1;d>=a;d--)t.childNodes[d].remove()},r=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof o=="string")try{o=JSON.parse(o)}catch(t){o=void 0}return o!=null||(o=h(r)),t=>{t=P(t),n(r,t,o),o=t}};_(["staark"],{factory:j,fctory:S,nde:H,node:p,prepare:B,text:I});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
