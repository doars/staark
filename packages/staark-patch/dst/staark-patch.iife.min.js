"use strict";(()=>{var R=function(e,o){let n=window;for(let r=0;r<e.length-1;r++)(typeof n[e[r]]!="object"||!Array.isArray(n[e[r]]))&&(n[e[r]]={}),n=n[e[r]];n[e[e.length-1]]=o};var g=e=>Array.isArray(e)?e:[e];var _=(e,o,n)=>{let r=e?o:n;return typeof r=="function"&&(r=r()),r?g(r):[]};var C="n";var p=(e,o,n)=>((typeof o!="object"||o._===C||Array.isArray(o))&&(n=o,o=void 0),{_:C,a:o,c:n?Array.isArray(n)?n:[n]:[],t:e.toUpperCase()});var H=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let n=(o[0]+o.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[o]=(r,t)=>p(n,r,t)}});var L="]",P="[",w=".",O="=",Q="#",x="'",k='"';var h=e=>{let o=e.length,n=0,r="",t={},d="",i=!0,c=3,a=()=>{if(d){switch(c){case 0:t[d]=i===!0?!0:i,i=!0;break;case 1:if(!t.class){t.class=d;break}t.class+=" "+d;break;case 2:t.id=d;break;case 3:r=d;break}d=""}},s,l,v=()=>{for(l=0;n<o;){if(s=e[n],n++,s===O){i="",s=e[n];let b=s===k,m=s===x;for((b||m)&&(i+=s,n++);n<o;){if(s=e[n],b&&s===k||m&&s===x){i+=s,n++;break}else if(!b&&!m&&s===L)break;i+=s,n++}for((i[0]===k&&i[i.length-1]===k||i[0]===x&&i[i.length-1]===x)&&(i=i.substring(1,i.length-1));n<o&&(s=e[n],n++,s!==L););break}else if(s===P){l++;continue}else if(s===L){if(l--,l<0)break;continue}d+=s}a()};for(;n<o;){if(s=e[n],n++,s===Q){a(),c=2;continue}else if(s===w){a(),c=1;continue}else if(s===P){a(),c=0,v();continue}d+=s}return[r,t]};var j=new Proxy({},{get:(e,o)=>{if(e[o])return e[o];let n=(o[0]+o.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[o]=(r,t)=>{let d;if(r){let[i,c]=h(r);d=c}return p(n,d,t)}}});var z=0,I=e=>e+"-"+z++;var M=(e,o)=>{if(o&&e in o&&o[e]){let n=o[e];return typeof n=="function"&&(n=n(),!n)?[]:g(n)}return[]};var S=(e,o)=>{let[n,r]=h(e);return{_:C,a:r,c:o?Array.isArray(o)?o:[o]:[],t:n.toUpperCase()}};var T=e=>{var n;let o=[];for(let r=0;r<e.childNodes.length;r++){let t=e.childNodes[r];if(t instanceof Text)o.push((n=t.textContent)!=null?n:"");else{let d={};for(let i=0;i<t.attributes.length;i++){let c=t.attributes[i];d[c.name]=c.value}o.push(p(t.nodeName,d,T(t)))}}return o};var Z=/[A-Z]+(?![a-z])|[A-Z]/g,D=(e,o)=>(o?"-":"")+e,B=(e,o,n)=>{if(o)for(let r in o){let t=o[r];if(t){let d=typeof t;if(d==="function"){if(n&&n[r]){if(n[r]===t)continue;e.removeEventListener(r,n[r])}e.addEventListener(r,t)}else if(r==="class"){if(typeof t=="object")if(Array.isArray(t))t=t.join(" ");else{let i="";for(let c in t)t[c]&&(i+=" "+c);t=i}e.className=t}else if(r==="style"){if(typeof t=="object")if(Array.isArray(t))for(let i of t){let[c,...a]=i.split(":");e.style.setProperty(c,a.join(":"))}else for(let i in t){let c=t[i];i=i.replace(Z,D).toLowerCase(),Array.isArray(c)&&(c=c.join(" ")),e.style.setProperty(i,c.toString())}}else{if(d==="boolean"){if(!t){e.removeAttribute(r);continue}t="true"}else d!=="string"&&(t=t.toString());r==="value"&&e.value!==t?e.value=t:r==="checked"&&(e.checked=o[r]),e.setAttribute(r,t)}}}if(n)for(let r in n)(!o||!o[r])&&(typeof n[r]=="function"?e.removeEventListener(r,n[r]):(r==="value"?e.value="":r==="checked"&&(e.checked=!1),e.removeAttribute(r)))},U=(e,o)=>{let n=(t,d,i,c)=>{var v,b,m;let a=0,s=0;if(d)for(;a<d.length;a++){let f=d[a],F=!1;if(i)for(let u=a-s;u<i.length;u++){let N=i[u];if(N.t&&f.t===N.t||!N.t&&!f.t){F=!0,a!==u+s&&(t.insertBefore(t.childNodes[u+s],t.childNodes[a]),i.splice(a-s,0,...i.splice(u,1))),f.t?(B(t.childNodes[a],f.a,N.a),n(t.childNodes[a],f.c,N.c,N)):N!==f&&(t.childNodes[a].textContent=f);break}}if(!F){let u;if(f.t){u=document.createElement(f.t),f.a&&B(u,f.a),f.c&&n(u,f.c);let N=(y,A,E)=>{E&&(!A||A.t)?y.insertAdjacentElement(E,u):y.parentNode.insertBefore(u,y)};a===0?N(t,c,"afterbegin"):((v=i==null?void 0:i.length)!=null?v:0)+s>a?N(t.childNodes[a]):N(t,c,"beforeend")}else{let N=(y,A,E)=>{E&&(!A||A.t)?y.insertAdjacentText(E,f):y.parentNode.insertBefore(document.createTextNode(f),y)};a===0?N(t,c,"afterbegin"):((b=i==null?void 0:i.length)!=null?b:0)+s>a?N(t.childNodes[a]):N(t,c,"beforeend")}s++}}let l=((m=i==null?void 0:i.length)!=null?m:0)+s;if(l>=a)for(let f=l-1;f>=a;f--)t.childNodes[f].remove()},r=typeof e=="string"?document.querySelector(e)||document.body.appendChild(document.createElement("div")):e;if(typeof o=="string")try{o=JSON.parse(o)}catch(t){o=void 0}return o!=null||(o=T(r)),t=>{t=g(t),n(r,t,o),o=t}};R(["staark"],{conditional:_,factory:H,fctory:j,identifier:I,match:M,nde:S,node:p,prepare:U});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
