"use strict";(()=>{var j=function(o,t){let r=window;for(let n=0;n<o.length-1;n++)(typeof r[o[n]]!="object"||!Array.isArray(r[o[n]]))&&(r[o[n]]={}),r=r[o[n]];r[o[o.length-1]]=t};var y=function(o){return Array.isArray(o)?o:[o]};var S=(o,t,r)=>o?y(t):y(r!=null?r:[]);var g=Symbol();var p=(o,t,r)=>((typeof t!="object"||t._===g||Array.isArray(t))&&(r=t,t=void 0),{_:g,a:t,c:r?Array.isArray(r)?r:[r]:[],t:o.toUpperCase()});var H=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return o[t]=(n,e)=>p(r,n,e)}});var v="]",I="[",O=".",Q="=",w="#",T="'",k='"';var h=o=>{let t=o.length,r=0,n="",e={},c="",i=!0,d=3,a=()=>{if(c){switch(d){case 0:e[c]=i===!0?!0:i,i=!0;break;case 1:if(!e.class){e.class=c;break}e.class+=" "+c;break;case 2:e.id=c;break;case 3:n=c;break}c=""}},s,m,C=()=>{for(m=0;r<t;){if(s=o[r],r++,s===Q){i="",s=o[r];let l=s===k,A=s===T;for((l||A)&&(i+=s,r++);r<t;){if(s=o[r],l&&s===k||A&&s===T){i+=s,r++;break}else if(!l&&!A&&s===v)break;i+=s,r++}for((i[0]===k&&i[i.length-1]===k||i[0]===T&&i[i.length-1]===T)&&(i=i.substring(1,i.length-1));r<t&&(s=o[r],r++,s!==v););break}else if(s===I){m++;continue}else if(s===v){if(m--,m<0)break;continue}c+=s}a()};for(;r<t;){if(s=o[r],r++,s===w){a(),d=2;continue}else if(s===O){a(),d=1;continue}else if(s===I){a(),d=0,C();continue}c+=s}return[n,e]};var P=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return o[t]=(n,e)=>{let c;if(n){let[i,d]=h(n);c=d}return p(r,c,e)}}});var M=(o,t)=>t&&o in t&&t[o]?y(t[o]):[];var B=(o,t)=>{let[r,n]=h(o);return{_:g,a:n,c:t?Array.isArray(t)?t:[t]:[],t:r.toUpperCase()}};var F=o=>({_:g,c:Array.isArray(o)?o.join(""):""+o});var L=o=>{var r;let t=[];for(let n=0;n<o.childNodes.length;n++){let e=o.childNodes[n];if(e instanceof Text)t.push((r=e.textContent)!=null?r:"");else{let c={};for(let i=0;i<e.attributes.length;i++){let d=e.attributes[i];c[d.name]=d.value}t.push(p(e.nodeName,c,L(e)))}}return t};var z=/[A-Z]+(?![a-z])|[A-Z]/g,Z=(o,t)=>(t?"-":"")+o,R=(o,t,r)=>{if(t)for(let n in t){let e=t[n];if(e){let c=typeof e;if(c==="function"){o.addEventListener(n,e);continue}else{if(n==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let i="";for(let d in e)e[d]&&(i+=" "+d);e=i}}else if(n==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let i="";for(let d in e){let a=e[d];d=d.replace(z,Z).toLowerCase(),Array.isArray(a)?i+=";"+d+":"+a.join(" "):a&&(i+=";"+d+":"+a)}e=i}}else{if(c==="boolean"){if(!e){o.removeAttribute(n);continue}e="true"}else c!=="string"&&(e=e.toString());n==="value"&&o.value!==e?o.value=e:n==="checked"&&(o.checked=t[n])}o.setAttribute(n,e)}}}if(r)for(let n in r)typeof r[n]=="function"?o.removeEventListener(n,r[n]):(!t||!(n in t)||!t[n])&&(n==="value"?o.value="":n==="checked"&&(o.checked=!1),o.removeAttribute(n))},U=(o,t)=>{let r=(e,c,i,d)=>{var C,l,A;let a=0,s=0;if(c)for(;a<c.length;a++){let f=c[a],_=!1;if(i)for(let N=a-s;N<i.length;N++){let u=i[N];if(u.t&&f.t===u.t||!u.t&&!f.t){_=!0,a!==N+s&&(e.insertBefore(e.childNodes[N+s],e.childNodes[a]),i.splice(a-s,0,...i.splice(N,1))),f.t?(R(e.childNodes[a],f.a,u.a),r(e.childNodes[a],f.c,u.c,u)):e.childNodes[a].textContent=typeof f=="string"?f:f.c;break}}if(!_){let N;if(f.t){N=document.createElement(f.t),f.a&&R(N,f.a),f.c&&r(N,f.c);let u=(b,x,E)=>{E&&(!x||x.t)?b.insertAdjacentElement(E,N):b.parentNode.insertBefore(N,b)};a===0?u(e,d,"afterbegin"):((C=i==null?void 0:i.length)!=null?C:0)+s>a?u(e.childNodes[a]):u(e,d,"beforeend")}else{N=typeof f=="string"?f:f.c;let u=(b,x,E)=>{E&&(!x||x.t)?b.insertAdjacentText(E,N):b.parentNode.insertBefore(document.createTextNode(N),b.nextSibling)};a===0?u(e,d,"afterbegin"):((l=i==null?void 0:i.length)!=null?l:0)+s>a?u(e.childNodes[a]):u(e,d,"beforeend")}s++}}let m=((A=i==null?void 0:i.length)!=null?A:0)+s;if(m>=a)for(let f=m-1;f>=a;f--)e.childNodes[f].remove()},n=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof t=="string")try{t=JSON.parse(t)}catch(e){t=void 0}return t!=null||(t=L(n)),e=>{e=y(e),r(n,e,t),t=e}};j(["staark"],{conditional:S,factory:H,fctory:P,match:M,nde:B,node:p,prepare:U,text:F});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
