"use strict";(()=>{var j=function(o,t){let n=window;for(let r=0;r<o.length-1;r++)(typeof n[o[r]]!="object"||!Array.isArray(n[o[r]]))&&(n[o[r]]={}),n=n[o[r]];n[o[o.length-1]]=t};var x=function(o){return Array.isArray(o)?o:[o]};var S=(o,t,n)=>o?x(t):x(n!=null?n:[]);var y=Symbol();var p=(o,t,n)=>((typeof t!="object"||t._===y||Array.isArray(t))&&(n=t,t=void 0),{_:y,a:t,c:n?Array.isArray(n)?n:[n]:[],t:o.toUpperCase()});var H=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let n=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,e)=>p(n,r,e)}});var v="]",I="[",R=".",O="=",Q="#",C="'",k='"';var T=o=>{let t=o.length,n=0,r="",e={},c="",i=!0,d=3,a=()=>{if(c){switch(d){case 0:e[c]=i===!0?!0:i,i=!0;break;case 1:if(!e.class){e.class=c;break}e.class+=" "+c;break;case 2:e.id=c;break;case 3:r=c;break}c=""}},s,m,E=()=>{for(m=0;n<t;){if(s=o[n],n++,s===O){i="",s=o[n];let g=s===k,l=s===C;for((g||l)&&(i+=s,n++);n<t;){if(s=o[n],g&&s===k||l&&s===C){i+=s,n++;break}else if(!g&&!l&&s===v)break;i+=s,n++}for((i[0]===k&&i[i.length-1]===k||i[0]===C&&i[i.length-1]===C)&&(i=i.substring(1,i.length-1));n<t&&(s=o[n],n++,s!==v););break}else if(s===I){m++;continue}else if(s===v){if(m--,m<0)break;continue}c+=s}a()};for(;n<t;){if(s=o[n],n++,s===Q){a(),d=2;continue}else if(s===R){a(),d=1;continue}else if(s===I){a(),d=0,E();continue}c+=s}return[r,e]};var P=new Proxy({},{get:(o,t)=>{if(o[t])return o[t];let n=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return o[t]=(r,e)=>{let c;if(r){let[i,d]=T(r);c=d}return p(n,c,e)}}});var M=(o,t)=>{let[n,r]=T(o);return{_:y,a:r,c:t?Array.isArray(t)?t:[t]:[],t:n.toUpperCase()}};var B=o=>({_:y,c:Array.isArray(o)?o.join(""):""+o});var L=o=>{var n;let t=[];for(let r=0;r<o.childNodes.length;r++){let e=o.childNodes[r];if(e instanceof Text)t.push((n=e.textContent)!=null?n:"");else{let c={};for(let i=0;i<e.attributes.length;i++){let d=e.attributes[i];c[d.name]=d.value}t.push(p(e.nodeName,c,L(e)))}}return t};var w=/[A-Z]+(?![a-z])|[A-Z]/g,z=(o,t)=>(t?"-":"")+o,F=(o,t,n)=>{if(t)for(let r in t){let e=t[r];if(e){let c=typeof e;if(c==="function"){o.addEventListener(r,e);continue}else{if(r==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let i="";for(let d in e)e[d]&&(i+=" "+d);e=i}}else if(r==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let i="";for(let d in e){let a=e[d];d=d.replace(w,z).toLowerCase(),Array.isArray(a)?i+=";"+d+":"+a.join(" "):a&&(i+=";"+d+":"+a)}e=i}}else c==="boolean"?e="true":c!=="string"&&(e=e.toString()),r==="value"&&o.value!==e?o.value=e:r==="checked"&&(o.checked=t[r]);o.setAttribute(r,e)}}}if(n)for(let r in n)typeof n[r]=="function"?o.removeEventListener(r,n[r]):(!t||!(r in t)||!t[r])&&(r==="value"?o.value="":r==="checked"&&(o.checked=!1),o.removeAttribute(r))},U=(o,t)=>{let n=(e,c,i,d)=>{var E,g,l;let a=0,s=0;if(c)for(;a<c.length;a++){let f=c[a],_=!1;if(i)for(let N=a-s;N<i.length;N++){let u=i[N];if(u.t&&f.t===u.t||!u.t&&!f.t){_=!0,a!==N&&(e.insertBefore(e.childNodes[N+s],e.childNodes[a]),i.splice(a-s,0,...i.splice(N,1))),f.t?(F(e.childNodes[a],f.a,u.a),n(e.childNodes[a],f.c,u.c,u)):e.childNodes[a].textContent=typeof f=="string"?f:f.c;break}}if(!_){let N;if(f.t){N=document.createElement(f.t),f.a&&F(N,f.a),f.c&&n(N,f.c);let u=(b,A,h)=>{!A||A.t?b.insertAdjacentElement(h,N):b.parentNode.insertBefore(N,b)};a===0?u(e,d,"afterbegin"):((E=i==null?void 0:i.length)!=null?E:0)+s>a?u(e.childNodes[a],i[a+s],"beforebegin"):u(e,d,"beforeend"),s++}else{N=typeof f=="string"?f:f.c;let u=(b,A,h)=>{!A||A.t?b.insertAdjacentText(h,N):b.parentNode.insertBefore(document.createTextNode(N),b.nextSibling)};a===0?u(e,d,"afterbegin"):((g=i==null?void 0:i.length)!=null?g:0)+s>a?u(e.childNodes[a],i[a+s],"beforebegin"):u(e,d,"beforeend"),s++}}}let m=((l=i==null?void 0:i.length)!=null?l:0)+s;if(m>=a)for(let f=m-1;f>=a;f--)e.childNodes[f].remove()},r=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof t=="string")try{t=JSON.parse(t)}catch(e){t=void 0}return t!=null||(t=L(r)),e=>{e=x(e),n(r,e,t),t=e}};j(["staark"],{conditional:S,factory:H,fctory:P,nde:M,node:p,prepare:U,text:B});})();
//# sourceMappingURL=staark-patch.iife.min.js.map
