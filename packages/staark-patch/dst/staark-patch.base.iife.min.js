"use strict";(()=>{var x=function(o,n){let r=window;for(let t=0;t<o.length-1;t++)(typeof r[o[t]]!="object"||!Array.isArray(r[o[t]]))&&(r[o[t]]={}),r=r[o[t]];r[o[o.length-1]]=n};var b=Symbol();var m=(o,n,r)=>((typeof n!="object"||n._===b||Array.isArray(n))&&(r=n,n=void 0),{_:b,a:n,c:r?Array.isArray(r)?r:[r]:[],t:o.toUpperCase()});var h=function(o){return Array.isArray(o)?o:[o]};var A=o=>{let n=[];for(let r=0;r<o.childNodes.length;r++){let t=o.childNodes[r];if(t instanceof Text)n.push(t.textContent??"");else{let e={};for(let N=0;N<t.attributes.length;N++){let a=t.attributes[N];e[a.name]=a.value}n.push(m(t.nodeName,e,A(t)))}}return n};var T=/[A-Z]+(?![a-z])|[A-Z]/g,L=(o,n)=>(n?"-":"")+o,v=(o,n,r)=>{if(n)for(let t in n){let e=n[t];if(e){let N=typeof e;if(N==="function"){o.addEventListener(t,e);continue}else{if(t==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let a="";for(let f in e)e[f]&&(a+=" "+f);e=a}}else if(t==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let a="";for(let f in e){let s=e[f];f=f.replace(T,L).toLowerCase(),Array.isArray(s)?a+=";"+f+":"+s.join(" "):s&&(a+=";"+f+":"+s)}e=a}}else{if(N==="boolean"){if(!e){o.removeAttribute(t);continue}e="true"}else N!=="string"&&(e=e.toString());t==="value"&&o.value!==e?o.value=e:t==="checked"&&(o.checked=n[t])}o.setAttribute(t,e)}}}if(r)for(let t in r)typeof r[t]=="function"?o.removeEventListener(t,r[t]):(!n||!(t in n)||!n[t])&&(t==="value"?o.value="":t==="checked"&&(o.checked=!1),o.removeAttribute(t))},C=(o,n)=>{let r=(e,N,a,f)=>{let s=0,l=0;if(N)for(;s<N.length;s++){let i=N[s],E=!1;if(a)for(let d=s-l;d<a.length;d++){let c=a[d];if(c.t&&i.t===c.t||!c.t&&!i.t){E=!0,s!==d+l&&(e.insertBefore(e.childNodes[d+l],e.childNodes[s]),a.splice(s-l,0,...a.splice(d,1))),i.t?(v(e.childNodes[s],i.a,c.a),r(e.childNodes[s],i.c,c.c,c)):e.childNodes[s].textContent=typeof i=="string"?i:i.c;break}}if(!E){let d;if(i.t){d=document.createElement(i.t),i.a&&v(d,i.a),i.c&&r(d,i.c);let c=(u,p,y)=>{y&&(!p||p.t)?u.insertAdjacentElement(y,d):u.parentNode.insertBefore(d,u)};s===0?c(e,f,"afterbegin"):(a?.length??0)+l>s?c(e.childNodes[s]):c(e,f,"beforeend")}else{d=typeof i=="string"?i:i.c;let c=(u,p,y)=>{y&&(!p||p.t)?u.insertAdjacentText(y,d):u.parentNode.insertBefore(document.createTextNode(d),u.nextSibling)};s===0?c(e,f,"afterbegin"):(a?.length??0)+l>s?c(e.childNodes[s]):c(e,f,"beforeend")}l++}}let g=(a?.length??0)+l;if(g>=s)for(let i=g-1;i>=s;i--)e.childNodes[i].remove()},t=typeof o=="string"?document.querySelector(o)||document.body.appendChild(document.createElement("div")):o;if(typeof n=="string")try{n=JSON.parse(n)}catch{n=void 0}return n??=A(t),e=>{e=h(e),r(t,e,n),n=e}};x(["staark"],{node:m,prepare:C});})();
//# sourceMappingURL=staark-patch.base.iife.min.js.map
