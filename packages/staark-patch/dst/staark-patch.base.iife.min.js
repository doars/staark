"use strict";(()=>{var T=function(t,o){let i=window;for(let n=0;n<t.length-1;n++)(typeof i[t[n]]!="object"||!Array.isArray(i[t[n]]))&&(i[t[n]]={}),i=i[t[n]];i[t[t.length-1]]=o};var l=Symbol();var g=(t,o,i)=>((typeof o!="object"||o._===l||Array.isArray(o))&&(i=o,o=void 0),{_:l,a:o,c:i?Array.isArray(i)?i:[i]:[],t:t.toUpperCase()});var j=function(t){return Array.isArray(t)?t:[t]};var E=t=>{var i;let o=[];for(let n=0;n<t.childNodes.length;n++){let e=t.childNodes[n];if(e instanceof Text)o.push((i=e.textContent)!=null?i:"");else{let c={};for(let r=0;r<e.attributes.length;r++){let f=e.attributes[r];c[f.name]=f.value}o.push(g(e.nodeName,c,E(e)))}}return o};var k=/[A-Z]+(?![a-z])|[A-Z]/g,H=(t,o)=>(o?"-":"")+t,h=(t,o,i)=>{if(o)for(let n in o){let e=o[n];if(e){let c=typeof e;if(c==="function"){t.addEventListener(n,e);continue}else{if(n==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let r="";for(let f in e)e[f]&&(r+=" "+f);e=r}}else if(n==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let r="";for(let f in e){let s=e[f];f=f.replace(k,H).toLowerCase(),Array.isArray(s)?r+=";"+f+":"+s.join(" "):s&&(r+=";"+f+":"+s)}e=r}}else{if(c==="boolean"){if(!e){t.removeAttribute(n);continue}e="true"}else c!=="string"&&(e=e.toString());n==="value"&&t.value!==e?t.value=e:n==="checked"&&(t.checked=o[n])}t.setAttribute(n,e)}}}if(i)for(let n in i)typeof i[n]=="function"?t.removeEventListener(n,i[n]):(!o||!(n in o)||!o[n])&&(n==="value"?t.value="":n==="checked"&&(t.checked=!1),t.removeAttribute(n))},I=(t,o)=>{let i=(e,c,r,f)=>{var A,x,v;let s=0,u=0;if(c)for(;s<c.length;s++){let a=c[s],L=!1;if(r)for(let d=s-u;d<r.length;d++){let N=r[d];if(N.t&&a.t===N.t||!N.t&&!a.t){L=!0,s!==d+u&&(e.insertBefore(e.childNodes[d+u],e.childNodes[s]),r.splice(s-u,0,...r.splice(d,1))),a.t?(h(e.childNodes[s],a.a,N.a),i(e.childNodes[s],a.c,N.c,N)):e.childNodes[s].textContent=typeof a=="string"?a:a.c;break}}if(!L){let d;if(a.t){d=document.createElement(a.t),a.a&&h(d,a.a),a.c&&i(d,a.c);let N=(p,y,m)=>{m&&(!y||y.t)?p.insertAdjacentElement(m,d):p.parentNode.insertBefore(d,p)};s===0?N(e,f,"afterbegin"):((A=r==null?void 0:r.length)!=null?A:0)+u>s?N(e.childNodes[s]):N(e,f,"beforeend")}else{d=typeof a=="string"?a:a.c;let N=(p,y,m)=>{m&&(!y||y.t)?p.insertAdjacentText(m,d):p.parentNode.insertBefore(document.createTextNode(d),p.nextSibling)};s===0?N(e,f,"afterbegin"):((x=r==null?void 0:r.length)!=null?x:0)+u>s?N(e.childNodes[s]):N(e,f,"beforeend")}u++}}let b=((v=r==null?void 0:r.length)!=null?v:0)+u;if(b>=s)for(let a=b-1;a>=s;a--)e.childNodes[a].remove()},n=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof o=="string")try{o=JSON.parse(o)}catch(e){o=void 0}return o!=null||(o=E(n)),e=>{e=j(e),i(n,e,o),o=e}};T(["staark"],{node:g,prepare:I});})();
//# sourceMappingURL=staark-patch.base.iife.min.js.map
