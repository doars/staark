"use strict";(()=>{var T=function(t,o){let s=window;for(let n=0;n<t.length-1;n++)(typeof s[t[n]]!="object"||!Array.isArray(s[t[n]]))&&(s[t[n]]={}),s=s[t[n]];s[t[t.length-1]]=o};var l=Symbol();var g=(t,o,s)=>((typeof o!="object"||o._===l||Array.isArray(o))&&(s=o,o=void 0),{_:l,a:o,c:s?Array.isArray(s)?s:[s]:[],t:t.toUpperCase()});var j=function(t){return Array.isArray(t)?t:[t]};var E=t=>{var s;let o=[];for(let n=0;n<t.childNodes.length;n++)if(t instanceof Text)o.push((s=t.textContent)!=null?s:"");else{let e={};for(let c=0;c<t.attributes.length;c++){let r=t.attributes[c];e[r.name]=r.value}o.push(g(t.nodeName,e,E(t)))}return o};var H=/[A-Z]+(?![a-z])|[A-Z]/g,M=(t,o)=>(o?"-":"")+t,I=(t,o,s)=>{if(o)for(let n in o){let e=o[n];if(e){let c=typeof e;if(c==="function"){t.addEventListener(n,e);continue}else{if(n==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let r="";for(let N in e)e[N]&&(r+=" "+N);e=r}}else if(n==="style"){if(typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let r="";for(let N in e){let i=e[N];N=N.replace(H,M).toLowerCase(),Array.isArray(i)?r+=";"+N+":"+i.join(" "):i&&(r+=";"+N+":"+i)}e=r}}else c==="boolean"?e="true":c!=="string"&&(e=e.toString()),n==="value"&&t.value!==e?t.value=e:n==="checked"&&(t.checked=o[n]);t.setAttribute(n,e)}}}if(s)for(let n in s)typeof s[n]=="function"?t.removeEventListener(n,s[n]):(!o||!(n in o)||!o[n])&&(n==="value"?t.value="":n==="checked"&&(t.checked=!1),t.removeAttribute(n))},k=(t,o)=>{let s=(e,c,r,N)=>{var A,x,v;let i=0,u=0;if(c)for(;i<c.length;i++){let a=c[i],L=!1;if(r)for(let f=i-u;f<r.length;f++){let d=r[f];if(d.t&&a.t===d.t||!d.t&&!a.t){L=!0,i!==f&&(e.insertBefore(e.childNodes[f+u],e.childNodes[i]),r.splice(i-u,0,...r.splice(f,1))),a.t?(I(e.childNodes[i],a.a,d.a),s(e.childNodes[i],a.c,d.c,d)):e.childNodes[i].textContent=typeof a=="string"?a:a.c;break}}if(!L){let f;if(a.t){f=document.createElement(a.t),a.a&&I(f,a.a),a.c&&s(f,a.c);let d=(p,y,m)=>{!y||y.t?p.insertAdjacentElement(m,f):p.parentNode.insertBefore(f,p)};i===0?d(e,N,"afterbegin"):((A=r==null?void 0:r.length)!=null?A:0)+u>i?d(e.childNodes[i],r[i+u],"beforebegin"):d(e,N,"beforeend"),u++}else{f=typeof a=="string"?a:a.c;let d=(p,y,m)=>{!y||y.t?p.insertAdjacentText(m,f):p.parentNode.insertBefore(document.createTextNode(f),p.nextSibling)};i===0?d(e,N,"afterbegin"):((x=r==null?void 0:r.length)!=null?x:0)+u>i?d(e.childNodes[i],r[i+u],"beforebegin"):d(e,N,"beforeend"),u++}}}let b=((v=r==null?void 0:r.length)!=null?v:0)+u;if(b>=i)for(let a=b-1;a>=i;a--)e.childNodes[a].remove()},n=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof o=="string")try{o=JSON.parse(o)}catch(e){o=void 0}return o!=null||(o=E(n)),e=>{e=j(e),s(n,e,o),o=e}};T(["staark"],{node:g,prepare:k});})();
//# sourceMappingURL=staark-patch.base.iife.min.js.map
