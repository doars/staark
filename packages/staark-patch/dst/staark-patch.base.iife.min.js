"use strict";(()=>{var j=function(n,r){let o=window;for(let t=0;t<n.length-1;t++)(typeof o[n[t]]!="object"||!Array.isArray(o[n[t]]))&&(o[n[t]]={}),o=o[n[t]];o[n[n.length-1]]=r};var l="n";var m=(n,r,o)=>((typeof r!="object"||r._===l||Array.isArray(r))&&(o=r,r=void 0),{_:l,a:r,c:o?Array.isArray(o)?o:[o]:[],t:n.toUpperCase()});var k=n=>Array.isArray(n)?n:[n];var E=n=>{var o;let r=[];for(let t=0;t<n.childNodes.length;t++){let e=n.childNodes[t];if(e instanceof Text)r.push((o=e.textContent)!=null?o:"");else{let c={};for(let s=0;s<e.attributes.length;s++){let f=e.attributes[s];c[f.name]=f.value}r.push(m(e.nodeName,c,E(e)))}}return r};var H=/[A-Z]+(?![a-z])|[A-Z]/g,M=(n,r)=>(r?"-":"")+n,T=(n,r,o)=>{if(r)for(let t in r){let e=r[t];if(e){let c=typeof e;if(c==="function"){if(o&&o[t]){if(o[t]===e)continue;n.removeEventListener(t,o[t])}n.addEventListener(t,e)}else if(t==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let s="";for(let f in e)e[f]&&(s+=" "+f);e=s}n.className=e}else if(t==="style"&&typeof e=="object"){for(let s in e){let f=e[s];s=s.replace(H,M).toLowerCase(),Array.isArray(f)&&(f=f.join(" ")),n.style.setProperty(s,f)}if(o&&o[t]&&typeof o[t]=="object"&&!Array.isArray(o[t]))for(let s in o[t])s in e||(s=s.replace(H,M).toLowerCase(),n.style.removeProperty(s))}else{if(c==="boolean"){if(!e){n.removeAttribute(t);continue}e="true"}else c!=="string"&&(e=e.toString());t==="value"&&n.value!==e?n.value=e:t==="checked"&&(n.checked=r[t]),n.setAttribute(t,e)}}}if(o)for(let t in o)(!r||!r[t])&&(typeof o[t]=="function"?n.removeEventListener(t,o[t]):t==="class"?n.className="":t==="style"?n.style="":(t==="value"?n.value="":t==="checked"&&(n.checked=!1),n.removeAttribute(t)))},h=(n,r)=>{let o=(e,c,s,f)=>{var L,x,A;let a=0,u=0;if(c)for(;a<c.length;a++){let i=c[a],b=!1;if(s)for(let d=a-u;d<s.length;d++){let N=s[d];if(N.t&&i.t===N.t||!N.t&&!i.t){b=!0,a!==d+u&&(e.insertBefore(e.childNodes[d+u],e.childNodes[a]),s.splice(a-u,0,...s.splice(d,1))),i.t?(T(e.childNodes[a],i.a,N.a),o(e.childNodes[a],i.c,N.c,N)):N!==i&&(e.childNodes[a].textContent=i);break}}if(!b){let d;if(i.t){d=document.createElement(i.t),i.a&&T(d,i.a),i.c&&o(d,i.c);let N=(p,y,g)=>{g&&(!y||y.t)?p.insertAdjacentElement(g,d):p.parentNode.insertBefore(d,p)};a===0?N(e,f,"afterbegin"):((L=s==null?void 0:s.length)!=null?L:0)+u>a?N(e.childNodes[a]):N(e,f,"beforeend")}else{let N=(p,y,g)=>{g&&(!y||y.t)?p.insertAdjacentText(g,i):p.parentNode.insertBefore(document.createTextNode(i),p)};a===0?N(e,f,"afterbegin"):((x=s==null?void 0:s.length)!=null?x:0)+u>a?N(e.childNodes[a]):N(e,f,"beforeend")}u++}}let v=((A=s==null?void 0:s.length)!=null?A:0)+u;if(v>=a)for(let i=v-1;i>=a;i--)e.childNodes[i].remove()},t=typeof n=="string"?document.querySelector(n)||document.body.appendChild(document.createElement("div")):n;if(typeof r=="string")try{r=JSON.parse(r)}catch(e){r=void 0}return r!=null||(r=E(t)),e=>{e=k(e),o(t,e,r),r=e}};j(["staark"],{node:m,prepare:h});})();
//# sourceMappingURL=staark-patch.base.iife.min.js.map
