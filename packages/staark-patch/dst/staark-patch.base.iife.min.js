"use strict";(()=>{var j=function(t,n){let r=window;for(let o=0;o<t.length-1;o++)(typeof r[t[o]]!="object"||!Array.isArray(r[t[o]]))&&(r[t[o]]={}),r=r[t[o]];r[t[t.length-1]]=n};var l="n";var m=(t,n,r)=>((typeof n!="object"||n._===l||Array.isArray(n))&&(r=n,n=void 0),{_:l,a:n,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var k=t=>Array.isArray(t)?t:[t];var E=t=>{var r;let n=[];for(let o=0;o<t.childNodes.length;o++){let e=t.childNodes[o];if(e instanceof Text)n.push((r=e.textContent)!=null?r:"");else{let c={};for(let s=0;s<e.attributes.length;s++){let f=e.attributes[s];c[f.name]=f.value}n.push(m(e.nodeName,c,E(e)))}}return n};var h=/[A-Z]+(?![a-z])|[A-Z]/g,I=(t,n)=>(n?"-":"")+t,H=(t,n,r)=>{if(n)for(let o in n){let e=n[o];if(e){let c=typeof e;if(c==="function"){if(r&&r[o]){if(r[o]===e)continue;t.removeEventListener(o,r[o])}t.addEventListener(o,e)}else if(o==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let s="";for(let f in e)e[f]&&(s+=" "+f);e=s}t.className=e}else if(o==="style"){if(typeof e=="object")if(Array.isArray(e))for(let s of e){let[f,...i]=s.split(":");t.style.setProperty(f,i.join(":"))}else for(let s in e){let f=e[s];s=s.replace(h,I).toLowerCase(),Array.isArray(f)&&(f=f.join(" ")),t.style.setProperty(s,f.toString())}}else{if(c==="boolean"){if(!e){t.removeAttribute(o);continue}e="true"}else c!=="string"&&(e=e.toString());o==="value"&&t.value!==e?t.value=e:o==="checked"&&(t.checked=n[o]),t.setAttribute(o,e)}}}if(r)for(let o in r)(!n||!n[o])&&(typeof r[o]=="function"?t.removeEventListener(o,r[o]):(o==="value"?t.value="":o==="checked"&&(t.checked=!1),t.removeAttribute(o)))},M=(t,n)=>{let r=(e,c,s,f)=>{var A,L,b;let i=0,u=0;if(c)for(;i<c.length;i++){let a=c[i],x=!1;if(s)for(let d=i-u;d<s.length;d++){let N=s[d];if(N.t&&a.t===N.t||!N.t&&!a.t){x=!0,i!==d+u&&(e.insertBefore(e.childNodes[d+u],e.childNodes[i]),s.splice(i-u,0,...s.splice(d,1))),a.t?(H(e.childNodes[i],a.a,N.a),r(e.childNodes[i],a.c,N.c,N)):N!==a&&(e.childNodes[i].textContent=a);break}}if(!x){let d;if(a.t){d=document.createElement(a.t),a.a&&H(d,a.a),a.c&&r(d,a.c);let N=(p,y,g)=>{g&&(!y||y.t)?p.insertAdjacentElement(g,d):p.parentNode.insertBefore(d,p)};i===0?N(e,f,"afterbegin"):((A=s==null?void 0:s.length)!=null?A:0)+u>i?N(e.childNodes[i]):N(e,f,"beforeend")}else{let N=(p,y,g)=>{g&&(!y||y.t)?p.insertAdjacentText(g,a):p.parentNode.insertBefore(document.createTextNode(a),p)};i===0?N(e,f,"afterbegin"):((L=s==null?void 0:s.length)!=null?L:0)+u>i?N(e.childNodes[i]):N(e,f,"beforeend")}u++}}let v=((b=s==null?void 0:s.length)!=null?b:0)+u;if(v>=i)for(let a=v-1;a>=i;a--)e.childNodes[a].remove()},o=typeof t=="string"?document.querySelector(t)||document.body.appendChild(document.createElement("div")):t;if(typeof n=="string")try{n=JSON.parse(n)}catch(e){n=void 0}return n!=null||(n=E(o)),e=>{e=k(e),r(o,e,n),n=e}};j(["staark"],{node:m,prepare:M});})();
//# sourceMappingURL=staark-patch.base.iife.min.js.map
