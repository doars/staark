(()=>{var C=(e,t)=>{let o=window;for(let r=0;r<e.length-1;r++)(typeof o[e[r]]!="object"||!Array.isArray(o[e[r]]))&&(o[e[r]]={}),o=o[e[r]];o[e[e.length-1]]=t};var d=e=>l(e)||[],l=e=>e?Array.isArray(e)?e:[e]:void 0;var j=(e,t,o)=>{let r=e?t:o;return typeof r=="function"&&(r=r()),d(r)};var y="n";var u=(e,t,o)=>(t&&(typeof t!="object"||t._===y||Array.isArray(t))&&(o=t,t=void 0),{_:y,a:t,c:l(o),t:e.toUpperCase()});var E=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[t]=(r,f)=>u(o,r,f)}});var L="]",_="[",v=".",D="=",I="#",b="'",A='"',m={attribute:0,class:1,id:2,type:3},g=e=>{let t=e.length,o=0,r="",f={},i="",n=!0,c=m.type,a=()=>{if(i){switch(c){case m.attribute:f[i]=n===!0?!0:n,n=!0;break;case m.class:if(!f.class){f.class=i;break}f.class+=" "+i;break;case m.id:f.id=i;break;case m.type:r=i;break}i=""}},s,p,Z=()=>{for(p=0;o<t;){if(s=e[o],o++,s===D){n="",s=e[o];let x=s===A,T=s===b;for((x||T)&&(n+=s,o++);o<t;){if(s=e[o],x&&s===A||T&&s===b){n+=s,o++;break}else if(!x&&!T&&s===L)break;n+=s,o++}for((n[0]===A&&n[n.length-1]===A||n[0]===b&&n[n.length-1]===b)&&(n=n.substring(1,n.length-1));o<t&&(s=e[o],o++,s!==L););break}else if(s===_){p++;continue}else if(s===L){if(p--,p<0)break;continue}i+=s}a()};for(;o<t;){if(s=e[o],o++,s===I){a(),c=m.id;continue}else if(s===v){a(),c=m.class;continue}else if(s===_){a(),c=m.attribute,Z();continue}i+=s}return[r,f]};var U=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return e[t]=(r,f)=>{let i;if(r){let[n,c]=g(r);i=c}return u(o,i,f)}}});var G=0,P=e=>e+"-"+G++;var O=(e,t,o)=>{let r;return t&&e in t&&t[e]?r=t[e]:r=o,typeof r=="function"&&(r=r()),d(r)};var N=(e,t)=>({_:y,r:e,m:t});var B=(e,t)=>{let[o,r]=g(e);return{_:y,a:r,c:l(t),t:o.toUpperCase()}};var F=["base","br","hr","img","input","link","meta","source","wbr"],K=/[A-Z]+(?![a-z])|[A-Z]/g,R=(e,t)=>(t?"-":"")+e,H=e=>{let t="";if(e)for(let o in e){let r=e[o];if(r!=null){let f=typeof r;if(f==="boolean"?r=r?"true":"false":f!=="string"&&(r=r.toString()),o==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let i="";for(let n in r)r[n]&&(i+=" "+n);r=i}}else if(o==="style"&&typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let i="";for(let n in r){let c=r[n];n=n.replace(K,R).toLowerCase(),Array.isArray(c)?i+=";"+n+":"+c.join(" "):r&&(i+=";"+n+":"+r)}r=i}t+=" "+o+'="'+r+'"'}}return t},Q=e=>{let t="";if(e)for(let o of e)o&&(o.t?(t+="<"+o.t.toLocaleLowerCase()+H(o.a),F.includes(o.t)?t+="/>":(t+=">",o.c&&(t+=Q(o.c)),t+="</"+o.t.toLocaleLowerCase()+">")):t+=" "+o+" ");return t},h=e=>(e=l(e),[Q(e),e]),w=(e,t)=>{t||(t={});let o=f=>{let i="";if(f)for(let n of f)n&&(n.m?i+=o(l(n.r(t,n.m))):n.t?(i+="<"+n.t.toLocaleLowerCase()+H(n.a),F.includes(n.t)?i+="/>":(i+=">",n.c&&(i+=o(n.c)),i+="</"+n.t.toLocaleLowerCase()+">")):i+=" "+n+" ");return i},r=l(e(t));return[o(r),r]},k=e=>typeof e=="number"||typeof e=="boolean"?String(e):typeof e=="string"?'"'+e.replace(/"/g,'\\"')+'"':Array.isArray(e)?"["+e.map(t=>k(t)).join(",")+"]":typeof e=="object"?"{"+Object.keys(e).filter(r=>!r.startsWith("_")).map(r=>'"'+r+'":'+k(e[r])+'"').join(",")+"}":"null",S=e=>{let[t,o]=h(e);return[t,k(o)]},z=(e,t)=>{t||(t={});let[o,r]=w(e,t);return[o,k(r),JSON.stringify(t)]};C(["staark"],{conditional:j,factory:E,fctory:U,identifier:P,match:O,memo:N,nde:B,node:u,stringify:w,stringifyFull:z,stringifyPatch:h,stringifyPatchFull:S});})();
