"use strict";(()=>{var k=function(t,r){let o=window;for(let e=0;e<t.length-1;e++)(typeof o[t[e]]!="object"||!Array.isArray(o[t[e]]))&&(o[t[e]]={}),o=o[t[e]];o[t[t.length-1]]=r};var f=Symbol();var b=(t,r,o)=>((typeof r!="object"||r._===f||Array.isArray(r))&&(o=r,r=void 0),{_:f,a:r,c:o?Array.isArray(o)?o:[o]:[],t:t.toUpperCase()});var T=new Proxy({},{get:(t,r)=>{if(t[r])return t[r];let o=(r[0]+r.substring(1).replace(/([A-Z])/g,e=>"-"+e)).toUpperCase();return t[r]=(e,c)=>b(o,e,c)}});var g="]",F="[",R=".",M="=",S="#",u="'",y='"';var l=t=>{let r=t.length,o=0,e="",c={},s="",n=!0,a=3,d=()=>{if(s){switch(a){case 0:c[s]=n===!0?!0:n,n=!0;break;case 1:if(!c.class){c.class=s;break}c.class+=" "+s;break;case 2:c.id=s;break;case 3:e=s;break}s=""}},i,m,h=()=>{for(m=0;o<r;){if(i=t[o],o++,i===M){n="",i=t[o];let A=i===y,p=i===u;for((A||p)&&(n+=i,o++);o<r;){if(i=t[o],A&&i===y||p&&i===u){n+=i,o++;break}else if(!A&&!p&&i===g)break;n+=i,o++}for((n[0]===y&&n[n.length-1]===y||n[0]===u&&n[n.length-1]===u)&&(n=n.substring(1,n.length-1));o<r&&(i=t[o],o++,i!==g););break}else if(i===F){m++;continue}else if(i===g){if(m--,m<0)break;continue}s+=i}d()};for(;o<r;){if(i=t[o],o++,i===S){d(),a=2;continue}else if(i===R){d(),a=1;continue}else if(i===F){d(),a=0,h();continue}s+=i}return[e,c]};var w=new Proxy({},{get:(t,r)=>{if(t[r])return t[r];let o=(r[0]+r.substring(1).replace(/([A-Z])/g,e=>"-"+e)).toUpperCase();return t[r]=(e,c)=>{let s;if(e){let[n,a]=l(e);s=a}return b(o,s,c)}}});var _=(t,r)=>({_:f,r:t,m:r});var j=(t,r)=>{let[o,e]=l(t);return{_:f,a:e,c:r?Array.isArray(r)?r:[r]:[],t:o.toUpperCase()}};var N=function(t){return Array.isArray(t)?t:[t]};var U=["base","br","hr","img","input","link","meta","source","wbr"],O=/[A-Z]+(?![a-z])|[A-Z]/g,v=(t,r)=>(r?"-":"")+t,P=(t=null)=>{let r="";if(t)for(let o in t){let e=t[o];if(e!=null){let c=typeof e;if(c==="boolean"?e=e?"true":"false":c!=="string"&&(e=e.toString()),o==="class"){if(typeof e=="object")if(Array.isArray(e))e=e.join(" ");else{let s="";for(let n in e)e[n]&&(s+=" "+n);e=s}}else if(o==="style"&&typeof e=="object")if(Array.isArray(e))e=e.join(";");else{let s="";for(let n in e){let a=e[n];n=n.replace(O,v).toLowerCase(),Array.isArray(a)?s+=";"+n+":"+a.join(" "):e&&(s+=";"+n+":"+e)}e=s}r+=" "+o+'="'+e+'"'}}return r},x=(t,r)=>{r||(r={});let o=(c=null)=>{let s="";if(c)for(let n of c)n&&(n.m?s+=o(N(n.r(r,n.m))):n.t?(s+="<"+n.t.toLocaleLowerCase()+P(n.a),U.includes(n.t)?s+="/>":(s+=">",n.c&&(s+=o(n.c)),s+="</"+n.t.toLocaleLowerCase()+">")):s+=" "+(n.c?n.c:n)+" ");return s},e=N(t(r));return[o(e),e]},C=t=>{if(typeof t=="number"||typeof t=="boolean")return String(t);if(typeof t=="string")return'"'.concat(t.replace(/"/g,'\\"'),'"');if(Array.isArray(t))return"[".concat(t.map(r=>C(r)).join(","),"]");if(typeof t=="object"){let o=Object.keys(t).filter(e=>!e.startsWith("_")).map(e=>'"'.concat(e,'":').concat(C(t[e]))).join(",");return"{".concat(o,"}")}return"null"},E=(t,r)=>{r||(r={});let[o,e]=x(t,r);return[o,C(e),JSON.stringify(r)]};var L=t=>({_:f,c:Array.isArray(t)?t.join(""):""+t});k(["staark"],{factory:T,fctory:w,memo:_,nde:j,node:b,stringify:x,stringifyFull:E,text:L});})();
//# sourceMappingURL=staark-isomorphic.iife.min.js.map
