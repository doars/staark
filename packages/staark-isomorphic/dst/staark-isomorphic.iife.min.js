"use strict";(()=>{var g=function(r,e){let t=window;for(let o=0;o<r.length-1;o++)(typeof t[r[o]]!="object"||!Array.isArray(t[r[o]]))&&(t[r[o]]={}),t=t[r[o]];t[r[r.length-1]]=e};var b=Symbol();var f=(r,e,t)=>((typeof e!="object"||e._===b||Array.isArray(e))&&(t=e,e=void 0),{_:b,a:e,c:Array.isArray(t)?t:[t],t:r.toUpperCase()});var C=new Proxy({},{get:(r,e)=>{if(r[e])return r[e];let t=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return r[e]=(o,c)=>f(t,o,c)}});var N="]",x="[",_=".",h="=",E="#",d="'",A='"';var l=r=>{let e=r.length,t=0,o="",c={},i="",n=!0,a=3,y=()=>{if(i){switch(a){case 0:c[i]=n===!0?!0:n,n=!0;break;case 1:if(!c.class){c.class=i;break}c.class+=" "+i;break;case 2:c.id=i;break;case 3:o=i;break}i=""}},s,u,F=()=>{for(u=0;t<e;){if(s=r[t],t++,s===h){n="",s=r[t];let p=s===A,m=s===d;for((p||m)&&(n+=s,t++);t<e;){if(s=r[t],p&&s===A||m&&s===d){n+=s,t++;break}else if(!p&&!m&&s===N)break;n+=s,t++}for((n[0]===A&&n[n.length-1]===A||n[0]===d&&n[n.length-1]===d)&&(n=n.substring(1,n.length-1));t<e&&(s=r[t],t++,s!==N););break}else if(s===x){u++;continue}else if(s===N){if(u--,u<0)break;continue}i+=s}y()};for(;t<e;){if(s=r[t],t++,s===E){y(),a=2;continue}else if(s===_){y(),a=1;continue}else if(s===x){y(),a=0,F();continue}i+=s}return[o,c]};var k=new Proxy({},{get:(r,e)=>{if(r[e])return r[e];let t=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return r[e]=(o,c)=>{let i;if(o){let[n,a]=l(o);i=a}return f(t,i,c)}}});var j=(r,e)=>{let[t,o]=l(r);return{_:b,a:o,c:Array.isArray(e)?e:[e],t:t.toUpperCase()}};var T=function(r){return Array.isArray(r)?r:[r]};var L=["base","br","hr","img","input","link","meta","source","wbr"],S=/[A-Z]+(?![a-z])|[A-Z]/g,U=(r,e)=>(e?"-":"")+r,P=(r=null)=>{let e="";if(r)for(let t in r){let o=r[t];if(o!==null){let c=typeof o;if(c==="boolean"?o=o?"true":"false":c!=="string"&&(o=o.toString()),t==="class"){if(typeof o=="object")if(Array.isArray(o))o=o.join(" ");else{let i="";for(let n in o)o[n]&&(i+=" "+n);o=i}}else if(t==="style"&&typeof o=="object")if(Array.isArray(o))o=o.join(";");else{let i="";for(let n in o){let a=o[n];n=n.replace(S,U).toLowerCase(),Array.isArray(a)?i+=";"+n+":"+a.join(" "):o&&(i+=";"+n+":"+o)}o=i}e+=" "+t+'="'+o+'"'}}return e},O=(r=null)=>{let e="";if(r)for(let t of r)t.t?(e+="<"+t.t.toLocaleLowerCase()+P(t.a),L.includes(t.t)?e+="/>":(e+=">",t.c&&(e+=O(t.c)),e+="</"+t.t.toLocaleLowerCase()+">")):e+=" "+(t.c?t.c:t)+" ";return e},w=(r,e)=>{e||(e={});let t=T(r(e));return[O(t),t]};var G=r=>({_:b,c:Array.isArray(r)?r.join(""):""+r});g(["staark"],{factory:C,fctory:k,nde:j,node:f,stringify:w,text:G});})();
//# sourceMappingURL=staark-isomorphic.iife.min.js.map
