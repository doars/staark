var N=t=>{var e;return(e=a(t))!=null?e:[]},a=t=>t?Array.isArray(t)?t:[t]:void 0;var S=(t,e,r)=>{let o=t?e:r;return typeof o=="function"&&(o=o()),N(o)};var f="n";var l=(t,e,r)=>((typeof e!="object"||e._===f||Array.isArray(e))&&(r=e,e=void 0),{_:f,a:e,c:a(r),t:t.toUpperCase()});var K=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,c)=>l(r,o,c)}});var x="]",k="[",R=".",w="=",_="#",y="'",A='"';var p=t=>{let e=t.length,r=0,o="",c={},s="",n=!0,d=3,u=()=>{if(s){switch(d){case 0:c[s]=n===!0?!0:n,n=!0;break;case 1:if(!c.class){c.class=s;break}c.class+=" "+s;break;case 2:c.id=s;break;case 3:o=s;break}s=""}},i,b,h=()=>{for(b=0;r<e;){if(i=t[r],r++,i===w){n="",i=t[r];let g=i===A,C=i===y;for((g||C)&&(n+=i,r++);r<e;){if(i=t[r],g&&i===A||C&&i===y){n+=i,r++;break}else if(!g&&!C&&i===x)break;n+=i,r++}for((n[0]===A&&n[n.length-1]===A||n[0]===y&&n[n.length-1]===y)&&(n=n.substring(1,n.length-1));r<e&&(i=t[r],r++,i!==x););break}else if(i===k){b++;continue}else if(i===x){if(b--,b<0)break;continue}s+=i}u()};for(;r<e;){if(i=t[r],r++,i===_){u(),d=2;continue}else if(i===R){u(),d=1;continue}else if(i===k){u(),d=0,h();continue}s+=i}return[o,c]};var et=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,c)=>{let s;if(o){let[n,d]=p(o);s=d}return l(r,s,c)}}});var E=0,ot=t=>t+"-"+E++;var it=(t,e)=>{let r;return e&&t in e&&e[t]&&(r=e[t],typeof r=="function"&&(r=r())),N(r)};var at=(t,e)=>({_:f,r:t,m:e});var yt=(t,e)=>{let[r,o]=p(t);return{_:f,a:o,c:a(e),t:r.toUpperCase()}};var F=["base","br","hr","img","input","link","meta","source","wbr"],v=/[A-Z]+(?![a-z])|[A-Z]/g,j=(t,e)=>(e?"-":"")+t,T=t=>{let e="";if(t)for(let r in t){let o=t[r];if(o!=null){let c=typeof o;if(c==="boolean"?o=o?"true":"false":c!=="string"&&(o=o.toString()),r==="class"){if(typeof o=="object")if(Array.isArray(o))o=o.join(" ");else{let s="";for(let n in o)o[n]&&(s+=" "+n);o=s}}else if(r==="style"&&typeof o=="object")if(Array.isArray(o))o=o.join(";");else{let s="";for(let n in o){let d=o[n];n=n.replace(v,j).toLowerCase(),Array.isArray(d)?s+=";"+n+":"+d.join(" "):o&&(s+=";"+n+":"+o)}o=s}e+=" "+r+'="'+o+'"'}}return e},L=t=>{let e="";if(t)for(let r of t)r&&(r.t?(e+="<"+r.t.toLocaleLowerCase()+T(r.a),F.includes(r.t)?e+="/>":(e+=">",r.c&&(e+=L(r.c)),e+="</"+r.t.toLocaleLowerCase()+">")):e+=" "+r+" ");return e},U=t=>(t=a(t),[L(t),t]),M=(t,e)=>{e||(e={});let r=c=>{let s="";if(c)for(let n of c)n&&(n.m?s+=r(a(n.r(e,n.m))):n.t?(s+="<"+n.t.toLocaleLowerCase()+T(n.a),F.includes(n.t)?s+="/>":(s+=">",n.c&&(s+=r(n.c)),s+="</"+n.t.toLocaleLowerCase()+">")):s+=" "+n+" ");return s},o=a(t(e));return[r(o),o]},m=t=>typeof t=="number"||typeof t=="boolean"?String(t):typeof t=="string"?'"'+t.replace(/"/g,'\\"')+'"':Array.isArray(t)?"["+t.map(e=>m(e)).join(",")+"]":typeof t=="object"?"{"+Object.keys(t).filter(o=>!o.startsWith("_")).map(o=>'"'+o+'":'+m(t[o])+'"').join(",")+"}":"null",mt=t=>{let[e,r]=U(t);return[e,m(r)]},gt=(t,e)=>{e||(e={});let[r,o]=M(t,e);return[r,m(o),JSON.stringify(e)]};export{S as conditional,K as factory,et as fctory,ot as identifier,it as match,at as memo,yt as nde,l as node,M as stringify,gt as stringifyFull,U as stringifyPatch,mt as stringifyPatchFull};
//# sourceMappingURL=staark-isomorphic.min.js.map
