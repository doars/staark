var d=e=>Array.isArray(e)?e:[e];var O=(e,t,r)=>{let o=e?t:r;return typeof o=="function"&&(o=o()),o?d(o):[]};var f="n";var N=(e,t,r)=>((typeof t!="object"||t._===f||Array.isArray(t))&&(r=t,t=void 0),{_:f,a:t,c:r?Array.isArray(r)?r:[r]:void 0,t:e.toUpperCase()});var I=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[t]=(o,c)=>N(r,o,c)}});var C="]",x="[",h=".",R="=",w="#",l="'",A='"';var y=e=>{let t=e.length,r=0,o="",c={},s="",n=!0,a=3,u=()=>{if(s){switch(a){case 0:c[s]=n===!0?!0:n,n=!0;break;case 1:if(!c.class){c.class=s;break}c.class+=" "+s;break;case 2:c.id=s;break;case 3:o=s;break}s=""}},i,b,T=()=>{for(b=0;r<t;){if(i=e[r],r++,i===R){n="",i=e[r];let m=i===A,g=i===l;for((m||g)&&(n+=i,r++);r<t;){if(i=e[r],m&&i===A||g&&i===l){n+=i,r++;break}else if(!m&&!g&&i===C)break;n+=i,r++}for((n[0]===A&&n[n.length-1]===A||n[0]===l&&n[n.length-1]===l)&&(n=n.substring(1,n.length-1));r<t&&(i=e[r],r++,i!==C););break}else if(i===x){b++;continue}else if(i===C){if(b--,b<0)break;continue}s+=i}u()};for(;r<t;){if(i=e[r],r++,i===w){u(),a=2;continue}else if(i===h){u(),a=1;continue}else if(i===x){u(),a=0,T();continue}s+=i}return[o,c]};var $=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[t]=(o,c)=>{let s;if(o){let[n,a]=y(o);s=a}return N(r,s,c)}}});var _=0,et=e=>e+"-"+_++;var nt=(e,t)=>{if(t&&e in t&&t[e]){let r=t[e];return typeof r=="function"&&(r=r(),!r)?[]:d(r)}return[]};var ct=(e,t)=>({_:f,r:e,m:t});var ut=(e,t)=>{let[r,o]=y(e);return{_:f,a:o,c:t?Array.isArray(t)?t:[t]:void 0,t:r.toUpperCase()}};var k=["base","br","hr","img","input","link","meta","source","wbr"],E=/[A-Z]+(?![a-z])|[A-Z]/g,v=(e,t)=>(t?"-":"")+e,F=e=>{let t="";if(e)for(let r in e){let o=e[r];if(o!=null){let c=typeof o;if(c==="boolean"?o=o?"true":"false":c!=="string"&&(o=o.toString()),r==="class"){if(typeof o=="object")if(Array.isArray(o))o=o.join(" ");else{let s="";for(let n in o)o[n]&&(s+=" "+n);o=s}}else if(r==="style"&&typeof o=="object")if(Array.isArray(o))o=o.join(";");else{let s="";for(let n in o){let a=o[n];n=n.replace(E,v).toLowerCase(),Array.isArray(a)?s+=";"+n+":"+a.join(" "):o&&(s+=";"+n+":"+o)}o=s}t+=" "+r+'="'+o+'"'}}return t},L=e=>{let t="";if(e)for(let r of e)r&&(r.t?(t+="<"+r.t.toLocaleLowerCase()+F(r.a),k.includes(r.t)?t+="/>":(t+=">",r.c&&(t+=L(r.c)),t+="</"+r.t.toLocaleLowerCase()+">")):t+=" "+r+" ");return t},j=e=>e?(e=d(e),[L(e),e]):["",[]],M=(e,t)=>{t||(t={});let r=c=>{let s="";if(c)for(let n of c)n&&(n.m?s+=r(d(n.r(t,n.m))):n.t?(s+="<"+n.t.toLocaleLowerCase()+F(n.a),k.includes(n.t)?s+="/>":(s+=">",n.c&&(s+=r(n.c)),s+="</"+n.t.toLocaleLowerCase()+">")):s+=" "+n+" ");return s},o=d(e(t));return[r(o),o]},p=e=>typeof e=="number"||typeof e=="boolean"?String(e):typeof e=="string"?'"'+e.replace(/"/g,'\\"')+'"':Array.isArray(e)?"["+e.map(t=>p(t)).join(",")+"]":typeof e=="object"?"{"+Object.keys(e).filter(o=>!o.startsWith("_")).map(o=>'"'+o+'":'+p(e[o])+'"').join(",")+"}":"null",lt=e=>{let[t,r]=j(e);return[t,p(r)]},At=(e,t)=>{t||(t={});let[r,o]=M(e,t);return[r,p(o),JSON.stringify(t)]};export{O as conditional,I as factory,$ as fctory,et as identifier,nt as match,ct as memo,ut as nde,N as node,M as stringify,At as stringifyFull,j as stringifyPatch,lt as stringifyPatchFull};
//# sourceMappingURL=staark-isomorphic.min.js.map
