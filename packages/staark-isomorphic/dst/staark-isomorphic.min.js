var f=function(t){return Array.isArray(t)?t:[t]};var U=(t,e,r)=>t?f(e):f(r!=null?r:[]);var d=Symbol();var A=(t,e,r)=>((typeof e!="object"||e._===d||Array.isArray(e))&&(r=e,e=void 0),{_:d,a:e,c:r?Array.isArray(r)?r:[r]:[],t:t.toUpperCase()});var Z=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,c)=>A(r,o,c)}});var C="]",x="[",w=".",_="=",E="#",m="'",N='"';var p=t=>{let e=t.length,r=0,o="",c={},s="",n=!0,a=3,b=()=>{if(s){switch(a){case 0:c[s]=n===!0?!0:n,n=!0;break;case 1:if(!c.class){c.class=s;break}c.class+=" "+s;break;case 2:c.id=s;break;case 3:o=s;break}s=""}},i,u,L=()=>{for(u=0;r<e;){if(i=t[r],r++,i===_){n="",i=t[r];let l=i===N,g=i===m;for((l||g)&&(n+=i,r++);r<e;){if(i=t[r],l&&i===N||g&&i===m){n+=i,r++;break}else if(!l&&!g&&i===C)break;n+=i,r++}for((n[0]===N&&n[n.length-1]===N||n[0]===m&&n[n.length-1]===m)&&(n=n.substring(1,n.length-1));r<e&&(i=t[r],r++,i!==C););break}else if(i===x){u++;continue}else if(i===C){if(u--,u<0)break;continue}s+=i}b()};for(;r<e;){if(i=t[r],r++,i===E){b(),a=2;continue}else if(i===w){b(),a=1;continue}else if(i===x){b(),a=0,L();continue}s+=i}return[o,c]};var q=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let r=(e[0]+e.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return t[e]=(o,c)=>{let s;if(o){let[n,a]=p(o);s=a}return A(r,s,c)}}});var et=(t,e)=>({_:d,r:t,m:e});var st=(t,e)=>{let[r,o]=p(t);return{_:d,a:o,c:e?Array.isArray(e)?e:[e]:[],t:r.toUpperCase()}};var at=t=>({_:d,c:Array.isArray(t)?t.join(""):""+t});var k=["base","br","hr","img","input","link","meta","source","wbr"],F=/[A-Z]+(?![a-z])|[A-Z]/g,j=(t,e)=>(e?"-":"")+t,T=t=>{let e="";if(t)for(let r in t){let o=t[r];if(o!=null){let c=typeof o;if(c==="boolean"?o=o?"true":"false":c!=="string"&&(o=o.toString()),r==="class"){if(typeof o=="object")if(Array.isArray(o))o=o.join(" ");else{let s="";for(let n in o)o[n]&&(s+=" "+n);o=s}}else if(r==="style"&&typeof o=="object")if(Array.isArray(o))o=o.join(";");else{let s="";for(let n in o){let a=o[n];n=n.replace(F,j).toLowerCase(),Array.isArray(a)?s+=";"+n+":"+a.join(" "):o&&(s+=";"+n+":"+o)}o=s}e+=" "+r+'="'+o+'"'}}return e},h=t=>{let e="";if(t)for(let r of t)r&&(r.t?(e+="<"+r.t.toLocaleLowerCase()+T(r.a),k.includes(r.t)?e+="/>":(e+=">",r.c&&(e+=h(r.c)),e+="</"+r.t.toLocaleLowerCase()+">")):e+=" "+(r.c?r.c:r)+" ");return e},M=t=>(t=f(t!=null?t:[]),[h(t),t]),R=(t,e)=>{e||(e={});let r=c=>{let s="";if(c)for(let n of c)n&&(n.m?s+=r(f(n.r(e,n.m))):n.t?(s+="<"+n.t.toLocaleLowerCase()+T(n.a),k.includes(n.t)?s+="/>":(s+=">",n.c&&(s+=r(n.c)),s+="</"+n.t.toLocaleLowerCase()+">")):s+=" "+(n.c?n.c:n)+" ");return s},o=f(t(e));return[r(o),o]},y=t=>{if(typeof t=="number"||typeof t=="boolean")return String(t);if(typeof t=="string")return'"'.concat(t.replace(/"/g,'\\"'),'"');if(Array.isArray(t))return"[".concat(t.map(e=>y(e)).join(","),"]");if(typeof t=="object"){let r=Object.keys(t).filter(o=>!o.startsWith("_")).map(o=>'"'.concat(o,'":').concat(y(t[o]))).join(",");return"{".concat(r,"}")}return"null"},bt=t=>{let[e,r]=M(t);return[e,y(r)]},ut=(t,e)=>{e||(e={});let[r,o]=R(t,e);return[r,y(o),JSON.stringify(e)]};export{U as conditional,Z as factory,q as fctory,et as memo,st as nde,A as node,R as stringify,ut as stringifyFull,M as stringifyPatch,bt as stringifyPatchFull,at as text};
//# sourceMappingURL=staark-isomorphic.min.js.map
