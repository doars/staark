var l=e=>{var t;return(t=a(e))!=null?t:[]},a=e=>e?Array.isArray(e)?e:[e]:void 0;var B=(e,t,o)=>{let n=e?t:o;return typeof n=="function"&&(n=n()),l(n)};var f="n";var b=(e,t,o)=>((typeof t!="object"||t._===f||Array.isArray(t))&&(o=t,t=void 0),{_:f,a:t,c:a(o),t:e.toUpperCase()});var K=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,d)=>b(o,n,d)}});var x="]",T="[",h=".",w="=",_="#",y="'",p='"';var m=e=>{let t=e.length,o=0,n="",d={},s="",r=!0,c=3,u=()=>{if(s){switch(c){case 0:d[s]=r===!0?!0:r,r=!0;break;case 1:if(!d.class){d.class=s;break}d.class+=" "+s;break;case 2:d.id=s;break;case 3:n=s;break}s=""}},i,N,R=()=>{for(N=0;o<t;){if(i=e[o],o++,i===w){r="",i=e[o];let A=i===p,g=i===y;for((A||g)&&(r+=i,o++);o<t;){if(i=e[o],A&&i===p||g&&i===y){r+=i,o++;break}else if(!A&&!g&&i===x)break;r+=i,o++}for((r[0]===p&&r[r.length-1]===p||r[0]===y&&r[r.length-1]===y)&&(r=r.substring(1,r.length-1));o<t&&(i=e[o],o++,i!==x););break}else if(i===T){N++;continue}else if(i===x){if(N--,N<0)break;continue}s+=i}u()};for(;o<t;){if(i=e[o],o++,i===_){u(),c=2;continue}else if(i===h){u(),c=1;continue}else if(i===T){u(),c=0,R();continue}s+=i}return[n,d]};var te=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let o=(t[0]+t.substring(1).replace(/([A-Z])/g,n=>"-"+n)).toUpperCase();return e[t]=(n,d)=>{let s;if(n){let[r,c]=m(n);s=c}return b(o,s,d)}}});var v=0,oe=e=>e+"-"+v++;var ie=(e,t,o)=>{let n;return t&&e in t&&t[e]?n=t[e]:n=o,typeof n=="function"&&(n=n()),l(n)};var ae=(e,t)=>({_:f,r:e,m:t});var ye=(e,t)=>{let[o,n]=m(e);return{_:f,a:n,c:a(t),t:o.toUpperCase()}};var F=["base","br","hr","img","input","link","meta","source","wbr"],E=/[A-Z]+(?![a-z])|[A-Z]/g,j=(e,t)=>(t?"-":"")+e,k=e=>{let t="";if(e)for(let o in e){let n=e[o];if(n!=null){let d=typeof n;if(d==="boolean"?n=n?"true":"false":d!=="string"&&(n=n.toString()),o==="class"){if(typeof n=="object")if(Array.isArray(n))n=n.join(" ");else{let s="";for(let r in n)n[r]&&(s+=" "+r);n=s}}else if(o==="style"&&typeof n=="object")if(Array.isArray(n))n=n.join(";");else{let s="";for(let r in n){let c=n[r];r=r.replace(E,j).toLowerCase(),Array.isArray(c)?s+=";"+r+":"+c.join(" "):n&&(s+=";"+r+":"+n)}n=s}t+=" "+o+'="'+n+'"'}}return t},L=e=>{let t="";if(e)for(let o of e)o&&(o.t?(t+="<"+o.t.toLocaleLowerCase()+k(o.a),F.includes(o.t)?t+="/>":(t+=">",o.c&&(t+=L(o.c)),t+="</"+o.t.toLocaleLowerCase()+">")):t+=" "+o+" ");return t},M=e=>(e=a(e),[L(e),e]),U=(e,t)=>{t||(t={});let o=d=>{let s="";if(d)for(let r of d)r&&(r.m?s+=o(a(r.r(t,r.m))):r.t?(s+="<"+r.t.toLocaleLowerCase()+k(r.a),F.includes(r.t)?s+="/>":(s+=">",r.c&&(s+=o(r.c)),s+="</"+r.t.toLocaleLowerCase()+">")):s+=" "+r+" ");return s},n=a(e(t));return[o(n),n]},C=e=>typeof e=="number"||typeof e=="boolean"?String(e):typeof e=="string"?'"'+e.replace(/"/g,'\\"')+'"':Array.isArray(e)?"["+e.map(t=>C(t)).join(",")+"]":typeof e=="object"?"{"+Object.keys(e).filter(n=>!n.startsWith("_")).map(n=>'"'+n+'":'+C(e[n])+'"').join(",")+"}":"null",Ce=e=>{let[t,o]=M(e);return[t,C(o)]},Ae=(e,t)=>{t||(t={});let[o,n]=U(e,t);return[o,C(n),JSON.stringify(t)]};export{B as conditional,K as factory,te as fctory,oe as identifier,ie as match,ae as memo,ye as nde,b as node,U as stringify,Ae as stringifyFull,M as stringifyPatch,Ce as stringifyPatchFull};
//# sourceMappingURL=staark-isomorphic.min.js.map
