var b=Symbol();var d=(e,t,r)=>((typeof t!="object"||t._===b||Array.isArray(t))&&(r=t,t=void 0),{_:b,a:t,c:Array.isArray(r)?r:[r],t:e.toUpperCase()});var $=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[t]=(o,c)=>d(r,o,c)}});var m="]",C="[",j=".",O="=",h="#",y="'",p='"';var l=e=>{let t=e.length,r=0,o="",c={},i="",n=!0,a=3,f=()=>{if(i){switch(a){case 0:c[i]=n===!0?!0:n,n=!0;break;case 1:if(!c.class){c.class=i;break}c.class+=" "+i;break;case 2:c.id=i;break;case 3:o=i;break}i=""}},s,u,T=()=>{for(u=0;r<t;){if(s=e[r],r++,s===O){n="",s=e[r];let A=s===p,N=s===y;for((A||N)&&(n+=s,r++);r<t;){if(s=e[r],A&&s===p||N&&s===y){n+=s,r++;break}else if(!A&&!N&&s===m)break;n+=s,r++}for((n[0]===p&&n[n.length-1]===p||n[0]===y&&n[n.length-1]===y)&&(n=n.substring(1,n.length-1));r<t&&(s=e[r],r++,s!==m););break}else if(s===C){u++;continue}else if(s===m){if(u--,u<0)break;continue}i+=s}f()};for(;r<t;){if(s=e[r],r++,s===h){f(),a=2;continue}else if(s===j){f(),a=1;continue}else if(s===C){f(),a=0,T();continue}i+=s}return[o,c]};var R=new Proxy({},{get:(e,t)=>{if(e[t])return e[t];let r=(t[0]+t.substring(1).replace(/([A-Z])/g,o=>"-"+o)).toUpperCase();return e[t]=(o,c)=>{let i;if(o){let[n,a]=l(o);i=a}return d(r,i,c)}}});var Y=(e,t)=>{let[r,o]=l(e);return{_:b,a:o,c:Array.isArray(t)?t:[t],t:r.toUpperCase()}};var x=function(e){return Array.isArray(e)?e:[e]};var F=["base","br","hr","img","input","link","meta","source","wbr"],_=/[A-Z]+(?![a-z])|[A-Z]/g,w=(e,t)=>(t?"-":"")+e,G=(e=null)=>{let t="";if(e)for(let r in e){let o=e[r];if(o!=null){let c=typeof o;if(c==="boolean"?o=o?"true":"false":c!=="string"&&(o=o.toString()),r==="class"){if(typeof o=="object")if(Array.isArray(o))o=o.join(" ");else{let i="";for(let n in o)o[n]&&(i+=" "+n);o=i}}else if(r==="style"&&typeof o=="object")if(Array.isArray(o))o=o.join(";");else{let i="";for(let n in o){let a=o[n];n=n.replace(_,w).toLowerCase(),Array.isArray(a)?i+=";"+n+":"+a.join(" "):o&&(i+=";"+n+":"+o)}o=i}t+=" "+r+'="'+o+'"'}}return t},k=(e=null)=>{let t="";if(e)for(let r of e)r&&(r.t?(t+="<"+r.t.toLocaleLowerCase()+G(r.a),F.includes(r.t)?t+="/>":(t+=">",r.c&&(t+=k(r.c)),t+="</"+r.t.toLocaleLowerCase()+">")):t+=" "+(r.c?r.c:r)+" ");return t},E=(e,t)=>{t||(t={});let r=x(e(t));return[k(r),r]},g=e=>{if(typeof e=="number"||typeof e=="boolean")return String(e);if(typeof e=="string")return'"'.concat(e.replace(/"/g,'\\"'),'"');if(Array.isArray(e))return"[".concat(e.map(t=>g(t)).join(","),"]");if(typeof e=="object"){let r=Object.keys(e).filter(o=>!o.startsWith("_")).map(o=>'"'.concat(o,'":').concat(g(e[o]))).join(",");return"{".concat(r,"}")}return"null"},et=(e,t)=>{t||(t={});let[r,o]=E(e,t);return[r,g(o),JSON.stringify(t)]};var nt=e=>({_:b,c:Array.isArray(e)?e.join(""):""+e});export{$ as factory,R as fctory,Y as nde,d as node,E as stringify,et as stringifyFull,nt as text};
//# sourceMappingURL=staark-isomorphic.min.js.map
