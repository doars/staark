var b=Symbol();var d=(t,e,n)=>((typeof e!="object"||e._===b||Array.isArray(e))&&(n=e,e=void 0),{_:b,a:e,c:n?Array.isArray(n)?n:[n]:[],t:t.toUpperCase()});var B=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let n=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,c)=>d(n,r,c)}});var N="]",x="[",T=".",F="=",h="#",m="'",p='"';var y=t=>{let e=t.length,n=0,r="",c={},s="",o=!0,a=3,f=()=>{if(s){switch(a){case 0:c[s]=o===!0?!0:o,o=!0;break;case 1:if(!c.class){c.class=s;break}c.class+=" "+s;break;case 2:c.id=s;break;case 3:r=s;break}s=""}},i,u,k=()=>{for(u=0;n<e;){if(i=t[n],n++,i===F){o="",i=t[n];let A=i===p,l=i===m;for((A||l)&&(o+=i,n++);n<e;){if(i=t[n],A&&i===p||l&&i===m){o+=i,n++;break}else if(!A&&!l&&i===N)break;o+=i,n++}for((o[0]===p&&o[o.length-1]===p||o[0]===m&&o[o.length-1]===m)&&(o=o.substring(1,o.length-1));n<e&&(i=t[n],n++,i!==N););break}else if(i===x){u++;continue}else if(i===N){if(u--,u<0)break;continue}s+=i}f()};for(;n<e;){if(i=t[n],n++,i===h){f(),a=2;continue}else if(i===T){f(),a=1;continue}else if(i===x){f(),a=0,k();continue}s+=i}return[r,c]};var D=new Proxy({},{get:(t,e)=>{if(t[e])return t[e];let n=(e[0]+e.substring(1).replace(/([A-Z])/g,r=>"-"+r)).toUpperCase();return t[e]=(r,c)=>{let s;if(r){let[o,a]=y(r);s=a}return d(n,s,c)}}});var J=(t,e)=>({_:b,r:t,m:e});var X=(t,e)=>{let[n,r]=y(t);return{_:b,a:r,c:e?Array.isArray(e)?e:[e]:[],t:n.toUpperCase()}};var g=function(t){return Array.isArray(t)?t:[t]};var _=["base","br","hr","img","input","link","meta","source","wbr"],j=/[A-Z]+(?![a-z])|[A-Z]/g,w=(t,e)=>(e?"-":"")+t,E=(t=null)=>{let e="";if(t)for(let n in t){let r=t[n];if(r!=null){let c=typeof r;if(c==="boolean"?r=r?"true":"false":c!=="string"&&(r=r.toString()),n==="class"){if(typeof r=="object")if(Array.isArray(r))r=r.join(" ");else{let s="";for(let o in r)r[o]&&(s+=" "+o);r=s}}else if(n==="style"&&typeof r=="object")if(Array.isArray(r))r=r.join(";");else{let s="";for(let o in r){let a=r[o];o=o.replace(j,w).toLowerCase(),Array.isArray(a)?s+=";"+o+":"+a.join(" "):r&&(s+=";"+o+":"+r)}r=s}e+=" "+n+'="'+r+'"'}}return e},L=(t,e)=>{e||(e={});let n=(c=null)=>{let s="";if(c)for(let o of c)o&&(o.m?s+=n(g(o.r(e,o.m))):o.t?(s+="<"+o.t.toLocaleLowerCase()+E(o.a),_.includes(o.t)?s+="/>":(s+=">",o.c&&(s+=n(o.c)),s+="</"+o.t.toLocaleLowerCase()+">")):s+=" "+(o.c?o.c:o)+" ");return s},r=g(t(e));return[n(r),r]},C=t=>{if(typeof t=="number"||typeof t=="boolean")return String(t);if(typeof t=="string")return'"'.concat(t.replace(/"/g,'\\"'),'"');if(Array.isArray(t))return"[".concat(t.map(e=>C(e)).join(","),"]");if(typeof t=="object"){let n=Object.keys(t).filter(r=>!r.startsWith("_")).map(r=>'"'.concat(r,'":').concat(C(t[r]))).join(",");return"{".concat(n,"}")}return"null"},ot=(t,e)=>{e||(e={});let[n,r]=L(t,e);return[n,C(r),JSON.stringify(e)]};var it=t=>({_:b,c:Array.isArray(t)?t.join(""):""+t});export{B as factory,D as fctory,J as memo,X as nde,d as node,L as stringify,ot as stringifyFull,it as text};
//# sourceMappingURL=staark-isomorphic.min.js.map
